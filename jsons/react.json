{
  "guide_metadata": {
    "created_date": "2025-11-08",
    "target_audience": "Senior —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∏",
    "covered_versions": "18.x",
    "language": "–†—É—Å—Å–∫–∏–π",
    "total_questions": 43,
    "total_chapters": 8,
    "difficulty_level": "Senior",
    "tags": [
      "React",
      "Frontend",
      "JavaScript"
    ]
  },
  "guide_name": "React Developer - Senior Level Interview Guide",
  "guide_description": "–≠—Ç–æ—Ç –≥–∞–π–¥ –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω –¥–ª—è –ø–æ–¥–≥–æ—Ç–æ–≤–∫–∏ –∫ —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–æ–º—É –∏–Ω—Ç–µ—Ä–≤—å—é –Ω–∞ –ø–æ–∑–∏—Ü–∏—é **Senior React Developer**.\n\n### –ß—Ç–æ –ø–æ–∫—Ä—ã–≤–∞–µ—Ç —ç—Ç–æ—Ç –≥–∞–π–¥:\n\n‚úÖ **React 18+** - Concurrent Features, Suspense, Transitions\n‚úÖ **Modern Hooks** - useState, useEffect, useContext, useReducer, Custom Hooks\n‚úÖ **Advanced Patterns** - HOC, Render Props, Compound Components, Controlled Components\n‚úÖ **State Management** - Context API, Redux Toolkit, Zustand, Recoil\n‚úÖ **Performance** - Memoization, Code Splitting, Lazy Loading, Virtualization\n‚úÖ **React Router** - v6 API, Nested Routes, Protected Routes\n‚úÖ **Forms** - Controlled/Uncontrolled, React Hook Form, Validation\n‚úÖ **Testing** - Jest, React Testing Library, E2E with Playwright\n\n### –§–æ–∫—É—Å –Ω–∞ Senior-level —Ç–µ–º—ã:\n\nüî• **–ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞** - Component design, Composition vs Inheritance, Separation of Concerns\nüî• **Performance** - React.memo, useMemo, useCallback, Code Splitting, Bundle size\nüî• **Best Practices** - TypeScript integration, Error Boundaries, Accessibility\nüî• **Real-world scenarios** - Pagination, Infinite scroll, Forms, Authentication\n\n---",
  "guide_table_of_contents": [],
  "guide_chapters": [
    {
      "chapter_number": 1,
      "chapter_title": "React Core & Fundamentals",
      "questions_count": 5,
      "questions": [
        {
          "question_number": 1,
          "question_number_in_chapter": 1,
          "question_chapter": 1,
          "question_title": "–ß—Ç–æ —Ç–∞–∫–æ–µ Virtual DOM? –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç Reconciliation –≤ React?",
          "answer_markdown": "\n**–û—Ç–≤–µ—Ç:**\n\n**Virtual DOM** ‚Äî —ç—Ç–æ –ª–µ–≥–∫–æ–≤–µ—Å–Ω–æ–µ JavaScript –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ —Ä–µ–∞–ª—å–Ω–æ–≥–æ DOM. React –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –µ–≥–æ –¥–ª—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π UI.\n\n**–ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç Virtual DOM:**\n\n1. **Render** - React —Å–æ–∑–¥–∞—ë—Ç Virtual DOM tree –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ state/props\n2. **Diffing** - React —Å—Ä–∞–≤–Ω–∏–≤–∞–µ—Ç –Ω–æ–≤—ã–π Virtual DOM —Å–æ —Å—Ç–∞—Ä—ã–º (reconciliation)\n3. **Patch** - React –æ–±–Ω–æ–≤–ª—è–µ—Ç —Ç–æ–ª—å–∫–æ –∏–∑–º–µ–Ω—ë–Ω–Ω—ã–µ —É–∑–ª—ã –≤ —Ä–µ–∞–ª—å–Ω–æ–º DOM\n\n**Reconciliation Algorithm:**\n\n```javascript\n// –ü—Ä–∏–º–µ—Ä reconciliation\n// –ë–´–õ–û:\n<ul>\n  <li>Item 1</li>\n  <li>Item 2</li>\n</ul>\n\n// –°–¢–ê–õ–û:\n<ul>\n  <li>Item 1</li>\n  <li>Item 2</li>\n  <li>Item 3</li>  // ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω —Ç–æ–ª—å–∫–æ —ç—Ç–æ—Ç —ç–ª–µ–º–µ–Ω—Ç\n</ul>\n\n// React –æ–±–Ω–æ–≤–∏—Ç —Ç–æ–ª—å–∫–æ –Ω–æ–≤—ã–π <li>, –Ω–µ –ø–µ—Ä–µ—Å–æ–∑–¥–∞–≤–∞—è –≤–µ—Å—å —Å–ø–∏—Å–æ–∫\n```\n\n**–ü—Ä–∞–≤–∏–ª–∞ Reconciliation:**\n\n| –°—Ü–µ–Ω–∞—Ä–∏–π | –ü–æ–≤–µ–¥–µ–Ω–∏–µ React |\n|----------|-----------------|\n| –†–∞–∑–Ω—ã–µ —Ç–∏–ø—ã —ç–ª–µ–º–µ–Ω—Ç–æ–≤ | –ü–æ–ª–Ω–∞—è –ø–µ—Ä–µ—Å–±–æ—Ä–∫–∞ –ø–æ–¥–¥–µ—Ä–µ–≤–∞ |\n| –û–¥–∏–Ω–∞–∫–æ–≤—ã–µ —Ç–∏–ø—ã | –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∞—Ç—Ä–∏–±—É—Ç–æ–≤ |\n| Key –∞—Ç—Ä–∏–±—É—Ç | –ò–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –≤ —Å–ø–∏—Å–∫–∞—Ö |\n\n**–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è —Å –ø–æ–º–æ—â—å—é key:**\n\n```jsx\n// ‚ùå –ë–ï–ó key - React –ø–µ—Ä–µ—Å–æ–∑–¥–∞—Å—Ç –≤—Å–µ —ç–ª–µ–º–µ–Ω—Ç—ã\n{items.map(item => (\n  <Item value={item.value} />\n))}\n\n// ‚úÖ –° key - React –æ–±–Ω–æ–≤–∏—Ç —Ç–æ–ª—å–∫–æ –∏–∑–º–µ–Ω—ë–Ω–Ω—ã–µ\n{items.map(item => (\n  <Item key={item.id} value={item.value} />\n))}\n```\n\n**Fiber Architecture (React 16+):**\n\nReact Fiber ‚Äî –Ω–æ–≤—ã–π reconciliation engine:\n- **Incremental Rendering** - —Ä–∞–∑–±–∏–≤–∞–µ—Ç —Ä–∞–±–æ—Ç—É –Ω–∞ chunks\n- **Pause/Resume** - –º–æ–∂–µ—Ç –ø—Ä–∏–æ—Å—Ç–∞–Ω–æ–≤–∏—Ç—å/–≤–æ–∑–æ–±–Ω–æ–≤–∏—Ç—å —Ä–∞–±–æ—Ç—É\n- **Priority** - –ø—Ä–∏–æ—Ä–∏—Ç–∏–∑–∏—Ä—É–µ—Ç –≤–∞–∂–Ω—ã–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è\n- **Concurrent Mode** - —Ä–µ–Ω–¥–µ—Ä–∏—Ç –Ω–µ—Å–∫–æ–ª—å–∫–æ –≤–µ—Ä—Å–∏–π UI –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ\n\n",
          "best_practices": [],
          "difficulty": "Senior"
        },
        {
          "question_number": 2,
          "question_number_in_chapter": 2,
          "question_chapter": 1,
          "question_title": "–í —á—ë–º —Ä–∞–∑–Ω–∏—Ü–∞ –º–µ–∂–¥—É Class Components –∏ Functional Components? Hooks?",
          "answer_markdown": "\n**–û—Ç–≤–µ—Ç:**\n\n**Class Components** (legacy) vs **Functional Components** (modern):\n\n**–°—Ä–∞–≤–Ω–∏—Ç–µ–ª—å–Ω–∞—è —Ç–∞–±–ª–∏—Ü–∞:**\n\n| –•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∞ | Class Components | Functional Components |\n|----------------|------------------|----------------------|\n| **–°–∏–Ω—Ç–∞–∫—Å–∏—Å** | ES6 class | Function |\n| **State** | this.state | useState hook |\n| **Lifecycle** | componentDidMount, etc. | useEffect hook |\n| **Performance** | –ù–µ–º–Ω–æ–≥–æ –º–µ–¥–ª–µ–Ω–Ω–µ–µ | –ë—ã—Å—Ç—Ä–µ–µ |\n| **–ö–æ–¥** | –ë–æ–ª—å—à–µ boilerplate | –ú–µ–Ω—å—à–µ –∫–æ–¥–∞ |\n| **–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è** | Legacy | ‚úÖ –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –≤–µ–∑–¥–µ |\n\n**Class Component:**\n\n```jsx\nclass Counter extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = { count: 0 };\n    this.increment = this.increment.bind(this);  // ‚ùå –ù—É–∂–µ–Ω bind\n  }\n\n  componentDidMount() {\n    console.log('Mounted');\n  }\n\n  componentDidUpdate(prevProps, prevState) {\n    if (prevState.count !== this.state.count) {\n      console.log('Count changed');\n    }\n  }\n\n  componentWillUnmount() {\n    console.log('Unmounted');\n  }\n\n  increment() {\n    this.setState({ count: this.state.count + 1 });\n  }\n\n  render() {\n    return (\n      <div>\n        <p>Count: {this.state.count}</p>\n        <button onClick={this.increment}>Increment</button>\n      </div>\n    );\n  }\n}\n```\n\n**Functional Component —Å Hooks:**\n\n```jsx\nfunction Counter() {\n  const [count, setCount] = useState(0);\n\n  // ‚úÖ useEffect –æ–±—ä–µ–¥–∏–Ω—è–µ—Ç componentDidMount, componentDidUpdate, componentWillUnmount\n  useEffect(() => {\n    console.log('Mounted or count changed');\n\n    return () => {\n      console.log('Cleanup');\n    };\n  }, [count]);\n\n  // ‚úÖ –ù–µ –Ω—É–∂–µ–Ω bind\n  const increment = () => setCount(count + 1);\n\n  return (\n    <div>\n      <p>Count: {count}</p>\n      <button onClick={increment}>Increment</button>\n    </div>\n  );\n}\n```\n\n**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ Functional Components:**\n\n‚úÖ **–ú–µ–Ω—å—à–µ –∫–æ–¥–∞** - –Ω–µ—Ç –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–∞, bind, this\n‚úÖ **–ü—Ä–æ—â–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å** - –ø—Ä–æ—Å—Ç–æ —Ñ—É–Ω–∫—Ü–∏—è\n‚úÖ **–õ—É—á—à–µ –∫–æ–º–ø–æ–∑–∏—Ü–∏—è** - custom hooks –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã\n‚úÖ **Performance** - –º–µ–Ω—å—à–µ overhead\n‚úÖ **–õ–µ–≥—á–µ —á–∏—Ç–∞—Ç—å** - –Ω–µ—Ç this –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞\n\n**Hooks Rules:**\n\n```jsx\n// ‚úÖ –í—ã–∑—ã–≤–∞–π—Ç–µ hooks —Ç–æ–ª—å–∫–æ –Ω–∞ top level\nfunction Component() {\n  const [state, setState] = useState(0);  // ‚úÖ\n\n  if (condition) {\n    const [other, setOther] = useState(0);  // ‚ùå –£—Å–ª–æ–≤–Ω—ã–π –≤—ã–∑–æ–≤!\n  }\n}\n\n// ‚úÖ –í—ã–∑—ã–≤–∞–π—Ç–µ hooks —Ç–æ–ª—å–∫–æ –≤ React —Ñ—É–Ω–∫—Ü–∏—è—Ö\nfunction Component() {\n  const [state, setState] = useState(0);  // ‚úÖ\n}\n\nfunction regularFunction() {\n  const [state, setState] = useState(0);  // ‚ùå –ù–µ React –∫–æ–º–ø–æ–Ω–µ–Ω—Ç!\n}\n```\n\n**–ú–∏–≥—Ä–∞—Ü–∏—è Class ‚Üí Functional:**\n\n```jsx\n// ‚ùå Class Component\nclass UserProfile extends React.Component {\n  state = { user: null, loading: true };\n\n  async componentDidMount() {\n    const user = await fetchUser(this.props.userId);\n    this.setState({ user, loading: false });\n  }\n\n  render() {\n    if (this.state.loading) return <div>Loading...</div>;\n    return <div>{this.state.user.name}</div>;\n  }\n}\n\n// ‚úÖ Functional Component\nfunction UserProfile({ userId }) {\n  const [user, setUser] = useState(null);\n  const [loading, setLoading] = useState(true);\n\n  useEffect(() => {\n    fetchUser(userId).then(user => {\n      setUser(user);\n      setLoading(false);\n    });\n  }, [userId]);\n\n  if (loading) return <div>Loading...</div>;\n  return <div>{user.name}</div>;\n}\n```\n\n\n",
          "best_practices": [],
          "difficulty": "Senior"
        },
        {
          "question_number": 3,
          "question_number_in_chapter": 3,
          "question_chapter": 1,
          "question_title": "–ß—Ç–æ —Ç–∞–∫–æ–µ JSX? –ö–∞–∫ –æ–Ω —Ä–∞–±–æ—Ç–∞–µ—Ç –ø–æ–¥ –∫–∞–ø–æ—Ç–æ–º?",
          "answer_markdown": "\n**–û—Ç–≤–µ—Ç:**\n\n**JSX (JavaScript XML)** ‚Äî —Å–∏–Ω—Ç–∞–∫—Å–∏—á–µ—Å–∫–∏–π —Å–∞—Ö–∞—Ä –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è React —ç–ª–µ–º–µ–Ω—Ç–æ–≤. Babel –∫–æ–º–ø–∏–ª–∏—Ä—É–µ—Ç JSX –≤ JavaScript.\n\n**JSX ‚Üí JavaScript:**\n\n```jsx\n// ‚úÖ JSX —Å–∏–Ω—Ç–∞–∫—Å–∏—Å\nconst element = <h1 className=\"title\">Hello, World!</h1>;\n\n// ‚öôÔ∏è Babel –∫–æ–º–ø–∏–ª–∏—Ä—É–µ—Ç –≤:\nconst element = React.createElement(\n  'h1',\n  { className: 'title' },\n  'Hello, World!'\n);\n\n// üì¶ –†–µ–∑—É–ª—å—Ç–∞—Ç (React Element):\n{\n  type: 'h1',\n  props: {\n    className: 'title',\n    children: 'Hello, World!'\n  }\n}\n```\n\n**–ë–æ–ª–µ–µ —Å–ª–æ–∂–Ω—ã–π –ø—Ä–∏–º–µ—Ä:**\n\n```jsx\n// JSX\nconst element = (\n  <div className=\"container\">\n    <h1>Title</h1>\n    <p>Description</p>\n    <Button onClick={handleClick}>Click me</Button>\n  </div>\n);\n\n// –ö–æ–º–ø–∏–ª–∏—Ä—É–µ—Ç—Å—è –≤:\nconst element = React.createElement(\n  'div',\n  { className: 'container' },\n  React.createElement('h1', null, 'Title'),\n  React.createElement('p', null, 'Description'),\n  React.createElement(Button, { onClick: handleClick }, 'Click me')\n);\n```\n\n**JSX –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏:**\n\n```jsx\n// ‚úÖ JavaScript –≤—ã—Ä–∞–∂–µ–Ω–∏—è –≤ —Ñ–∏–≥—É—Ä–Ω—ã—Ö —Å–∫–æ–±–∫–∞—Ö\n<div>{2 + 2}</div>  // 4\n<div>{user.name}</div>\n<div>{condition ? 'Yes' : 'No'}</div>\n\n// ‚úÖ –ê—Ç—Ä–∏–±—É—Ç—ã camelCase\n<div className=\"container\" tabIndex={0} onClick={handler} />\n\n// ‚úÖ –°–∞–º–æ–∑–∞–∫—Ä—ã–≤–∞—é—â–∏–µ—Å—è —Ç–µ–≥–∏\n<img src={url} />\n<Input />\n\n// ‚úÖ Fragments\n<>\n  <h1>Title</h1>\n  <p>Text</p>\n</>\n\n// –ö–æ–º–ø–∏–ª–∏—Ä—É–µ—Ç—Å—è –≤:\nReact.createElement(React.Fragment, null, ...)\n\n// ‚úÖ Spread attributes\n<Component {...props} />\n\n// ‚ùå –ù–µ–ª—å–∑—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å if/for –Ω–∞–ø—Ä—è–º—É—é\n<div>\n  {if (condition) { return <span>Text</span> }}  // ‚ùå –û—à–∏–±–∫–∞!\n</div>\n\n// ‚úÖ –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Ç–µ—Ä–Ω–∞—Ä–Ω—ã–π –æ–ø–µ—Ä–∞—Ç–æ—Ä –∏–ª–∏ &&\n<div>\n  {condition && <span>Text</span>}  // ‚úÖ\n  {condition ? <span>Yes</span> : <span>No</span>}  // ‚úÖ\n</div>\n```\n\n**JSX Security:**\n\n```jsx\n// ‚úÖ JSX –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —ç–∫—Ä–∞–Ω–∏—Ä—É–µ—Ç –∑–Ω–∞—á–µ–Ω–∏—è (–∑–∞—â–∏—Ç–∞ –æ—Ç XSS)\nconst userInput = '<script>alert(\"XSS\")</script>';\n<div>{userInput}</div>  // ‚úÖ –û—Ç–æ–±—Ä–∞–∑–∏—Ç—Å—è –∫–∞–∫ —Ç–µ–∫—Å—Ç, –Ω–µ –≤—ã–ø–æ–ª–Ω–∏—Ç—Å—è\n\n// ‚ö†Ô∏è dangerouslySetInnerHTML - –æ–ø–∞—Å–Ω–æ!\n<div dangerouslySetInnerHTML={{ __html: userInput }} />  // ‚ùå XSS —É—è–∑–≤–∏–º–æ—Å—Ç—å!\n\n// ‚úÖ –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ –¥–ª—è sanitization\nimport DOMPurify from 'dompurify';\n<div dangerouslySetInnerHTML={{ __html: DOMPurify.sanitize(userInput) }} />\n```\n\n**JSX vs Template Strings:**\n\n```jsx\n// ‚ùå Template strings - –Ω–µ JSX\nconst element = `<div className=\"title\">${name}</div>`;\n\n// ‚úÖ JSX - type-safe, –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–Ω—ã–π\nconst element = <div className=\"title\">{name}</div>;\n```\n\n**TypeScript + JSX (TSX):**\n\n```tsx\ninterface Props {\n  name: string;\n  age: number;\n}\n\n// ‚úÖ Type-safe JSX\nconst Component: React.FC<Props> = ({ name, age }) => (\n  <div>\n    {name} is {age} years old\n  </div>\n);\n\n// ‚ùå Type error\n<Component name=\"John\" age=\"30\" />  // age –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å number\n```\n\n\n\n",
          "best_practices": [],
          "difficulty": "Senior"
        },
        {
          "question_number": 4,
          "question_number_in_chapter": 4,
          "question_chapter": 1,
          "question_title": "Props vs State? –ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∫–∞–∂–¥—ã–π?",
          "answer_markdown": "\n**–û—Ç–≤–µ—Ç:**\n\n**Props** (properties) - –¥–∞–Ω–Ω—ã–µ, –ø–µ—Ä–µ–¥–∞–≤–∞–µ–º—ã–µ –æ—Ç —Ä–æ–¥–∏—Ç–µ–ª—è –∫ —Ä–µ–±—ë–Ω–∫—É.\n**State** - –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞.\n\n**–°—Ä–∞–≤–Ω–∏—Ç–µ–ª—å–Ω–∞—è —Ç–∞–±–ª–∏—Ü–∞:**\n\n| –•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∞ | Props | State |\n|----------------|-------|-------|\n| **–ú—É—Ç–∞–±–µ–ª—å–Ω–æ—Å—Ç—å** | Read-only | –ò–∑–º–µ–Ω—è–µ–º—ã–π |\n| **–í–ª–∞–¥–µ–ª–µ—Ü** | –†–æ–¥–∏—Ç–µ–ª—å—Å–∫–∏–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç | –°–∞–º –∫–æ–º–ø–æ–Ω–µ–Ω—Ç |\n| **–ò–∑–º–µ–Ω–µ–Ω–∏–µ** | –¢–æ–ª—å–∫–æ —Ä–æ–¥–∏—Ç–µ–ª—å | setState/useState |\n| **–ü–µ—Ä–µ–¥–∞—á–∞** | –°–≤–µ—Ä—Ö—É –≤–Ω–∏–∑ | –õ–æ–∫–∞–ª—å–Ω–æ |\n| **Default** | defaultProps | –ù–∞—á–∞–ª—å–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ |\n\n**Props:**\n\n```jsx\n// ‚úÖ Props - –ø–µ—Ä–µ–¥–∞—ë–º –¥–∞–Ω–Ω—ã–µ —Å–≤–µ—Ä—Ö—É –≤–Ω–∏–∑\nfunction Parent() {\n  return <Child name=\"John\" age={30} />;\n}\n\nfunction Child({ name, age }) {\n  // ‚ùå –ù–µ–ª—å–∑—è –∏–∑–º–µ–Ω—è—Ç—å props\n  // name = \"Jane\";  // –û—à–∏–±–∫–∞!\n  \n  return <div>{name} is {age} years old</div>;\n}\n\n// ‚úÖ Props —Å TypeScript\ninterface ChildProps {\n  name: string;\n  age: number;\n  isActive?: boolean;  // Optional prop\n}\n\nconst Child: React.FC<ChildProps> = ({ name, age, isActive = false }) => (\n  <div>{name}</div>\n);\n```\n\n**State:**\n\n```jsx\n// ‚úÖ State - –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞\nfunction Counter() {\n  const [count, setCount] = useState(0);\n\n  // ‚úÖ –ú–æ–∂–µ–º –∏–∑–º–µ–Ω—è—Ç—å state\n  const increment = () => setCount(count + 1);\n\n  return (\n    <div>\n      <p>Count: {count}</p>\n      <button onClick={increment}>+</button>\n    </div>\n  );\n}\n```\n\n**–ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Props:**\n\n‚úÖ –î–∞–Ω–Ω—ã–µ –Ω–µ –∏–∑–º–µ–Ω—è—é—Ç—Å—è –≤–Ω—É—Ç—Ä–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞\n‚úÖ –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞\n‚úÖ Callback —Ñ—É–Ω–∫—Ü–∏–∏ –æ—Ç —Ä–æ–¥–∏—Ç–µ–ª—è\n‚úÖ –ü–µ—Ä–µ–¥–∞—á–∞ –¥–∞–Ω–Ω—ã—Ö –≤–Ω–∏–∑ –ø–æ –¥–µ—Ä–µ–≤—É\n\n**–ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å State:**\n\n‚úÖ –î–∞–Ω–Ω—ã–µ –∏–∑–º–µ–Ω—è—é—Ç—Å—è —Å–æ –≤—Ä–µ–º–µ–Ω–µ–º\n‚úÖ UI —Å–æ—Å—Ç–æ—è–Ω–∏–µ (open/closed, loading, etc.)\n‚úÖ Form inputs\n‚úÖ –ö–æ–º–ø–æ–Ω–µ–Ω—Ç —É–ø—Ä–∞–≤–ª—è–µ—Ç —Å–≤–æ–∏–º–∏ –¥–∞–Ω–Ω—ã–º–∏\n\n**–ü–∞—Ç—Ç–µ—Ä–Ω: Lifting State Up:**\n\n```jsx\n// ‚úÖ –ü–æ–¥–Ω–∏–º–∞–µ–º state –≤ –æ–±—â–µ–≥–æ —Ä–æ–¥–∏—Ç–µ–ª—è\nfunction Parent() {\n  const [value, setValue] = useState('');\n\n  return (\n    <>\n      <Input value={value} onChange={setValue} />\n      <Display value={value} />\n    </>\n  );\n}\n\nfunction Input({ value, onChange }) {\n  return <input value={value} onChange={e => onChange(e.target.value)} />;\n}\n\nfunction Display({ value }) {\n  return <div>{value}</div>;\n}\n```\n\n**Derived State (–≤—ã—á–∏—Å–ª—è–µ–º–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ):**\n\n```jsx\nfunction UserProfile({ user }) {\n  // ‚ùå –ù–ï –¥—É–±–ª–∏—Ä—É–π—Ç–µ props –≤ state\n  const [userName, setUserName] = useState(user.name);  // –ü–ª–æ—Ö–æ!\n\n  // ‚úÖ –í—ã—á–∏—Å–ª—è–π—Ç–µ –Ω–∞ –æ—Å–Ω–æ–≤–µ props\n  const displayName = user.name.toUpperCase();  // –•–æ—Ä–æ—à–æ!\n\n  // ‚úÖ –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ useMemo –¥–ª—è —Ç—è–∂—ë–ª—ã—Ö –≤—ã—á–∏—Å–ª–µ–Ω–∏–π\n  const expensiveValue = useMemo(() => {\n    return heavyCalculation(user);\n  }, [user]);\n\n  return <div>{displayName}</div>;\n}\n```\n\n\n",
          "best_practices": [],
          "difficulty": "Senior"
        },
        {
          "question_number": 5,
          "question_number_in_chapter": 5,
          "question_chapter": 1,
          "question_title": "Controlled vs Uncontrolled Components? Refs?",
          "answer_markdown": "\n**–û—Ç–≤–µ—Ç:**\n\n**Controlled Component** - React –∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä—É–µ—Ç –∑–Ω–∞—á–µ–Ω–∏–µ (—á–µ—Ä–µ–∑ state).\n**Uncontrolled Component** - DOM –∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä—É–µ—Ç –∑–Ω–∞—á–µ–Ω–∏–µ (—á–µ—Ä–µ–∑ ref).\n\n**Controlled Component (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è):**\n\n```jsx\nfunction ControlledForm() {\n  const [value, setValue] = useState('');\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    console.log('Submitted:', value);\n  };\n\n  return (\n    <form onSubmit={handleSubmit}>\n      {/* ‚úÖ React –∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä—É–µ—Ç –∑–Ω–∞—á–µ–Ω–∏–µ —á–µ—Ä–µ–∑ state */}\n      <input\n        type=\"text\"\n        value={value}\n        onChange={e => setValue(e.target.value)}\n      />\n      <button type=\"submit\">Submit</button>\n    </form>\n  );\n}\n\n// ‚úÖ –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:\n// - –í–∞–ª–∏–¥–∞—Ü–∏—è –Ω–∞ –∫–∞–∂–¥–æ–º –∏–∑–º–µ–Ω–µ–Ω–∏–∏\n// - –£—Å–ª–æ–≤–Ω–∞—è –ª–æ–≥–∏–∫–∞\n// - Instant feedback\n// - Predictable state\n```\n\n**Uncontrolled Component:**\n\n```jsx\nfunction UncontrolledForm() {\n  const inputRef = useRef(null);\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    // ‚úÖ –ß–∏—Ç–∞–µ–º –∑–Ω–∞—á–µ–Ω–∏–µ –∏–∑ DOM\n    console.log('Submitted:', inputRef.current.value);\n  };\n\n  return (\n    <form onSubmit={handleSubmit}>\n      {/* ‚ö†Ô∏è DOM –∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä—É–µ—Ç –∑–Ω–∞—á–µ–Ω–∏–µ */}\n      <input type=\"text\" ref={inputRef} defaultValue=\"Initial\" />\n      <button type=\"submit\">Submit</button>\n    </form>\n  );\n}\n\n// ‚ö†Ô∏è –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –∫–æ–≥–¥–∞:\n// - –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å non-React –∫–æ–¥–æ–º\n// - File inputs (–≤—Å–µ–≥–¥–∞ uncontrolled)\n// - –ü—Ä–æ—Å—Ç—ã–µ —Ñ–æ—Ä–º—ã –±–µ–∑ –≤–∞–ª–∏–¥–∞—Ü–∏–∏\n```\n\n**useRef hook:**\n\n```jsx\nfunction Component() {\n  // ‚úÖ Ref –¥–ª—è DOM —ç–ª–µ–º–µ–Ω—Ç–∞\n  const inputRef = useRef(null);\n  \n  // ‚úÖ Ref –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è –º—É—Ç–∞–±–µ–ª—å–Ω–æ–≥–æ –∑–Ω–∞—á–µ–Ω–∏—è\n  const countRef = useRef(0);\n\n  useEffect(() => {\n    // ‚úÖ –î–æ—Å—Ç—É–ø –∫ DOM\n    inputRef.current.focus();\n\n    // ‚úÖ Ref –Ω–µ –≤—ã–∑—ã–≤–∞–µ—Ç —Ä–µ-—Ä–µ–Ω–¥–µ—Ä –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏\n    countRef.current += 1;\n    console.log('Render count:', countRef.current);\n  });\n\n  return <input ref={inputRef} />;\n}\n```\n\n**forwardRef - –ø–µ—Ä–µ–¥–∞—á–∞ ref –¥–æ—á–µ—Ä–Ω–µ–º—É –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—É:**\n\n```jsx\n// ‚úÖ forwardRef –ø–æ–∑–≤–æ–ª—è–µ—Ç –ø–µ—Ä–µ–¥–∞—Ç—å ref —á–µ—Ä–µ–∑ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç\nconst FancyInput = forwardRef((props, ref) => (\n  <input ref={ref} className=\"fancy\" {...props} />\n));\n\nfunction Parent() {\n  const inputRef = useRef(null);\n\n  const focusInput = () => {\n    inputRef.current.focus();\n  };\n\n  return (\n    <>\n      <FancyInput ref={inputRef} />\n      <button onClick={focusInput}>Focus Input</button>\n    </>\n  );\n}\n```\n\n**useImperativeHandle - –∫–∞—Å—Ç–æ–º–∏–∑–∞—Ü–∏—è ref:**\n\n```jsx\nconst FancyInput = forwardRef((props, ref) => {\n  const inputRef = useRef(null);\n\n  // ‚úÖ –ü—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ–º —Ç–æ–ª—å–∫–æ –Ω—É–∂–Ω—ã–µ –º–µ—Ç–æ–¥—ã\n  useImperativeHandle(ref, () => ({\n    focus: () => {\n      inputRef.current.focus();\n    },\n    clear: () => {\n      inputRef.current.value = '';\n    }\n  }));\n\n  return <input ref={inputRef} {...props} />;\n});\n\nfunction Parent() {\n  const inputRef = useRef(null);\n\n  return (\n    <>\n      <FancyInput ref={inputRef} />\n      <button onClick={() => inputRef.current.focus()}>Focus</button>\n      <button onClick={() => inputRef.current.clear()}>Clear</button>\n    </>\n  );\n}\n```\n\n",
          "best_practices": [
            "Class: constructor ‚Üí render ‚Üí componentDidMount ‚Üí componentDidUpdate ‚Üí componentWillUnmount",
            "Functional: useEffect –æ–±—ä–µ–¥–∏–Ω—è–µ—Ç mount/update/unmount",
            "useLayoutEffect –¥–ª—è —Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã—Ö –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π",
            "–û–±—ë—Ä—Ç–∫–∞ –Ω–∞–¥ –Ω–∞—Ç–∏–≤–Ω—ã–º–∏ DOM —Å–æ–±—ã—Ç–∏—è–º–∏",
            "Cross-browser compatibility",
            "Event pooling (—É–¥–∞–ª—ë–Ω –≤ React 17)",
            "e.persist() –±–æ–ª—å—à–µ –Ω–µ –Ω—É–∂–µ–Ω",
            "–ì—Ä—É–ø–ø–∏—Ä–æ–≤–∫–∞ —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –±–µ–∑ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–≥–æ DOM —É–∑–ª–∞",
            "`<Fragment key={item.id}>` –¥–ª—è —Å–ø–∏—Å–∫–æ–≤",
            "`<>` –∫—Ä–∞—Ç–∫–∞—è —Ñ–æ—Ä–º–∞",
            "PropTypes - runtime –ø—Ä–æ–≤–µ—Ä–∫–∞ (legacy)",
            "TypeScript - compile-time –ø—Ä–æ–≤–µ—Ä–∫–∞ (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è)",
            "–í–∫–ª—é—á–∞–µ—Ç –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ –≤ dev mode",
            "–î–≤–æ–π–Ω–æ–π –≤—ã–∑–æ–≤ useEffect –¥–ª—è –≤—ã—è–≤–ª–µ–Ω–∏—è bugs",
            "–ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è –æ legacy API"
          ],
          "difficulty": "Senior"
        }
      ]
    },
    {
      "chapter_number": 2,
      "chapter_title": "Hooks",
      "questions_count": 12,
      "questions": [
        {
          "question_number": 11,
          "question_number_in_chapter": 1,
          "question_chapter": 2,
          "question_title": "useState - –∫–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç batching –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π? –ß—Ç–æ –∏–∑–º–µ–Ω–∏–ª–æ—Å—å –≤ React 18?",
          "answer_markdown": "\n**–û—Ç–≤–µ—Ç:**\n\n**useState** - –±–∞–∑–æ–≤—ã–π —Ö—É–∫ –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ª–æ–∫–∞–ª—å–Ω—ã–º —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞.\n\n**Batching (–ø–∞–∫–µ—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ) –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π:**\n\n```tsx\n// –î–æ React 18 - batching —Ç–æ–ª—å–∫–æ –≤ event handlers\nfunction Counter() {\n  const [count, setCount] = useState(0);\n  const [flag, setFlag] = useState(false);\n\n  // ‚úÖ React 17: –æ–¥–∏–Ω re-render (batching —Ä–∞–±–æ—Ç–∞–µ—Ç)\n  const handleClick = () => {\n    setCount(c => c + 1);\n    setFlag(f => !f);\n    // –û–±–∞ setState –æ–±—ä–µ–¥–∏–Ω—è—é—Ç—Å—è –≤ –æ–¥–∏–Ω re-render\n  };\n\n  // ‚ùå React 17: –¥–≤–∞ re-render (batching –ù–ï —Ä–∞–±–æ—Ç–∞–µ—Ç)\n  const fetchData = async () => {\n    const data = await fetch('/api/data');\n    setCount(c => c + 1);    // 1-–π re-render\n    setFlag(f => !f);        // 2-–π re-render\n  };\n\n  // ‚úÖ React 18: –æ–¥–∏–Ω re-render –≤–µ–∑–¥–µ (Automatic Batching)\n  const fetchDataV18 = async () => {\n    const data = await fetch('/api/data');\n    setCount(c => c + 1);\n    setFlag(f => !f);\n    // –¢–µ–ø–µ—Ä—å –æ–±—ä–µ–¥–∏–Ω—è–µ—Ç—Å—è –≤ –æ–¥–∏–Ω re-render!\n  };\n}\n```\n\n**React 18 - Automatic Batching:**\n\n| –ö–æ–Ω—Ç–µ–∫—Å—Ç | React 17 | React 18 |\n|----------|----------|----------|\n| Event handlers | ‚úÖ Batching | ‚úÖ Batching |\n| Promises/async | ‚ùå –û—Ç–¥–µ–ª—å–Ω—ã–µ renders | ‚úÖ Batching |\n| setTimeout | ‚ùå –û—Ç–¥–µ–ª—å–Ω—ã–µ renders | ‚úÖ Batching |\n| Native events | ‚ùå –û—Ç–¥–µ–ª—å–Ω—ã–µ renders | ‚úÖ Batching |\n\n**–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è:**\n\n```tsx\nfunction Counter() {\n  const [count, setCount] = useState(0);\n\n  // ‚ùå –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ - –º–æ–∂–µ—Ç –ø–æ—Ç–µ—Ä—è—Ç—å—Å—è –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ\n  const increment = () => {\n    setCount(count + 1);\n    setCount(count + 1); // –û–±–∞ –∏—Å–ø–æ–ª—å–∑—É—é—Ç —Å—Ç–∞—Ä–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ count\n    // –†–µ–∑—É–ª—å—Ç–∞—Ç: count —É–≤–µ–ª–∏—á–∏—Ç—Å—è —Ç–æ–ª—å–∫–æ –Ω–∞ 1\n  };\n\n  // ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–æ - —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ\n  const incrementCorrect = () => {\n    setCount(prev => prev + 1);\n    setCount(prev => prev + 1);\n    // –†–µ–∑—É–ª—å—Ç–∞—Ç: count —É–≤–µ–ª–∏—á–∏—Ç—Å—è –Ω–∞ 2\n  };\n}\n```\n\n**–û—Ç–∫–ª—é—á–µ–Ω–∏–µ Automatic Batching (React 18):**\n\n```tsx\nimport { flushSync } from 'react-dom';\n\nfunction Component() {\n  const [count, setCount] = useState(0);\n  const [flag, setFlag] = useState(false);\n\n  const handleClick = () => {\n    flushSync(() => {\n      setCount(c => c + 1);\n    }); // 1-–π re-render\n\n    flushSync(() => {\n      setFlag(f => !f);\n    }); // 2-–π re-render\n  };\n}\n```\n\n**Lazy Initialization:**\n\n```tsx\n// ‚ùå –ù–µ—ç—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ - —Ñ—É–Ω–∫—Ü–∏—è –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è –∫–∞–∂–¥—ã–π —Äender\nconst [state, setState] = useState(expensiveComputation());\n\n// ‚úÖ –≠—Ñ—Ñ–µ–∫—Ç–∏–≤–Ω–æ - —Ñ—É–Ω–∫—Ü–∏—è –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –ø—Ä–∏ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏–∏\nconst [state, setState] = useState(() => expensiveComputation());\n\n// –ü—Ä–∏–º–µ—Ä —Å localStorage\nconst [user, setUser] = useState(() => {\n  const saved = localStorage.getItem('user');\n  return saved ? JSON.parse(saved) : null;\n});\n```\n\n\n",
          "best_practices": [],
          "difficulty": "Senior"
        },
        {
          "question_number": 12,
          "question_number_in_chapter": 2,
          "question_chapter": 2,
          "question_title": "useEffect - –∫–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç cleanup, dependency array –∏ —á—Ç–æ –∏–∑–º–µ–Ω–∏–ª–æ—Å—å –≤ React 18 (Strict Mode)?",
          "answer_markdown": "\n**–û—Ç–≤–µ—Ç:**\n\n**useEffect** - —Ö—É–∫ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å side effects (API –∑–∞–ø—Ä–æ—Å—ã, –ø–æ–¥–ø–∏—Å–∫–∏, DOM –º–∞–Ω–∏–ø—É–ª—è—Ü–∏–∏).\n\n**–°–∏–Ω—Ç–∞–∫—Å–∏—Å –∏ cleanup:**\n\n```tsx\nuseEffect(() => {\n  // Setup: –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –ø–æ—Å–ª–µ render\n  const subscription = dataSource.subscribe();\n\n  // Cleanup: –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –ø–µ—Ä–µ–¥ unmount –∏ –ø–µ—Ä–µ–¥ —Å–ª–µ–¥—É—é—â–∏–º effect\n  return () => {\n    subscription.unsubscribe();\n  };\n}, [dependencies]);\n```\n\n**Dependency Array (–º–∞—Å—Å–∏–≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π):**\n\n```tsx\n// ‚ùå –û—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç - –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –ø–æ—Å–ª–µ –∫–∞–∂–¥–æ–≥–æ render\nuseEffect(() => {\n  console.log('Every render');\n});\n\n// ‚úÖ –ü—É—Å—Ç–æ–π –º–∞—Å—Å–∏–≤ - –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –æ–¥–∏–Ω —Ä–∞–∑ (componentDidMount)\nuseEffect(() => {\n  console.log('Mount only');\n}, []);\n\n// ‚úÖ –° –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—è–º–∏ - –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ count\nuseEffect(() => {\n  console.log('Count changed:', count);\n}, [count]);\n\n// ‚ùå –ù–µ–ø–æ–ª–Ω—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ - –º–æ–∂–µ—Ç –ø—Ä–∏–≤–µ—Å—Ç–∏ –∫ –±–∞–≥–∞–º\nuseEffect(() => {\n  console.log(count, user); // user –æ—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç –≤ deps!\n}, [count]); // ESLint warning\n```\n\n**–ö–ª–∞—Å—Å–∏—á–µ—Å–∫–∏–π –ø—Ä–∏–º–µ—Ä - Race Condition:**\n\n```tsx\n// ‚ùå –ü—Ä–æ–±–ª–µ–º–∞: race condition –ø—Ä–∏ –±—ã—Å—Ç—Ä–æ–π —Å–º–µ–Ω–µ userId\nfunction UserProfile({ userId }) {\n  const [user, setUser] = useState(null);\n\n  useEffect(() => {\n    fetch(`/api/users/${userId}`)\n      .then(res => res.json())\n      .then(data => setUser(data)); // –ú–æ–∂–µ—Ç –ø–µ—Ä–µ–∑–∞–ø–∏—Å–∞—Ç—å –±–æ–ª–µ–µ —Å–≤–µ–∂–∏–µ –¥–∞–Ω–Ω—ã–µ!\n  }, [userId]);\n}\n\n// ‚úÖ –†–µ—à–µ–Ω–∏–µ 1: cleanup —Å —Ñ–ª–∞–≥–æ–º\nfunction UserProfile({ userId }) {\n  const [user, setUser] = useState(null);\n\n  useEffect(() => {\n    let cancelled = false;\n\n    fetch(`/api/users/${userId}`)\n      .then(res => res.json())\n      .then(data => {\n        if (!cancelled) {\n          setUser(data);\n        }\n      });\n\n    return () => {\n      cancelled = true; // –û—Ç–º–µ–Ω—è–µ–º —É—Å—Ç–∞—Ä–µ–≤—à–∏–π –∑–∞–ø—Ä–æ—Å\n    };\n  }, [userId]);\n}\n\n// ‚úÖ –†–µ—à–µ–Ω–∏–µ 2: AbortController\nfunction UserProfile({ userId }) {\n  const [user, setUser] = useState(null);\n\n  useEffect(() => {\n    const controller = new AbortController();\n\n    fetch(`/api/users/${userId}`, { signal: controller.signal })\n      .then(res => res.json())\n      .then(data => setUser(data))\n      .catch(err => {\n        if (err.name !== 'AbortError') {\n          console.error(err);\n        }\n      });\n\n    return () => controller.abort();\n  }, [userId]);\n}\n```\n\n**React 18 Strict Mode - –¥–≤–æ–π–Ω–æ–π –≤—ã–∑–æ–≤ effects:**\n\n```tsx\n// React 18 –≤ Strict Mode:\n// Mount ‚Üí Cleanup ‚Üí Mount —Å–Ω–æ–≤–∞ (—Ç–æ–ª—å–∫–æ –≤ development!)\n\nuseEffect(() => {\n  console.log('Effect'); // –í—ã–≤–µ–¥–µ—Ç—Å—è 2 —Ä–∞–∑–∞\n  \n  return () => {\n    console.log('Cleanup'); // –í—ã–≤–µ–¥–µ—Ç—Å—è –º–µ–∂–¥—É –≤—ã–∑–æ–≤–∞–º–∏\n  };\n}, []);\n\n// –í—ã–≤–æ–¥ –≤ –∫–æ–Ω—Å–æ–ª—å (development):\n// Effect\n// Cleanup\n// Effect\n```\n\n**–ü–æ—á–µ–º—É —ç—Ç–æ –≤–∞–∂–Ω–æ:**\n\n```tsx\n// ‚ùå –ü—Ä–æ–±–ª–µ–º–∞: –¥–≤–æ–π–Ω–∞—è –ø–æ–¥–ø–∏—Å–∫–∞\nuseEffect(() => {\n  const ws = new WebSocket('ws://localhost:3000');\n  ws.onmessage = handleMessage;\n  // –ù–µ—Ç cleanup - —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ –Ω–µ –∑–∞–∫—Ä—ã–≤–∞–µ—Ç—Å—è!\n}, []);\n\n// ‚úÖ –†–µ—à–µ–Ω–∏–µ: –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π cleanup\nuseEffect(() => {\n  const ws = new WebSocket('ws://localhost:3000');\n  ws.onmessage = handleMessage;\n  \n  return () => {\n    ws.close(); // –ó–∞–∫—Ä—ã–≤–∞–µ–º —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ\n  };\n}, []);\n```\n\n**–ü–∞—Ç—Ç–µ—Ä–Ω—ã —Å useEffect:**\n\n```tsx\n// –ü–æ–¥–ø–∏—Å–∫–∞ –Ω–∞ —Å–æ–±—ã—Ç–∏—è\nuseEffect(() => {\n  const handleResize = () => setWindowWidth(window.innerWidth);\n  window.addEventListener('resize', handleResize);\n  return () => window.removeEventListener('resize', handleResize);\n}, []);\n\n// –¢–∞–π–º–µ—Ä—ã\nuseEffect(() => {\n  const timer = setTimeout(() => {\n    setDelayedValue(value);\n  }, 500);\n  return () => clearTimeout(timer);\n}, [value]);\n\n// –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —Å –≤–Ω–µ—à–Ω–∏–º —Ö—Ä–∞–Ω–∏–ª–∏—â–µ–º\nuseEffect(() => {\n  const unsubscribe = store.subscribe(() => {\n    setData(store.getState());\n  });\n  return unsubscribe;\n}, []);\n```\n\n\n",
          "best_practices": [],
          "difficulty": "Senior"
        },
        {
          "question_number": 13,
          "question_number_in_chapter": 3,
          "question_chapter": 2,
          "question_title": "useContext - –∫–∞–∫ –ø—Ä–∞–≤–∏–ª—å–Ω–æ –æ—Ä–≥–∞–Ω–∏–∑–æ–≤–∞—Ç—å –∫–æ–Ω—Ç–µ–∫—Å—Ç—ã? Performance pitfalls.",
          "answer_markdown": "\n**–û—Ç–≤–µ—Ç:**\n\n**useContext** - —Ö—É–∫ –¥–ª—è –ø–æ—Ç—Ä–µ–±–ª–µ–Ω–∏—è –∑–Ω–∞—á–µ–Ω–∏–π –∏–∑ React Context –±–µ–∑ Context.Consumer.\n\n**–ë–∞–∑–æ–≤–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:**\n\n```tsx\n// –°–æ–∑–¥–∞–Ω–∏–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞\nconst ThemeContext = createContext<'light' | 'dark'>('light');\n\n// Provider\nfunction App() {\n  const [theme, setTheme] = useState<'light' | 'dark'>('light');\n  \n  return (\n    <ThemeContext.Provider value={theme}>\n      <Header />\n      <Main />\n    </ThemeContext.Provider>\n  );\n}\n\n// Consumer —Å useContext\nfunction Header() {\n  const theme = useContext(ThemeContext);\n  return <header className={theme}>Header</header>;\n}\n```\n\n**‚ùå Performance Pitfall #1: –ù–æ–≤—ã–π –æ–±—ä–µ–∫—Ç –≤ value:**\n\n```tsx\n// ‚ùå –ü—Ä–æ–±–ª–µ–º–∞: –Ω–æ–≤—ã–π –æ–±—ä–µ–∫—Ç –ø—Ä–∏ –∫–∞–∂–¥–æ–º render\nfunction App() {\n  const [user, setUser] = useState(null);\n  \n  return (\n    <UserContext.Provider value={{ user, setUser }}>\n      {/* –í—Å–µ –ø–æ—Ç—Ä–µ–±–∏—Ç–µ–ª–∏ —Ä–µ-—Ä–µ–Ω–¥–µ—Ä—è—Ç—Å—è –ø—Ä–∏ –ª—é–±–æ–º –∏–∑–º–µ–Ω–µ–Ω–∏–∏ App! */}\n      <Dashboard />\n    </UserContext.Provider>\n  );\n}\n\n// ‚úÖ –†–µ—à–µ–Ω–∏–µ: useMemo\nfunction App() {\n  const [user, setUser] = useState(null);\n  const value = useMemo(() => ({ user, setUser }), [user]);\n  \n  return (\n    <UserContext.Provider value={value}>\n      <Dashboard />\n    </UserContext.Provider>\n  );\n}\n```\n\n**‚ùå Performance Pitfall #2: –ú–æ–Ω–æ–ª–∏—Ç–Ω—ã–π –∫–æ–Ω—Ç–µ–∫—Å—Ç:**\n\n```tsx\n// ‚ùå –ü—Ä–æ–±–ª–µ–º–∞: –≤—Å—ë –≤ –æ–¥–Ω–æ–º –∫–æ–Ω—Ç–µ–∫—Å—Ç–µ\nconst AppContext = createContext({\n  user: null,\n  theme: 'light',\n  notifications: [],\n  settings: {}\n});\n\nfunction Component() {\n  // –†–µ-—Ä–µ–Ω–¥–µ—Ä –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ –õ–Æ–ë–û–ì–û –ø–æ–ª—è\n  const { theme } = useContext(AppContext);\n  return <div className={theme}>Content</div>;\n}\n\n// ‚úÖ –†–µ—à–µ–Ω–∏–µ: —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç–æ–≤\nconst UserContext = createContext(null);\nconst ThemeContext = createContext('light');\nconst NotificationsContext = createContext([]);\n\nfunction Component() {\n  // –†–µ-—Ä–µ–Ω–¥–µ—Ä —Ç–æ–ª—å–∫–æ –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ theme\n  const theme = useContext(ThemeContext);\n  return <div className={theme}>Content</div>;\n}\n```\n\n**–ü–∞—Ç—Ç–µ—Ä–Ω: Context + Reducer:**\n\n```tsx\n// actions.ts\ntype Action =\n  | { type: 'SET_USER'; payload: User }\n  | { type: 'LOGOUT' }\n  | { type: 'UPDATE_PROFILE'; payload: Partial<User> };\n\n// reducer.ts\nfunction userReducer(state: UserState, action: Action): UserState {\n  switch (action.type) {\n    case 'SET_USER':\n      return { ...state, user: action.payload };\n    case 'LOGOUT':\n      return { ...state, user: null };\n    case 'UPDATE_PROFILE':\n      return { \n        ...state, \n        user: state.user ? { ...state.user, ...action.payload } : null \n      };\n    default:\n      return state;\n  }\n}\n\n// UserContext.tsx\nconst UserStateContext = createContext<UserState | undefined>(undefined);\nconst UserDispatchContext = createContext<Dispatch<Action> | undefined>(undefined);\n\nexport function UserProvider({ children }: { children: ReactNode }) {\n  const [state, dispatch] = useReducer(userReducer, { user: null });\n\n  return (\n    <UserStateContext.Provider value={state}>\n      <UserDispatchContext.Provider value={dispatch}>\n        {children}\n      </UserDispatchContext.Provider>\n    </UserStateContext.Provider>\n  );\n}\n\n// Hooks –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è\nexport function useUserState() {\n  const context = useContext(UserStateContext);\n  if (!context) {\n    throw new Error('useUserState must be used within UserProvider');\n  }\n  return context;\n}\n\nexport function useUserDispatch() {\n  const context = useContext(UserDispatchContext);\n  if (!context) {\n    throw new Error('useUserDispatch must be used within UserProvider');\n  }\n  return context;\n}\n\n// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ\nfunction Profile() {\n  const { user } = useUserState();\n  const dispatch = useUserDispatch();\n\n  const handleUpdate = (data: Partial<User>) => {\n    dispatch({ type: 'UPDATE_PROFILE', payload: data });\n  };\n\n  return <div>{user?.name}</div>;\n}\n```\n\n**–ü–∞—Ç—Ç–µ—Ä–Ω: Selector –¥–ª—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏:**\n\n```tsx\n// –ö–∞—Å—Ç–æ–º–Ω—ã–π —Ö—É–∫ —Å —Å–µ–ª–µ–∫—Ç–æ—Ä–æ–º\nfunction useContextSelector<T, S>(\n  context: Context<T>,\n  selector: (value: T) => S\n): S {\n  const value = useContext(context);\n  return useMemo(() => selector(value), [value, selector]);\n}\n\n// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ\nfunction Component() {\n  // –†–µ-—Ä–µ–Ω–¥–µ—Ä —Ç–æ–ª—å–∫–æ –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ user.name\n  const userName = useContextSelector(\n    UserContext,\n    state => state.user?.name\n  );\n  \n  return <div>{userName}</div>;\n}\n```\n\n**–ö–æ–º–ø–æ–∑–∏—Ü–∏—è –ø—Ä–æ–≤–∞–π–¥–µ—Ä–æ–≤:**\n\n```tsx\n// –£—Ç–∏–ª–∏—Ç–∞ –¥–ª—è –∫–æ–º–ø–æ–∑–∏—Ü–∏–∏\nfunction composeProviders(...providers: React.FC<{ children: ReactNode }>[]) {\n  return ({ children }: { children: ReactNode }) => {\n    return providers.reduceRight(\n      (acc, Provider) => <Provider>{acc}</Provider>,\n      children\n    );\n  };\n}\n\n// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ\nconst AppProviders = composeProviders(\n  UserProvider,\n  ThemeProvider,\n  NotificationsProvider,\n  I18nProvider\n);\n\nfunction App() {\n  return (\n    <AppProviders>\n      <Router />\n    </AppProviders>\n  );\n}\n```\n\n\n",
          "best_practices": [],
          "difficulty": "Senior"
        },
        {
          "question_number": 14,
          "question_number_in_chapter": 4,
          "question_chapter": 2,
          "question_title": "useReducer vs useState - –∫–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å? –ü–∞—Ç—Ç–µ—Ä–Ω—ã –∏ best practices.",
          "answer_markdown": "\n**–û—Ç–≤–µ—Ç:**\n\n**useReducer** - –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞ useState –¥–ª—è —Å–ª–æ–∂–Ω–æ–π –ª–æ–≥–∏–∫–∏ —Å–æ—Å—Ç–æ—è–Ω–∏—è.\n\n**–ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å useState:**\n- –ü—Ä–æ—Å—Ç–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ (boolean, string, number)\n- –ù–µ–∑–∞–≤–∏—Å–∏–º—ã–µ state updates\n- –õ–æ–∫–∞–ª—å–Ω—ã–π UI state\n\n**–ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å useReducer:**\n- –°–ª–æ–∂–Ω–∞—è –ª–æ–≥–∏–∫–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π\n- –ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –ø–æ–¥-–∑–Ω–∞—á–µ–Ω–∏—è\n- –°–ª–µ–¥—É—é—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –∑–∞–≤–∏—Å–∏—Ç –æ—Ç –ø—Ä–µ–¥—ã–¥—É—â–µ–≥–æ\n- –ù—É–∂–Ω–∞ —Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–∞—è –ª–æ–≥–∏–∫–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π\n\n**–°—Ä–∞–≤–Ω–µ–Ω–∏–µ:**\n\n```tsx\n// useState - –ø—Ä–æ—Å—Ç–æ–π —Å–ª—É—á–∞–π\nfunction Counter() {\n  const [count, setCount] = useState(0);\n  \n  return (\n    <button onClick={() => setCount(count + 1)}>\n      Count: {count}\n    </button>\n  );\n}\n\n// useReducer - —Å–ª–æ–∂–Ω—ã–π state\ntype State = {\n  count: number;\n  step: number;\n  history: number[];\n};\n\ntype Action =\n  | { type: 'increment' }\n  | { type: 'decrement' }\n  | { type: 'setStep'; payload: number }\n  | { type: 'reset' };\n\nfunction reducer(state: State, action: Action): State {\n  switch (action.type) {\n    case 'increment':\n      return {\n        ...state,\n        count: state.count + state.step,\n        history: [...state.history, state.count + state.step]\n      };\n    case 'decrement':\n      return {\n        ...state,\n        count: state.count - state.step,\n        history: [...state.history, state.count - state.step]\n      };\n    case 'setStep':\n      return { ...state, step: action.payload };\n    case 'reset':\n      return { count: 0, step: 1, history: [0] };\n    default:\n      return state;\n  }\n}\n\nfunction ComplexCounter() {\n  const [state, dispatch] = useReducer(reducer, {\n    count: 0,\n    step: 1,\n    history: [0]\n  });\n\n  return (\n    <div>\n      <p>Count: {state.count}</p>\n      <input\n        type=\"number\"\n        value={state.step}\n        onChange={e => dispatch({ \n          type: 'setStep', \n          payload: Number(e.target.value) \n        })}\n      />\n      <button onClick={() => dispatch({ type: 'increment' })}>+</button>\n      <button onClick={() => dispatch({ type: 'decrement' })}>-</button>\n      <button onClick={() => dispatch({ type: 'reset' })}>Reset</button>\n    </div>\n  );\n}\n```\n\n**–ü–∞—Ç—Ç–µ—Ä–Ω: Lazy Initialization:**\n\n```tsx\ntype State = { data: Data[]; loading: boolean; error: Error | null };\n\nconst initialState: State = {\n  data: [],\n  loading: false,\n  error: null\n};\n\n// –î–æ—Ä–æ–≥–æ—Å—Ç–æ—è—â–∞—è –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è\nfunction init(initialData: Data[]): State {\n  return {\n    data: initialData,\n    loading: false,\n    error: null\n  };\n}\n\nfunction Component({ initialData }: { initialData: Data[] }) {\n  // Lazy init - —Ñ—É–Ω–∫—Ü–∏—è –≤—ã–∑–æ–≤–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –æ–¥–∏–Ω —Ä–∞–∑\n  const [state, dispatch] = useReducer(\n    reducer,\n    initialData,\n    init\n  );\n}\n```\n\n**–ü–∞—Ç—Ç–µ—Ä–Ω: Async Actions —Å useReducer:**\n\n```tsx\ntype State = {\n  data: User | null;\n  loading: boolean;\n  error: Error | null;\n};\n\ntype Action =\n  | { type: 'FETCH_START' }\n  | { type: 'FETCH_SUCCESS'; payload: User }\n  | { type: 'FETCH_ERROR'; payload: Error };\n\nfunction reducer(state: State, action: Action): State {\n  switch (action.type) {\n    case 'FETCH_START':\n      return { data: null, loading: true, error: null };\n    case 'FETCH_SUCCESS':\n      return { data: action.payload, loading: false, error: null };\n    case 'FETCH_ERROR':\n      return { data: null, loading: false, error: action.payload };\n    default:\n      return state;\n  }\n}\n\nfunction UserProfile({ userId }: { userId: string }) {\n  const [state, dispatch] = useReducer(reducer, {\n    data: null,\n    loading: false,\n    error: null\n  });\n\n  useEffect(() => {\n    let cancelled = false;\n\n    const fetchUser = async () => {\n      dispatch({ type: 'FETCH_START' });\n      try {\n        const response = await fetch(`/api/users/${userId}`);\n        const data = await response.json();\n        if (!cancelled) {\n          dispatch({ type: 'FETCH_SUCCESS', payload: data });\n        }\n      } catch (error) {\n        if (!cancelled) {\n          dispatch({ type: 'FETCH_ERROR', payload: error as Error });\n        }\n      }\n    };\n\n    fetchUser();\n\n    return () => {\n      cancelled = true;\n    };\n  }, [userId]);\n\n  if (state.loading) return <Spinner />;\n  if (state.error) return <Error error={state.error} />;\n  if (!state.data) return null;\n\n  return <UserCard user={state.data} />;\n}\n```\n\n**–ü–∞—Ç—Ç–µ—Ä–Ω: –ò–º–∏—Ç–∞—Ü–∏—è Redux:**\n\n```tsx\n// store.ts\ntype Store<S, A> = {\n  getState: () => S;\n  dispatch: (action: A) => void;\n  subscribe: (listener: () => void) => () => void;\n};\n\nfunction createStore<S, A>(reducer: (state: S, action: A) => S, initialState: S): Store<S, A> {\n  let state = initialState;\n  const listeners = new Set<() => void>();\n\n  return {\n    getState: () => state,\n    dispatch: (action) => {\n      state = reducer(state, action);\n      listeners.forEach(listener => listener());\n    },\n    subscribe: (listener) => {\n      listeners.add(listener);\n      return () => listeners.delete(listener);\n    }\n  };\n}\n\n// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ\nconst store = createStore(rootReducer, initialState);\n\nfunction Component() {\n  const [, forceUpdate] = useReducer(x => x + 1, 0);\n\n  useEffect(() => {\n    return store.subscribe(forceUpdate);\n  }, []);\n\n  const state = store.getState();\n  const dispatch = store.dispatch;\n\n  return <div>{state.count}</div>;\n}\n```\n\n",
          "best_practices": [],
          "difficulty": "Senior"
        },
        {
          "question_number": 15,
          "question_number_in_chapter": 5,
          "question_chapter": 2,
          "question_title": "useCallback - –∫–æ–≥–¥–∞ –¥–µ–π—Å—Ç–≤–∏—Ç–µ–ª—å–Ω–æ –Ω—É–∂–µ–Ω? –ü—Ä–æ—Ñ–∏–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è.",
          "answer_markdown": "\n**–û—Ç–≤–µ—Ç:**\n\n**useCallback** - –º–µ–º–æ–∏–∑–∏—Ä—É–µ—Ç —Ñ—É–Ω–∫—Ü–∏—é, –≤–æ–∑–≤—Ä–∞—â–∞—è —Ç—É –∂–µ —Å–∞–º—É—é —Å—Å—ã–ª–∫—É –º–µ–∂–¥—É renders.\n\n**–°–∏–Ω—Ç–∞–∫—Å–∏—Å:**\n\n```tsx\nconst memoizedCallback = useCallback(\n  () => {\n    doSomething(a, b);\n  },\n  [a, b] // dependencies\n);\n```\n\n**‚ùå –ö–æ–≥–¥–∞ useCallback –ù–ï –Ω—É–∂–µ–Ω:**\n\n```tsx\n// ‚ùå –ë–µ—Å–ø–æ–ª–µ–∑–Ω–∞—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è\nfunction Component() {\n  // –ü—É—Å—Ç–∞—è —Ç—Ä–∞—Ç–∞ –ø–∞–º—è—Ç–∏ - –Ω–µ—Ç re-render –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏\n  const handleClick = useCallback(() => {\n    console.log('clicked');\n  }, []);\n\n  return <button onClick={handleClick}>Click</button>;\n  // button - –æ–±—ã—á–Ω—ã–π DOM —ç–ª–µ–º–µ–Ω—Ç, –æ–Ω –≤—Å–µ–≥–¥–∞ —Ä–µ-—Ä–µ–Ω–¥–µ—Ä–∏—Ç—Å—è\n}\n\n// ‚ùå –û–≤–µ—Ä—Ö–µ–¥ –±–µ–∑ –≤—ã–≥–æ–¥—ã\nfunction Parent() {\n  const [count, setCount] = useState(0);\n  \n  // useCallback –¥–æ–±–∞–≤–ª—è–µ—Ç –æ–≤–µ—Ä—Ö–µ–¥ –±–µ–∑ –ø–æ–ª—å–∑—ã\n  const increment = useCallback(() => {\n    setCount(c => c + 1);\n  }, []);\n\n  return (\n    <div>\n      <p>{count}</p>\n      <button onClick={increment}>+</button>\n    </div>\n  );\n}\n```\n\n**‚úÖ –ö–æ–≥–¥–∞ useCallback –ù–£–ñ–ï–ù:**\n\n**1. –î–æ—á–µ—Ä–Ω–∏–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –æ–±–µ—Ä–Ω—É—Ç –≤ React.memo:**\n\n```tsx\nconst ExpensiveChild = React.memo(({ onClick }: { onClick: () => void }) => {\n  console.log('ExpensiveChild render');\n  // –î–æ—Ä–æ–≥–æ—Å—Ç–æ—è—â–∏–µ –≤—ã—á–∏—Å–ª–µ–Ω–∏—è\n  return <button onClick={onClick}>Click</button>;\n});\n\nfunction Parent() {\n  const [count, setCount] = useState(0);\n  const [other, setOther] = useState(0);\n\n  // ‚ùå –ù–æ–≤–∞—è —Ñ—É–Ω–∫—Ü–∏—è –∫–∞–∂–¥—ã–π render - ExpensiveChild —Ä–µ-—Ä–µ–Ω–¥–µ—Ä–∏—Ç—Å—è\n  const handleClick = () => {\n    setCount(c => c + 1);\n  };\n\n  // ‚úÖ –¢–∞ –∂–µ —Ñ—É–Ω–∫—Ü–∏—è - ExpensiveChild –ù–ï —Ä–µ-—Ä–µ–Ω–¥–µ—Ä–∏—Ç—Å—è –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ other\n  const handleClickMemo = useCallback(() => {\n    setCount(c => c + 1);\n  }, []);\n\n  return (\n    <div>\n      <p>Count: {count}, Other: {other}</p>\n      <button onClick={() => setOther(o => o + 1)}>Change Other</button>\n      <ExpensiveChild onClick={handleClickMemo} />\n    </div>\n  );\n}\n```\n\n**2. –§—É–Ω–∫—Ü–∏—è –≤ dependency array –¥—Ä—É–≥–æ–≥–æ —Ö—É–∫–∞:**\n\n```tsx\nfunction SearchComponent({ query }: { query: string }) {\n  // ‚ùå –ë–µ—Å–∫–æ–Ω–µ—á–Ω—ã–π —Ü–∏–∫–ª - fetchData –º–µ–Ω—è–µ—Ç—Å—è –∫–∞–∂–¥—ã–π render\n  const fetchData = () => {\n    fetch(`/api/search?q=${query}`).then(/* ... */);\n  };\n\n  useEffect(() => {\n    fetchData();\n  }, [fetchData]); // fetchData –≤—Å–µ–≥–¥–∞ –Ω–æ–≤–∞—è —Ñ—É–Ω–∫—Ü–∏—è!\n\n  // ‚úÖ –°—Ç–∞–±–∏–ª—å–Ω–∞—è —Å—Å—ã–ª–∫–∞\n  const fetchDataMemo = useCallback(() => {\n    fetch(`/api/search?q=${query}`).then(/* ... */);\n  }, [query]);\n\n  useEffect(() => {\n    fetchDataMemo();\n  }, [fetchDataMemo]); // –í—ã–∑—ã–≤–∞–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ query\n}\n```\n\n**3. Custom Hooks:**\n\n```tsx\n// ‚úÖ –í—Å–µ–≥–¥–∞ –º–µ–º–æ–∏–∑–∏—Ä—É–π—Ç–µ —Ñ—É–Ω–∫—Ü–∏–∏ –≤–æ–∑–≤—Ä–∞—â–∞–µ–º—ã–µ –∏–∑ custom hooks\nfunction useDebounce<T extends (...args: any[]) => any>(\n  callback: T,\n  delay: number\n): T {\n  const timeoutRef = useRef<NodeJS.Timeout>();\n\n  return useCallback((...args: Parameters<T>) => {\n    clearTimeout(timeoutRef.current);\n    timeoutRef.current = setTimeout(() => {\n      callback(...args);\n    }, delay);\n  }, [callback, delay]) as T;\n}\n\n// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ\nfunction SearchInput() {\n  const [query, setQuery] = useState('');\n\n  const handleSearch = useCallback((value: string) => {\n    fetch(`/api/search?q=${value}`).then(/* ... */);\n  }, []);\n\n  const debouncedSearch = useDebounce(handleSearch, 500);\n\n  return (\n    <input\n      value={query}\n      onChange={e => {\n        setQuery(e.target.value);\n        debouncedSearch(e.target.value);\n      }}\n    />\n  );\n}\n```\n\n**–ü—Ä–æ—Ñ–∏–ª–∏—Ä–æ–≤–∞–Ω–∏–µ:**\n\n```tsx\n// 1. –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ React DevTools Profiler\n// 2. –ò–∑–º–µ—Ä—è–π—Ç–µ –ü–ï–†–ï–î –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–µ–π\n\nimport { Profiler } from 'react';\n\nfunction App() {\n  const onRenderCallback = (\n    id: string,\n    phase: 'mount' | 'update',\n    actualDuration: number,\n    baseDuration: number,\n    startTime: number,\n    commitTime: number\n  ) => {\n    console.log(`${id} (${phase}) took ${actualDuration}ms`);\n  };\n\n  return (\n    <Profiler id=\"App\" onRender={onRenderCallback}>\n      <Parent />\n    </Profiler>\n  );\n}\n```\n\n**–ü—Ä–∞–≤–∏–ª–æ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏:**\n\n```tsx\n// ‚ùå –ù–ï –¥–µ–ª–∞–π—Ç–µ –ø—Ä–µ–∂–¥–µ–≤—Ä–µ–º–µ–Ω–Ω—É—é –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—é\nfunction Component() {\n  const handleClick = useCallback(() => { /* ... */ }, []);\n  const handleChange = useCallback(() => { /* ... */ }, []);\n  const handleSubmit = useCallback(() => { /* ... */ }, []);\n  // –ò —Ç–∞–∫ –¥–∞–ª–µ–µ –¥–ª—è –í–°–ï–• —Ñ—É–Ω–∫—Ü–∏–π - –∏–∑–ª–∏—à–Ω–µ!\n}\n\n// ‚úÖ –û–ø—Ç–∏–º–∏–∑–∏—Ä—É–π—Ç–µ —Ç–æ–ª—å–∫–æ —É–∑–∫–∏–µ –º–µ—Å—Ç–∞\n// 1. –ü—Ä–æ—Ñ–∞–π–ª–µ—Ä –ø–æ–∫–∞–∑–∞–ª –ø—Ä–æ–±–ª–µ–º—É\n// 2. –ö–æ–º–ø–æ–Ω–µ–Ω—Ç –¥–æ—Ä–æ–≥–æ–π (—Å–ø–∏—Å–∫–∏, –≥—Ä–∞—Ñ–∏–∫–∏, —Å–ª–æ–∂–Ω—ã–µ –≤—ã—á–∏—Å–ª–µ–Ω–∏—è)\n// 3. –§—É–Ω–∫—Ü–∏—è –ø–µ—Ä–µ–¥–∞–µ—Ç—Å—è –≤ memo/deps\nfunction Component() {\n  // –û–±—ã—á–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –¥–ª—è –ø—Ä–æ—Å—Ç—ã—Ö —Å–ª—É—á–∞–µ–≤\n  const handleSimpleClick = () => { /* ... */ };\n\n  // useCallback –¥–ª—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ —É–∑–∫–æ–≥–æ –º–µ—Å—Ç–∞\n  const handleExpensiveOperation = useCallback(() => {\n    // –ü–µ—Ä–µ–¥–∞–µ—Ç—Å—è –≤ –º–µ–º–æ–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –¥–æ—á–µ—Ä–Ω–∏–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç\n  }, [deps]);\n}\n```\n\n**–ò–∑–º–µ—Ä–µ–Ω–∏–µ —ç—Ñ—Ñ–µ–∫—Ç–∞:**\n\n```tsx\n// –ö–∞—Å—Ç–æ–º–Ω—ã–π —Ö—É–∫ –¥–ª—è –∏–∑–º–µ—Ä–µ–Ω–∏—è —Ä–µ–Ω–¥–µ—Ä–æ–≤\nfunction useRenderCount(componentName: string) {\n  const renderCount = useRef(0);\n\n  useEffect(() => {\n    renderCount.current += 1;\n    console.log(`${componentName} rendered ${renderCount.current} times`);\n  });\n}\n\n// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ\nfunction ExpensiveComponent() {\n  useRenderCount('ExpensiveComponent');\n  // ...\n}\n```\n\n\n",
          "best_practices": [],
          "difficulty": "Senior"
        },
        {
          "question_number": 16,
          "question_number_in_chapter": 6,
          "question_chapter": 2,
          "question_title": "useMemo - –æ—Ç–ª–∏—á–∏—è –æ—Ç useCallback, –∫–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å? React.memo vs useMemo.",
          "answer_markdown": "\n**–û—Ç–≤–µ—Ç:**\n\n**useMemo** - –º–µ–º–æ–∏–∑–∏—Ä—É–µ—Ç **—Ä–µ–∑—É–ª—å—Ç–∞—Ç –≤—ã—á–∏—Å–ª–µ–Ω–∏—è**, useCallback - –º–µ–º–æ–∏–∑–∏—Ä—É–µ—Ç **—Ñ—É–Ω–∫—Ü–∏—é**.\n\n**–†–∞–∑–Ω–∏—Ü–∞ –º–µ–∂–¥—É useCallback –∏ useMemo:**\n\n```tsx\n// useCallback - –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Å–∞–º—É —Ñ—É–Ω–∫—Ü–∏—é\nconst memoizedCallback = useCallback(() => {\n  return a + b;\n}, [a, b]);\n// –¢–∏–ø: () => number\n\n// useMemo - –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç –≤—ã–∑–æ–≤–∞ —Ñ—É–Ω–∫—Ü–∏–∏\nconst memoizedValue = useMemo(() => {\n  return a + b;\n}, [a, b]);\n// –¢–∏–ø: number\n\n// –≠–∫–≤–∏–≤–∞–ª–µ–Ω—Ç–Ω–æ—Å—Ç—å:\nconst memoizedCallback = useCallback(fn, deps);\n// === \nconst memoizedCallback = useMemo(() => fn, deps);\n```\n\n**‚úÖ –ö–æ–≥–¥–∞ useMemo –ù–£–ñ–ï–ù:**\n\n**1. –î–æ—Ä–æ–≥–æ—Å—Ç–æ—è—â–∏–µ –≤—ã—á–∏—Å–ª–µ–Ω–∏—è:**\n\n```tsx\nfunction ProductList({ products }: { products: Product[] }) {\n  // ‚ùå –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è –ö–ê–ñ–î–´–ô render\n  const expensiveProducts = products.filter(p => p.price > 1000);\n\n  // ‚úÖ –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è —Ç–æ–ª—å–∫–æ –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ products\n  const expensiveProductsMemo = useMemo(\n    () => products.filter(p => p.price > 1000),\n    [products]\n  );\n\n  return (\n    <div>\n      {expensiveProductsMemo.map(p => <ProductCard key={p.id} product={p} />)}\n    </div>\n  );\n}\n```\n\n**2. –ü—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏–µ —Å–æ–∑–¥–∞–Ω–∏—è –Ω–æ–≤–æ–≥–æ –æ–±—ä–µ–∫—Ç–∞/–º–∞—Å—Å–∏–≤–∞:**\n\n```tsx\nconst MemoizedChild = React.memo(({ items }: { items: Item[] }) => {\n  console.log('Child render');\n  return <div>{items.length} items</div>;\n});\n\nfunction Parent() {\n  const [count, setCount] = useState(0);\n\n  // ‚ùå –ù–æ–≤—ã–π –º–∞—Å—Å–∏–≤ –∫–∞–∂–¥—ã–π render - Child —Ä–µ-—Ä–µ–Ω–¥–µ—Ä–∏—Ç—Å—è\n  const items = [1, 2, 3].map(n => ({ id: n, name: `Item ${n}` }));\n\n  // ‚úÖ –¢–æ—Ç –∂–µ –º–∞—Å—Å–∏–≤ - Child –ù–ï —Ä–µ-—Ä–µ–Ω–¥–µ—Ä–∏—Ç—Å—è\n  const itemsMemo = useMemo(\n    () => [1, 2, 3].map(n => ({ id: n, name: `Item ${n}` })),\n    []\n  );\n\n  return (\n    <div>\n      <button onClick={() => setCount(c => c + 1)}>Increment: {count}</button>\n      <MemoizedChild items={itemsMemo} />\n    </div>\n  );\n}\n```\n\n**3. –í—ã—á–∏—Å–ª–µ–Ω–∏—è –Ω–∞ –æ—Å–Ω–æ–≤–µ –¥—Ä—É–≥–∏—Ö –≤—ã—á–∏—Å–ª–µ–Ω–∏–π:**\n\n```tsx\nfunction DataDashboard({ data }: { data: DataPoint[] }) {\n  // –ü–µ—Ä–≤–æ–µ –≤—ã—á–∏—Å–ª–µ–Ω–∏–µ\n  const filteredData = useMemo(\n    () => data.filter(d => d.value > 0),\n    [data]\n  );\n\n  // –í—Ç–æ—Ä–æ–µ –≤—ã—á–∏—Å–ª–µ–Ω–∏–µ –Ω–∞ –æ—Å–Ω–æ–≤–µ –ø–µ—Ä–≤–æ–≥–æ\n  const sortedData = useMemo(\n    () => [...filteredData].sort((a, b) => b.value - a.value),\n    [filteredData]\n  );\n\n  // –¢—Ä–µ—Ç—å–µ –≤—ã—á–∏—Å–ª–µ–Ω–∏–µ\n  const topTen = useMemo(\n    () => sortedData.slice(0, 10),\n    [sortedData]\n  );\n\n  return <Chart data={topTen} />;\n}\n```\n\n**React.memo vs useMemo:**\n\n```tsx\n// React.memo - –º–µ–º–æ–∏–∑–∞—Ü–∏—è –ö–û–ú–ü–û–ù–ï–ù–¢–ê\nconst MemoizedComponent = React.memo(({ value }: { value: number }) => {\n  console.log('Component render');\n  return <div>{value}</div>;\n});\n// –ö–æ–º–ø–æ–Ω–µ–Ω—Ç —Ä–µ-—Ä–µ–Ω–¥–µ—Ä–∏—Ç—Å—è —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ props –∏–∑–º–µ–Ω–∏–ª–∏—Å—å\n\n// useMemo - –º–µ–º–æ–∏–∑–∞—Ü–∏—è –ó–ù–ê–ß–ï–ù–ò–Ø\nfunction Component({ value }: { value: number }) {\n  const memoizedValue = useMemo(() => {\n    console.log('Computation');\n    return expensiveCalculation(value);\n  }, [value]);\n  \n  return <div>{memoizedValue}</div>;\n}\n// –í—ã—á–∏—Å–ª–µ–Ω–∏–µ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç —Ç–æ–ª—å–∫–æ –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ value\n```\n\n**–ö–æ–º–±–∏–Ω–∞—Ü–∏—è React.memo + useMemo:**\n\n```tsx\ntype Props = {\n  items: Item[];\n  filter: string;\n};\n\n// Child –º–µ–º–æ–∏–∑–∏—Ä–æ–≤–∞–Ω\nconst ExpensiveList = React.memo(({ items, filter }: Props) => {\n  // –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –º–µ–º–æ–∏–∑–∏—Ä–æ–≤–∞–Ω–∞\n  const filteredItems = useMemo(\n    () => items.filter(item => item.name.includes(filter)),\n    [items, filter]\n  );\n\n  // –°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ –º–µ–º–æ–∏–∑–∏—Ä–æ–≤–∞–Ω–∞\n  const sortedItems = useMemo(\n    () => [...filteredItems].sort((a, b) => a.name.localeCompare(b.name)),\n    [filteredItems]\n  );\n\n  return (\n    <ul>\n      {sortedItems.map(item => (\n        <li key={item.id}>{item.name}</li>\n      ))}\n    </ul>\n  );\n});\n\nfunction Parent() {\n  const [filter, setFilter] = useState('');\n  const [count, setCount] = useState(0);\n\n  // –ú–∞—Å—Å–∏–≤ –º–µ–º–æ–∏–∑–∏—Ä–æ–≤–∞–Ω\n  const items = useMemo(() => generateItems(1000), []);\n\n  return (\n    <div>\n      <input value={filter} onChange={e => setFilter(e.target.value)} />\n      <button onClick={() => setCount(c => c + 1)}>Count: {count}</button>\n      {/* ExpensiveList –ù–ï —Ä–µ-—Ä–µ–Ω–¥–µ—Ä–∏—Ç—Å—è –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ count */}\n      <ExpensiveList items={items} filter={filter} />\n    </div>\n  );\n}\n```\n\n**‚ùå –ö–æ–≥–¥–∞ useMemo –ù–ï –Ω—É–∂–µ–Ω:**\n\n```tsx\n// ‚ùå –ü—Ä–æ—Å—Ç—ã–µ –≤—ã—á–∏—Å–ª–µ–Ω–∏—è\nconst doubled = useMemo(() => count * 2, [count]);\n// –û–≤–µ—Ä—Ö–µ–¥ useMemo –±–æ–ª—å—à–µ —á–µ–º –≤—ã–≥–æ–¥–∞\n\n// ‚ùå –°–æ–∑–¥–∞–Ω–∏–µ –ø—Ä–∏–º–∏—Ç–∏–≤–æ–≤\nconst title = useMemo(() => `User: ${name}`, [name]);\n// –°—Ç—Ä–æ–∫–∏ - –¥–µ—à–µ–≤—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏\n\n// ‚ùå –ù–µ –ø–µ—Ä–µ–¥–∞–µ—Ç—Å—è –≤ deps –∏–ª–∏ memo\nfunction Component() {\n  const value = useMemo(() => calculate(), []);\n  return <div>{value}</div>; // –ù–µ—Ç —Å–º—ã—Å–ª–∞\n}\n```\n\n**–ü—Ä–æ—Ñ–∏–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—ã—á–∏—Å–ª–µ–Ω–∏–π:**\n\n```tsx\nfunction Component({ data }: { data: Data[] }) {\n  const processedData = useMemo(() => {\n    const start = performance.now();\n    const result = expensiveOperation(data);\n    const end = performance.now();\n    console.log(`Processing took ${end - start}ms`);\n    return result;\n  }, [data]);\n\n  return <Chart data={processedData} />;\n}\n```\n\n**Best Practice - –∏–∑–º–µ—Ä—è–π—Ç–µ –ø–µ—Ä–µ–¥ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–µ–π:**\n\n```tsx\n// 1. –ë–µ–∑ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏\nfunction Component({ items }: { items: Item[] }) {\n  const sorted = items.sort((a, b) => a.name.localeCompare(b.name));\n  return <List items={sorted} />;\n}\n\n// 2. –ü—Ä–æ—Ñ–∏–ª–∏—Ä—É–π—Ç–µ (React DevTools)\n// 3. –ï—Å–ª–∏ –ø—Ä–æ–±–ª–µ–º–∞ - –¥–æ–±–∞–≤—å—Ç–µ useMemo\n\nfunction Component({ items }: { items: Item[] }) {\n  const sorted = useMemo(\n    () => items.sort((a, b) => a.name.localeCompare(b.name)),\n    [items]\n  );\n  return <List items={sorted} />;\n}\n\n// 4. –ò–∑–º–µ—Ä—å—Ç–µ —Å–Ω–æ–≤–∞ - —É–ª—É—á—à–∏–ª–æ—Å—å –ª–∏?\n```\n\n\n",
          "best_practices": [],
          "difficulty": "Senior"
        },
        {
          "question_number": 17,
          "question_number_in_chapter": 7,
          "question_chapter": 2,
          "question_title": "useRef - –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –∑–∞ –ø—Ä–µ–¥–µ–ª–∞–º–∏ DOM. –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –º—É—Ç–∏—Ä—É–µ–º—ã—Ö –∑–Ω–∞—á–µ–Ω–∏–π.",
          "answer_markdown": "\n**–û—Ç–≤–µ—Ç:**\n\n**useRef** - —Å–æ–∑–¥–∞–µ—Ç –º—É—Ç–∏—Ä—É–µ–º—ã–π –æ–±—ä–µ–∫—Ç, —Å–æ—Ö—Ä–∞–Ω—è—é—â–∏–π—Å—è –º–µ–∂–¥—É renders. –ò–∑–º–µ–Ω–µ–Ω–∏–µ `.current` –ù–ï –≤—ã–∑—ã–≤–∞–µ—Ç re-render.\n\n**–ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ #1: DOM-–º–∞–Ω–∏–ø—É–ª—è—Ü–∏–∏:**\n\n```tsx\nfunction TextInput() {\n  const inputRef = useRef<HTMLInputElement>(null);\n\n  const focusInput = () => {\n    inputRef.current?.focus();\n  };\n\n  return (\n    <div>\n      <input ref={inputRef} type=\"text\" />\n      <button onClick={focusInput}>Focus Input</button>\n    </div>\n  );\n}\n```\n\n**–ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ #2: –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –ø—Ä–µ–¥—ã–¥—É—â–µ–≥–æ –∑–Ω–∞—á–µ–Ω–∏—è:**\n\n```tsx\nfunction usePrevious<T>(value: T): T | undefined {\n  const ref = useRef<T>();\n\n  useEffect(() => {\n    ref.current = value;\n  }, [value]);\n\n  return ref.current;\n}\n\n// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ\nfunction Counter() {\n  const [count, setCount] = useState(0);\n  const prevCount = usePrevious(count);\n\n  return (\n    <div>\n      <p>Current: {count}</p>\n      <p>Previous: {prevCount}</p>\n      <button onClick={() => setCount(c => c + 1)}>Increment</button>\n    </div>\n  );\n}\n```\n\n**–ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ #3: –•—Ä–∞–Ω–µ–Ω–∏–µ —Ç–∞–π–º–µ—Ä–æ–≤/–∏–Ω—Ç–µ—Ä–≤–∞–ª–æ–≤:**\n\n```tsx\nfunction Stopwatch() {\n  const [time, setTime] = useState(0);\n  const [isRunning, setIsRunning] = useState(false);\n  const intervalRef = useRef<NodeJS.Timeout | null>(null);\n\n  const start = () => {\n    if (intervalRef.current) return;\n    \n    setIsRunning(true);\n    intervalRef.current = setInterval(() => {\n      setTime(t => t + 1);\n    }, 1000);\n  };\n\n  const stop = () => {\n    if (!intervalRef.current) return;\n    \n    clearInterval(intervalRef.current);\n    intervalRef.current = null;\n    setIsRunning(false);\n  };\n\n  const reset = () => {\n    stop();\n    setTime(0);\n  };\n\n  useEffect(() => {\n    return () => {\n      if (intervalRef.current) {\n        clearInterval(intervalRef.current);\n      }\n    };\n  }, []);\n\n  return (\n    <div>\n      <p>Time: {time}s</p>\n      <button onClick={start} disabled={isRunning}>Start</button>\n      <button onClick={stop} disabled={!isRunning}>Stop</button>\n      <button onClick={reset}>Reset</button>\n    </div>\n  );\n}\n```\n\n**–ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ #4: –ò–∑–±–µ–∂–∞–Ω–∏–µ stale closure:**\n\n```tsx\n// ‚ùå –ü—Ä–æ–±–ª–µ–º–∞: stale closure\nfunction ChatRoom({ roomId }: { roomId: string }) {\n  const [message, setMessage] = useState('');\n\n  useEffect(() => {\n    const socket = connectToRoom(roomId);\n    \n    socket.on('message', () => {\n      // message –∑–¥–µ—Å—å –≤—Å–µ–≥–¥–∞ –±—É–¥–µ—Ç –Ω–∞—á–∞–ª—å–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ ''\n      console.log('Current message:', message);\n    });\n\n    return () => socket.disconnect();\n  }, [roomId]); // message –ù–ï –≤ deps\n\n  return <input value={message} onChange={e => setMessage(e.target.value)} />;\n}\n\n// ‚úÖ –†–µ—à–µ–Ω–∏–µ 1: useRef\nfunction ChatRoom({ roomId }: { roomId: string }) {\n  const [message, setMessage] = useState('');\n  const messageRef = useRef(message);\n\n  useEffect(() => {\n    messageRef.current = message;\n  }, [message]);\n\n  useEffect(() => {\n    const socket = connectToRoom(roomId);\n    \n    socket.on('message', () => {\n      // messageRef.current –≤—Å–µ–≥–¥–∞ –∞–∫—Ç—É–∞–ª—å–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ\n      console.log('Current message:', messageRef.current);\n    });\n\n    return () => socket.disconnect();\n  }, [roomId]);\n\n  return <input value={message} onChange={e => setMessage(e.target.value)} />;\n}\n```\n\n**–ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ #5: –°—á–µ—Ç—á–∏–∫ renders (debug):**\n\n```tsx\nfunction useRenderCount(componentName: string) {\n  const renderCount = useRef(0);\n\n  useEffect(() => {\n    renderCount.current += 1;\n  });\n\n  console.log(`${componentName} rendered ${renderCount.current} times`);\n}\n\nfunction Component() {\n  useRenderCount('Component');\n  const [count, setCount] = useState(0);\n\n  return <button onClick={() => setCount(c => c + 1)}>Count: {count}</button>;\n}\n```\n\n**–ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ #6: –•—Ä–∞–Ω–µ–Ω–∏–µ —ç–∫–∑–µ–º–ø–ª—è—Ä–æ–≤ –∫–ª–∞—Å—Å–æ–≤:**\n\n```tsx\nclass Analytics {\n  track(event: string) {\n    console.log('Event:', event);\n  }\n}\n\nfunction Component() {\n  // –°–æ–∑–¥–∞–µ—Ç—Å—è –æ–¥–∏–Ω —Ä–∞–∑, —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –º–µ–∂–¥—É renders\n  const analytics = useRef(new Analytics());\n\n  const handleClick = () => {\n    analytics.current.track('button_clicked');\n  };\n\n  return <button onClick={handleClick}>Click Me</button>;\n}\n```\n\n**–ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ #7: –ö–∞—Å—Ç–æ–º–Ω—ã–π useEffect —Å \"–∏–≥–Ω–æ—Ä–∏—Ä–æ–≤–∞–Ω–∏–µ–º –ø–µ—Ä–≤–æ–≥–æ –≤—ã–∑–æ–≤–∞\":**\n\n```tsx\nfunction useUpdateEffect(\n  effect: React.EffectCallback,\n  deps?: React.DependencyList\n) {\n  const isFirstRender = useRef(true);\n\n  useEffect(() => {\n    if (isFirstRender.current) {\n      isFirstRender.current = false;\n      return;\n    }\n\n    return effect();\n  }, deps);\n}\n\n// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ\nfunction Component({ userId }: { userId: string }) {\n  useUpdateEffect(() => {\n    // –ù–ï –≤—ã–∑–æ–≤–µ—Ç—Å—è –ø—Ä–∏ –ø–µ—Ä–≤–æ–º render\n    // –í—ã–∑–æ–≤–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ userId\n    fetchUser(userId);\n  }, [userId]);\n}\n```\n\n**–ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ #8: –ò–∑–º–µ—Ä–µ–Ω–∏–µ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏:**\n\n```tsx\nfunction usePerformance(label: string) {\n  const startTimeRef = useRef<number>(0);\n\n  useEffect(() => {\n    startTimeRef.current = performance.now();\n  });\n\n  useEffect(() => {\n    const duration = performance.now() - startTimeRef.current;\n    console.log(`${label} render took ${duration.toFixed(2)}ms`);\n  });\n}\n\nfunction ExpensiveComponent() {\n  usePerformance('ExpensiveComponent');\n  // ...\n}\n```\n\n**useRef vs useState:**\n\n```tsx\n// useState - –≤—ã–∑—ã–≤–∞–µ—Ç re-render –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏\nfunction Component() {\n  const [count, setCount] = useState(0);\n  \n  const increment = () => {\n    setCount(c => c + 1); // –í—ã–∑–æ–≤–µ—Ç re-render\n  };\n\n  return <div>{count}</div>;\n}\n\n// useRef - –ù–ï –≤—ã–∑—ã–≤–∞–µ—Ç re-render –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏\nfunction Component() {\n  const countRef = useRef(0);\n  \n  const increment = () => {\n    countRef.current += 1; // –ù–ï –≤—ã–∑–æ–≤–µ—Ç re-render\n    console.log(countRef.current); // –ó–Ω–∞—á–µ–Ω–∏–µ –∏–∑–º–µ–Ω–∏–ª–æ—Å—å\n  };\n\n  return <div>{countRef.current}</div>; // –í—Å–µ–≥–¥–∞ –±—É–¥–µ—Ç 0 –Ω–∞ UI!\n}\n```\n\n**–í–∞–∂–Ω–æ:**\n\n```tsx\n// ‚ùå –ù–ï —á–∏—Ç–∞–π—Ç–µ ref.current –≤–æ –≤—Ä–µ–º—è render\nfunction Component() {\n  const ref = useRef(0);\n  \n  // ‚ùå –ü–ª–æ—Ö–æ - –Ω–µ–ø—Ä–µ–¥—Å–∫–∞–∑—É–µ–º–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ\n  const value = ref.current;\n  \n  return <div>{value}</div>;\n}\n\n// ‚úÖ –ß–∏—Ç–∞–π—Ç–µ ref.current –≤ event handlers –∏–ª–∏ effects\nfunction Component() {\n  const ref = useRef(0);\n  \n  const handleClick = () => {\n    console.log(ref.current); // ‚úÖ OK\n  };\n  \n  useEffect(() => {\n    console.log(ref.current); // ‚úÖ OK\n  });\n  \n  return <button onClick={handleClick}>Click</button>;\n}\n```\n\n\n",
          "best_practices": [],
          "difficulty": "Senior"
        },
        {
          "question_number": 18,
          "question_number_in_chapter": 8,
          "question_chapter": 2,
          "question_title": "useImperativeHandle - –∑–∞—á–µ–º –Ω—É–∂–µ–Ω? –ü–∞—Ç—Ç–µ—Ä–Ω—ã —Å forwardRef.",
          "answer_markdown": "\n**–û—Ç–≤–µ—Ç:**\n\n**useImperativeHandle** - –∫–∞—Å—Ç–æ–º–∏–∑–∏—Ä—É–µ—Ç –∑–Ω–∞—á–µ–Ω–∏–µ ref, –ø–µ—Ä–µ–¥–∞–≤–∞–µ–º–æ–µ —Ä–æ–¥–∏—Ç–µ–ª—é —á–µ—Ä–µ–∑ forwardRef. –ü–æ–∑–≤–æ–ª—è–µ—Ç –∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä–æ–≤–∞—Ç—å, –∫–∞–∫–∏–µ –º–µ—Ç–æ–¥—ã/—Å–≤–æ–π—Å—Ç–≤–∞ –¥–æ—Å—Ç—É–ø–Ω—ã —Ä–æ–¥–∏—Ç–µ–ª—é.\n\n**–ë–∞–∑–æ–≤—ã–π –ø—Ä–∏–º–µ—Ä:**\n\n```tsx\n// –ë–µ–∑ useImperativeHandle\nconst Input = forwardRef<HTMLInputElement>((props, ref) => {\n  // –†–æ–¥–∏—Ç–µ–ª—å –ø–æ–ª—É—á–∞–µ—Ç –í–ï–°–¨ DOM —ç–ª–µ–º–µ–Ω—Ç\n  return <input ref={ref} />;\n});\n\n// –° useImperativeHandle\ntype InputHandle = {\n  focus: () => void;\n  clear: () => void;\n};\n\nconst Input = forwardRef<InputHandle>((props, ref) => {\n  const inputRef = useRef<HTMLInputElement>(null);\n\n  useImperativeHandle(ref, () => ({\n    // –†–æ–¥–∏—Ç–µ–ª—å –ø–æ–ª—É—á–∞–µ—Ç –¢–û–õ–¨–ö–û —ç—Ç–∏ –º–µ—Ç–æ–¥—ã\n    focus: () => {\n      inputRef.current?.focus();\n    },\n    clear: () => {\n      if (inputRef.current) {\n        inputRef.current.value = '';\n      }\n    }\n  }), []);\n\n  return <input ref={inputRef} />;\n});\n\n// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ\nfunction Parent() {\n  const inputRef = useRef<InputHandle>(null);\n\n  return (\n    <div>\n      <Input ref={inputRef} />\n      <button onClick={() => inputRef.current?.focus()}>Focus</button>\n      <button onClick={() => inputRef.current?.clear()}>Clear</button>\n    </div>\n  );\n}\n```\n\n**–ü–∞—Ç—Ç–µ—Ä–Ω #1: –ò–Ω–∫–∞–ø—Å—É–ª—è—Ü–∏—è —Å–ª–æ–∂–Ω–æ–π –ª–æ–≥–∏–∫–∏:**\n\n```tsx\ntype VideoPlayerHandle = {\n  play: () => void;\n  pause: () => void;\n  seek: (time: number) => void;\n  setVolume: (volume: number) => void;\n};\n\nconst VideoPlayer = forwardRef<VideoPlayerHandle, { src: string }>(\n  ({ src }, ref) => {\n    const videoRef = useRef<HTMLVideoElement>(null);\n\n    useImperativeHandle(ref, () => ({\n      play() {\n        videoRef.current?.play();\n      },\n      pause() {\n        videoRef.current?.pause();\n      },\n      seek(time: number) {\n        if (videoRef.current) {\n          videoRef.current.currentTime = time;\n        }\n      },\n      setVolume(volume: number) {\n        if (videoRef.current) {\n          videoRef.current.volume = Math.max(0, Math.min(1, volume));\n        }\n      }\n    }), []);\n\n    return <video ref={videoRef} src={src} />;\n  }\n);\n\n// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ\nfunction VideoControls() {\n  const playerRef = useRef<VideoPlayerHandle>(null);\n\n  return (\n    <div>\n      <VideoPlayer ref={playerRef} src=\"/video.mp4\" />\n      <button onClick={() => playerRef.current?.play()}>Play</button>\n      <button onClick={() => playerRef.current?.pause()}>Pause</button>\n      <button onClick={() => playerRef.current?.seek(30)}>Skip 30s</button>\n    </div>\n  );\n}\n```\n\n**–ü–∞—Ç—Ç–µ—Ä–Ω #2: –ö–æ–º–ø–æ–∑–∏—Ü–∏—è —Å –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–º —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º:**\n\n```tsx\ntype ModalHandle = {\n  open: () => void;\n  close: () => void;\n  isOpen: () => boolean;\n};\n\nconst Modal = forwardRef<ModalHandle, { children: ReactNode }>(\n  ({ children }, ref) => {\n    const [isOpen, setIsOpen] = useState(false);\n\n    useImperativeHandle(ref, () => ({\n      open: () => setIsOpen(true),\n      close: () => setIsOpen(false),\n      isOpen: () => isOpen\n    }), [isOpen]);\n\n    if (!isOpen) return null;\n\n    return (\n      <div className=\"modal-overlay\">\n        <div className=\"modal-content\">\n          {children}\n          <button onClick={() => setIsOpen(false)}>Close</button>\n        </div>\n      </div>\n    );\n  }\n);\n\n// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ\nfunction App() {\n  const modalRef = useRef<ModalHandle>(null);\n\n  const handleSave = () => {\n    // –ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞\n    saveData();\n    // –ó–∞–∫—Ä—ã—Ç—å –º–æ–¥–∞–ª–∫—É –∏–º–ø–µ—Ä–∞—Ç–∏–≤–Ω–æ\n    modalRef.current?.close();\n  };\n\n  return (\n    <div>\n      <button onClick={() => modalRef.current?.open()}>Open Modal</button>\n      <Modal ref={modalRef}>\n        <form onSubmit={handleSave}>\n          <input type=\"text\" />\n          <button type=\"submit\">Save</button>\n        </form>\n      </Modal>\n    </div>\n  );\n}\n```\n\n**–ü–∞—Ç—Ç–µ—Ä–Ω #3: –ê–Ω–∏–º–∞—Ü–∏–æ–Ω–Ω—ã–π API:**\n\n```tsx\ntype AnimatedBoxHandle = {\n  animate: (to: { x: number; y: number }, duration: number) => Promise<void>;\n  reset: () => void;\n};\n\nconst AnimatedBox = forwardRef<AnimatedBoxHandle, { children: ReactNode }>(\n  ({ children }, ref) => {\n    const boxRef = useRef<HTMLDivElement>(null);\n    const [position, setPosition] = useState({ x: 0, y: 0 });\n\n    useImperativeHandle(ref, () => ({\n      async animate(to, duration) {\n        const element = boxRef.current;\n        if (!element) return;\n\n        const animation = element.animate(\n          [\n            { transform: `translate(${position.x}px, ${position.y}px)` },\n            { transform: `translate(${to.x}px, ${to.y}px)` }\n          ],\n          { duration, fill: 'forwards' }\n        );\n\n        await animation.finished;\n        setPosition(to);\n      },\n      reset() {\n        setPosition({ x: 0, y: 0 });\n      }\n    }), [position]);\n\n    return (\n      <div\n        ref={boxRef}\n        style={{\n          transform: `translate(${position.x}px, ${position.y}px)`,\n          transition: 'transform 0.3s'\n        }}\n      >\n        {children}\n      </div>\n    );\n  }\n);\n\n// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ\nfunction AnimationDemo() {\n  const boxRef = useRef<AnimatedBoxHandle>(null);\n\n  const runAnimation = async () => {\n    await boxRef.current?.animate({ x: 100, y: 100 }, 500);\n    await boxRef.current?.animate({ x: 200, y: 0 }, 500);\n    await boxRef.current?.animate({ x: 0, y: 0 }, 500);\n  };\n\n  return (\n    <div>\n      <AnimatedBox ref={boxRef}>Animated Content</AnimatedBox>\n      <button onClick={runAnimation}>Animate</button>\n      <button onClick={() => boxRef.current?.reset()}>Reset</button>\n    </div>\n  );\n}\n```\n\n**–ü–∞—Ç—Ç–µ—Ä–Ω #4: –§–æ–∫—É—Å-–º–µ–Ω–µ–¥–∂–º–µ–Ω—Ç (accessibility):**\n\n```tsx\ntype FocusTrapHandle = {\n  activate: () => void;\n  deactivate: () => void;\n};\n\nconst FocusTrap = forwardRef<FocusTrapHandle, { children: ReactNode }>(\n  ({ children }, ref) => {\n    const containerRef = useRef<HTMLDivElement>(null);\n    const [isActive, setIsActive] = useState(false);\n\n    useImperativeHandle(ref, () => ({\n      activate: () => setIsActive(true),\n      deactivate: () => setIsActive(false)\n    }), []);\n\n    useEffect(() => {\n      if (!isActive || !containerRef.current) return;\n\n      const container = containerRef.current;\n      const focusableElements = container.querySelectorAll(\n        'button, [href], input, select, textarea, [tabindex]:not([tabindex=\"-1\"])'\n      );\n      \n      const firstElement = focusableElements[0] as HTMLElement;\n      const lastElement = focusableElements[focusableElements.length - 1] as HTMLElement;\n\n      const handleKeyDown = (e: KeyboardEvent) => {\n        if (e.key !== 'Tab') return;\n\n        if (e.shiftKey) {\n          if (document.activeElement === firstElement) {\n            e.preventDefault();\n            lastElement.focus();\n          }\n        } else {\n          if (document.activeElement === lastElement) {\n            e.preventDefault();\n            firstElement.focus();\n          }\n        }\n      };\n\n      container.addEventListener('keydown', handleKeyDown);\n      firstElement?.focus();\n\n      return () => {\n        container.removeEventListener('keydown', handleKeyDown);\n      };\n    }, [isActive]);\n\n    return <div ref={containerRef}>{children}</div>;\n  }\n);\n\n// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ\nfunction AccessibleModal() {\n  const focusTrapRef = useRef<FocusTrapHandle>(null);\n\n  const openModal = () => {\n    focusTrapRef.current?.activate();\n  };\n\n  const closeModal = () => {\n    focusTrapRef.current?.deactivate();\n  };\n\n  return (\n    <FocusTrap ref={focusTrapRef}>\n      <div role=\"dialog\" aria-modal=\"true\">\n        <button onClick={closeModal}>Close</button>\n        <input type=\"text\" placeholder=\"Name\" />\n        <button>Submit</button>\n      </div>\n    </FocusTrap>\n  );\n}\n```\n\n",
          "best_practices": [],
          "difficulty": "Senior"
        },
        {
          "question_number": 19,
          "question_number_in_chapter": 9,
          "question_chapter": 2,
          "question_title": "Custom Hooks - –ø–∞—Ç—Ç–µ—Ä–Ω—ã —Å–æ–∑–¥–∞–Ω–∏—è, –ø—Ä–∞–≤–∏–ª–∞, –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –ª–æ–≥–∏–∫–∏.",
          "answer_markdown": "\n**–û—Ç–≤–µ—Ç:**\n\n**Custom Hooks** - —Ñ—É–Ω–∫—Ü–∏–∏, –Ω–∞—á–∏–Ω–∞—é—â–∏–µ—Å—è —Å \"use\", –∫–æ—Ç–æ—Ä—ã–µ –º–æ–≥—É—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥—Ä—É–≥–∏–µ —Ö—É–∫–∏. –ü–æ–∑–≤–æ–ª—è—é—Ç –ø–µ—Ä–µ–∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å stateful –ª–æ–≥–∏–∫—É –º–µ–∂–¥—É –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º–∏.\n\n**–ü—Ä–∞–≤–∏–ª–∞ —Å–æ–∑–¥–∞–Ω–∏—è:**\n\n1. –ù–∞–∑–≤–∞–Ω–∏–µ –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è —Å \"use\"\n2. –ú–æ–≥—É—Ç –≤—ã–∑—ã–≤–∞—Ç—å –¥—Ä—É–≥–∏–µ —Ö—É–∫–∏\n3. –î–æ–ª–∂–Ω—ã —Å–ª–µ–¥–æ–≤–∞—Ç—å Rules of Hooks\n\n**–ü–∞—Ç—Ç–µ—Ä–Ω #1: Data Fetching:**\n\n```tsx\ntype UseApiResult<T> = {\n  data: T | null;\n  loading: boolean;\n  error: Error | null;\n  refetch: () => void;\n};\n\nfunction useApi<T>(url: string): UseApiResult<T> {\n  const [data, setData] = useState<T | null>(null);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState<Error | null>(null);\n\n  const fetchData = useCallback(async () => {\n    setLoading(true);\n    setError(null);\n\n    try {\n      const response = await fetch(url);\n      if (!response.ok) throw new Error('Fetch failed');\n      const json = await response.json();\n      setData(json);\n    } catch (err) {\n      setError(err as Error);\n    } finally {\n      setLoading(false);\n    }\n  }, [url]);\n\n  useEffect(() => {\n    fetchData();\n  }, [fetchData]);\n\n  return { data, loading, error, refetch: fetchData };\n}\n\n// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ\nfunction UserProfile({ userId }: { userId: string }) {\n  const { data: user, loading, error, refetch } = useApi<User>(\n    `/api/users/${userId}`\n  );\n\n  if (loading) return <Spinner />;\n  if (error) return <Error error={error} onRetry={refetch} />;\n  if (!user) return null;\n\n  return <UserCard user={user} />;\n}\n```\n\n**–ü–∞—Ç—Ç–µ—Ä–Ω #2: Local Storage —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è:**\n\n```tsx\nfunction useLocalStorage<T>(\n  key: string,\n  initialValue: T\n): [T, (value: T | ((prev: T) => T)) => void] {\n  // Lazy initialization\n  const [storedValue, setStoredValue] = useState<T>(() => {\n    try {\n      const item = window.localStorage.getItem(key);\n      return item ? JSON.parse(item) : initialValue;\n    } catch (error) {\n      console.error(error);\n      return initialValue;\n    }\n  });\n\n  const setValue = useCallback((value: T | ((prev: T) => T)) => {\n    try {\n      const valueToStore = value instanceof Function ? value(storedValue) : value;\n      setStoredValue(valueToStore);\n      window.localStorage.setItem(key, JSON.stringify(valueToStore));\n    } catch (error) {\n      console.error(error);\n    }\n  }, [key, storedValue]);\n\n  // –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –º–µ–∂–¥—É –≤–∫–ª–∞–¥–∫–∞–º–∏\n  useEffect(() => {\n    const handleStorageChange = (e: StorageEvent) => {\n      if (e.key === key && e.newValue) {\n        setStoredValue(JSON.parse(e.newValue));\n      }\n    };\n\n    window.addEventListener('storage', handleStorageChange);\n    return () => window.removeEventListener('storage', handleStorageChange);\n  }, [key]);\n\n  return [storedValue, setValue];\n}\n\n// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ\nfunction ThemeToggle() {\n  const [theme, setTheme] = useLocalStorage<'light' | 'dark'>('theme', 'light');\n\n  return (\n    <button onClick={() => setTheme(t => t === 'light' ? 'dark' : 'light')}>\n      Current: {theme}\n    </button>\n  );\n}\n```\n\n**–ü–∞—Ç—Ç–µ—Ä–Ω #3: Debounce/Throttle:**\n\n```tsx\nfunction useDebounce<T>(value: T, delay: number): T {\n  const [debouncedValue, setDebouncedValue] = useState(value);\n\n  useEffect(() => {\n    const timer = setTimeout(() => {\n      setDebouncedValue(value);\n    }, delay);\n\n    return () => clearTimeout(timer);\n  }, [value, delay]);\n\n  return debouncedValue;\n}\n\n// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ\nfunction Search() {\n  const [query, setQuery] = useState('');\n  const debouncedQuery = useDebounce(query, 500);\n\n  useEffect(() => {\n    if (debouncedQuery) {\n      fetch(`/api/search?q=${debouncedQuery}`)\n        .then(res => res.json())\n        .then(setResults);\n    }\n  }, [debouncedQuery]);\n\n  return (\n    <input\n      value={query}\n      onChange={e => setQuery(e.target.value)}\n      placeholder=\"Search...\"\n    />\n  );\n}\n```\n\n**–ü–∞—Ç—Ç–µ—Ä–Ω #4: Media Query:**\n\n```tsx\nfunction useMediaQuery(query: string): boolean {\n  const [matches, setMatches] = useState(() => {\n    return window.matchMedia(query).matches;\n  });\n\n  useEffect(() => {\n    const mediaQuery = window.matchMedia(query);\n    \n    const handleChange = (e: MediaQueryListEvent) => {\n      setMatches(e.matches);\n    };\n\n    // Modern browsers\n    mediaQuery.addEventListener('change', handleChange);\n    \n    return () => {\n      mediaQuery.removeEventListener('change', handleChange);\n    };\n  }, [query]);\n\n  return matches;\n}\n\n// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ\nfunction ResponsiveComponent() {\n  const isMobile = useMediaQuery('(max-width: 768px)');\n  const isTablet = useMediaQuery('(min-width: 769px) and (max-width: 1024px)');\n  const isDesktop = useMediaQuery('(min-width: 1025px)');\n\n  if (isMobile) return <MobileView />;\n  if (isTablet) return <TabletView />;\n  if (isDesktop) return <DesktopView />;\n  \n  return null;\n}\n```\n\n**–ü–∞—Ç—Ç–µ—Ä–Ω #5: Intersection Observer:**\n\n```tsx\ntype UseIntersectionObserverResult = {\n  ref: RefObject<Element>;\n  isIntersecting: boolean;\n  entry?: IntersectionObserverEntry;\n};\n\nfunction useIntersectionObserver(\n  options: IntersectionObserverInit = {}\n): UseIntersectionObserverResult {\n  const ref = useRef<Element>(null);\n  const [isIntersecting, setIsIntersecting] = useState(false);\n  const [entry, setEntry] = useState<IntersectionObserverEntry>();\n\n  useEffect(() => {\n    const element = ref.current;\n    if (!element) return;\n\n    const observer = new IntersectionObserver(([entry]) => {\n      setIsIntersecting(entry.isIntersecting);\n      setEntry(entry);\n    }, options);\n\n    observer.observe(element);\n\n    return () => {\n      observer.disconnect();\n    };\n  }, [options]);\n\n  return { ref, isIntersecting, entry };\n}\n\n// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ - Lazy Loading\nfunction LazyImage({ src, alt }: { src: string; alt: string }) {\n  const { ref, isIntersecting } = useIntersectionObserver({\n    threshold: 0.1,\n    rootMargin: '100px'\n  });\n\n  return (\n    <img\n      ref={ref as RefObject<HTMLImageElement>}\n      src={isIntersecting ? src : ''}\n      alt={alt}\n    />\n  );\n}\n\n// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ - Infinite Scroll\nfunction InfiniteList() {\n  const [items, setItems] = useState<Item[]>([]);\n  const { ref, isIntersecting } = useIntersectionObserver();\n\n  useEffect(() => {\n    if (isIntersecting) {\n      loadMoreItems().then(newItems => {\n        setItems(prev => [...prev, ...newItems]);\n      });\n    }\n  }, [isIntersecting]);\n\n  return (\n    <div>\n      {items.map(item => <ItemCard key={item.id} item={item} />)}\n      <div ref={ref as RefObject<HTMLDivElement>}>Loading...</div>\n    </div>\n  );\n}\n```\n\n**–ü–∞—Ç—Ç–µ—Ä–Ω #6: Form Handling:**\n\n```tsx\ntype UseFormResult<T> = {\n  values: T;\n  errors: Partial<Record<keyof T, string>>;\n  handleChange: (e: React.ChangeEvent<HTMLInputElement>) => void;\n  handleSubmit: (e: React.FormEvent) => void;\n  reset: () => void;\n};\n\nfunction useForm<T extends Record<string, any>>(\n  initialValues: T,\n  validate: (values: T) => Partial<Record<keyof T, string>>,\n  onSubmit: (values: T) => void\n): UseFormResult<T> {\n  const [values, setValues] = useState<T>(initialValues);\n  const [errors, setErrors] = useState<Partial<Record<keyof T, string>>>({});\n\n  const handleChange = useCallback((e: React.ChangeEvent<HTMLInputElement>) => {\n    const { name, value } = e.target;\n    setValues(prev => ({ ...prev, [name]: value }));\n  }, []);\n\n  const handleSubmit = useCallback((e: React.FormEvent) => {\n    e.preventDefault();\n    const validationErrors = validate(values);\n    \n    if (Object.keys(validationErrors).length === 0) {\n      onSubmit(values);\n    } else {\n      setErrors(validationErrors);\n    }\n  }, [values, validate, onSubmit]);\n\n  const reset = useCallback(() => {\n    setValues(initialValues);\n    setErrors({});\n  }, [initialValues]);\n\n  return { values, errors, handleChange, handleSubmit, reset };\n}\n\n// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ\nfunction LoginForm() {\n  const { values, errors, handleChange, handleSubmit } = useForm(\n    { email: '', password: '' },\n    (values) => {\n      const errors: Partial<Record<keyof typeof values, string>> = {};\n      if (!values.email) errors.email = 'Email required';\n      if (!values.password) errors.password = 'Password required';\n      return errors;\n    },\n    (values) => {\n      console.log('Submit:', values);\n    }\n  );\n\n  return (\n    <form onSubmit={handleSubmit}>\n      <input\n        name=\"email\"\n        value={values.email}\n        onChange={handleChange}\n      />\n      {errors.email && <span>{errors.email}</span>}\n      \n      <input\n        name=\"password\"\n        type=\"password\"\n        value={values.password}\n        onChange={handleChange}\n      />\n      {errors.password && <span>{errors.password}</span>}\n      \n      <button type=\"submit\">Login</button>\n    </form>\n  );\n}\n```\n\n",
          "best_practices": [],
          "difficulty": "Senior"
        },
        {
          "question_number": 20,
          "question_number_in_chapter": 10,
          "question_chapter": 2,
          "question_title": "Rules of Hooks - –ø–æ—á–µ–º—É —Å—É—â–µ—Å—Ç–≤—É—é—Ç, —á—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –ø—Ä–∏ –Ω–∞—Ä—É—à–µ–Ω–∏–∏?",
          "answer_markdown": "\n**–û—Ç–≤–µ—Ç:**\n\n**Rules of Hooks** - —Å—Ç—Ä–æ–≥–∏–µ –ø—Ä–∞–≤–∏–ª–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —Ö—É–∫–æ–≤, –Ω–∞—Ä—É—à–µ–Ω–∏–µ –∫–æ—Ç–æ—Ä—ã—Ö –ø—Ä–∏–≤–æ–¥–∏—Ç –∫ –±–∞–≥–∞–º.\n\n**–ü—Ä–∞–≤–∏–ª–æ #1: –í—ã–∑—ã–≤–∞–π—Ç–µ —Ö—É–∫–∏ —Ç–æ–ª—å–∫–æ –Ω–∞ –≤–µ—Ä—Ö–Ω–µ–º —É—Ä–æ–≤–Ω–µ**\n\n```tsx\n// ‚ùå –ù–ï –≤—ã–∑—ã–≤–∞–π—Ç–µ —Ö—É–∫–∏ –≤ —É—Å–ª–æ–≤–∏—è—Ö\nfunction Component({ condition }: { condition: boolean }) {\n  if (condition) {\n    const [state, setState] = useState(0); // ‚ùå –û–®–ò–ë–ö–ê!\n  }\n  return <div />;\n}\n\n// ‚ùå –ù–ï –≤—ã–∑—ã–≤–∞–π—Ç–µ —Ö—É–∫–∏ –≤ —Ü–∏–∫–ª–∞—Ö\nfunction Component({ items }: { items: Item[] }) {\n  items.forEach(item => {\n    const [state, setState] = useState(0); // ‚ùå –û–®–ò–ë–ö–ê!\n  });\n  return <div />;\n}\n\n// ‚ùå –ù–ï –≤—ã–∑—ã–≤–∞–π—Ç–µ —Ö—É–∫–∏ –≤ –≤–ª–æ–∂–µ–Ω–Ω—ã—Ö —Ñ—É–Ω–∫—Ü–∏—è—Ö\nfunction Component() {\n  const handleClick = () => {\n    const [state, setState] = useState(0); // ‚ùå –û–®–ò–ë–ö–ê!\n  };\n  return <button onClick={handleClick}>Click</button>;\n}\n\n// ‚úÖ –ü–†–ê–í–ò–õ–¨–ù–û - —Ö—É–∫–∏ –Ω–∞ –≤–µ—Ä—Ö–Ω–µ–º —É—Ä–æ–≤–Ω–µ\nfunction Component({ condition }: { condition: boolean }) {\n  const [state, setState] = useState(0);\n  \n  if (condition) {\n    setState(10); // ‚úÖ OK\n  }\n  \n  return <div>{state}</div>;\n}\n```\n\n**–ü–æ—á–µ–º—É —ç—Ç–æ –≤–∞–∂–Ω–æ - –≤–Ω—É—Ç—Ä–µ–Ω–Ω–µ–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ:**\n\n```tsx\n// React —Ö—Ä–∞–Ω–∏—Ç —Ö—É–∫–∏ –≤ –≤–∏–¥–µ —Å–≤—è–∑–Ω–æ–≥–æ —Å–ø–∏—Å–∫–∞\n// –ü–æ—Ä—è–¥–æ–∫ –≤—ã–∑–æ–≤–æ–≤ –ö–†–ò–¢–ò–ß–ï–ù!\n\n// 1-–π render:\nuseState(0);     // Hook #1: { value: 0, next: Hook#2 }\nuseState('');    // Hook #2: { value: '', next: Hook#3 }\nuseEffect(() =>); // Hook #3: { callback, deps, next: null }\n\n// 2-–π render (–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π):\nuseState(0);     // Hook #1 ‚úÖ –°–æ–≤–ø–∞–¥–∞–µ—Ç\nuseState('');    // Hook #2 ‚úÖ –°–æ–≤–ø–∞–¥–∞–µ—Ç\nuseEffect(() =>); // Hook #3 ‚úÖ –°–æ–≤–ø–∞–¥–∞–µ—Ç\n\n// 2-–π render (–ù–ï–ü–†–ê–í–ò–õ–¨–ù–´–ô - –ø—Ä–æ–ø—É—Å—Ç–∏–ª–∏ useState):\nuseState(0);     // Hook #1 ‚úÖ –°–æ–≤–ø–∞–¥–∞–µ—Ç\nuseEffect(() =>); // Hook #2 ‚ùå –û–∂–∏–¥–∞–ª—Å—è useState, –ø–æ–ª—É—á–µ–Ω useEffect!\n                  // Hook #3 —Ç–µ–ø–µ—Ä—å –ø–æ—Ç–µ—Ä—è–Ω!\n```\n\n**–ß—Ç–æ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –ø—Ä–∏ –Ω–∞—Ä—É—à–µ–Ω–∏–∏:**\n\n```tsx\nfunction BrokenComponent({ show }: { show: boolean }) {\n  const [count, setCount] = useState(0);\n  \n  if (show) {\n    const [name, setName] = useState(''); // ‚ùå\n  }\n  \n  const [email, setEmail] = useState(''); // ‚ùå\n\n  // –ü—Ä–∏ show=true:  [count, name, email] - 3 —Ö—É–∫–∞\n  // –ü—Ä–∏ show=false: [count, email]       - 2 —Ö—É–∫–∞\n  // React –∑–∞–ø—É—Ç–∞–µ—Ç—Å—è –≤ –ø–æ—Ä—è–¥–∫–µ!\n}\n\n// –û—à–∏–±–∫–∞ –≤ –∫–æ–Ω—Å–æ–ª–∏:\n// \"Rendered fewer hooks than expected. This may be caused by \n//  an accidental early return statement.\"\n```\n\n**–ü—Ä–∞–≤–∏–ª–æ #2: –í—ã–∑—ã–≤–∞–π—Ç–µ —Ö—É–∫–∏ —Ç–æ–ª—å–∫–æ –∏–∑ React —Ñ—É–Ω–∫—Ü–∏–π**\n\n```tsx\n// ‚ùå –ù–ï –≤—ã–∑—ã–≤–∞–π—Ç–µ —Ö—É–∫–∏ –∏–∑ –æ–±—ã—á–Ω—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π\nfunction regularFunction() {\n  const [state, setState] = useState(0); // ‚ùå –û–®–ò–ë–ö–ê!\n  return state;\n}\n\n// ‚ùå –ù–ï –≤—ã–∑—ã–≤–∞–π—Ç–µ —Ö—É–∫–∏ –∏–∑ –∫–ª–∞—Å—Å–æ–≤\nclass MyClass {\n  method() {\n    const [state, setState] = useState(0); // ‚ùå –û–®–ò–ë–ö–ê!\n  }\n}\n\n// ‚úÖ –í—ã–∑—ã–≤–∞–π—Ç–µ —Ö—É–∫–∏ –∏–∑ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤\nfunction Component() {\n  const [state, setState] = useState(0); // ‚úÖ OK\n  return <div>{state}</div>;\n}\n\n// ‚úÖ –í—ã–∑—ã–≤–∞–π—Ç–µ —Ö—É–∫–∏ –∏–∑ custom hooks\nfunction useCustomHook() {\n  const [state, setState] = useState(0); // ‚úÖ OK\n  return state;\n}\n```\n\n**–û–±—Ö–æ–¥ –ø—Ä–∞–≤–∏–ª - –ø–∞—Ç—Ç–µ—Ä–Ω—ã —Ä–µ—à–µ–Ω–∏—è:**\n\n```tsx\n// ‚ùå –ü—Ä–æ–±–ª–µ–º–∞: —É—Å–ª–æ–≤–Ω—ã–π —Ö—É–∫\nfunction Component({ userId }: { userId?: string }) {\n  if (!userId) return null;\n  \n  const { data } = useApi(`/users/${userId}`); // ‚ùå –£—Å–ª–æ–≤–Ω—ã–π –≤—ã–∑–æ–≤!\n  return <div>{data?.name}</div>;\n}\n\n// ‚úÖ –†–µ—à–µ–Ω–∏–µ 1: –£—Å–ª–æ–≤–∏–µ –≤–Ω—É—Ç—Ä–∏ —Ö—É–∫–∞\nfunction Component({ userId }: { userId?: string }) {\n  const { data } = useApi(userId ? `/users/${userId}` : null);\n  \n  if (!data) return null;\n  return <div>{data.name}</div>;\n}\n\n// ‚úÖ –†–µ—à–µ–Ω–∏–µ 2: –•—É–∫ –ø—Ä–∏–Ω–∏–º–∞–µ—Ç null/undefined\nfunction useApi(url: string | null) {\n  const [data, setData] = useState(null);\n  \n  useEffect(() => {\n    if (!url) return; // –£—Å–ª–æ–≤–∏–µ –≤–Ω—É—Ç—Ä–∏ —ç—Ñ—Ñ–µ–∫—Ç–∞\n    \n    fetch(url).then(res => res.json()).then(setData);\n  }, [url]);\n  \n  return { data };\n}\n```\n\n**–£—Å–ª–æ–≤–Ω–∞—è –ª–æ–≥–∏–∫–∞ —Å —Ö—É–∫–∞–º–∏:**\n\n```tsx\n// ‚ùå –£—Å–ª–æ–≤–Ω—ã–π useEffect\nfunction Component({ enabled }: { enabled: boolean }) {\n  if (enabled) {\n    useEffect(() => { /* ... */ }, []); // ‚ùå\n  }\n}\n\n// ‚úÖ –£—Å–ª–æ–≤–∏–µ –≤–Ω—É—Ç—Ä–∏ useEffect\nfunction Component({ enabled }: { enabled: boolean }) {\n  useEffect(() => {\n    if (!enabled) return; // ‚úÖ\n    \n    // –õ–æ–≥–∏–∫–∞\n  }, [enabled]);\n}\n```\n\n**–î–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ö—É–∫–æ–≤:**\n\n```tsx\n// ‚ùå –•—É–∫–∏ –≤ —Ü–∏–∫–ª–µ\nfunction Component({ fields }: { fields: Field[] }) {\n  fields.forEach(field => {\n    const [value, setValue] = useState(''); // ‚ùå\n  });\n}\n\n// ‚úÖ –û–¥–∏–Ω —Ö—É–∫ –¥–ª—è –≤—Å–µ—Ö –∑–Ω–∞—á–µ–Ω–∏–π\nfunction Component({ fields }: { fields: Field[] }) {\n  const [values, setValues] = useState<Record<string, string>>(() =>\n    fields.reduce((acc, field) => ({ ...acc, [field.id]: '' }), {})\n  );\n\n  const updateValue = (fieldId: string, value: string) => {\n    setValues(prev => ({ ...prev, [fieldId]: value }));\n  };\n\n  return (\n    <div>\n      {fields.map(field => (\n        <input\n          key={field.id}\n          value={values[field.id]}\n          onChange={e => updateValue(field.id, e.target.value)}\n        />\n      ))}\n    </div>\n  );\n}\n```\n\n**ESLint –ø–ª–∞–≥–∏–Ω:**\n\n```json\n// .eslintrc.json\n{\n  \"plugins\": [\"react-hooks\"],\n  \"rules\": {\n    \"react-hooks/rules-of-hooks\": \"error\",     // –ü—Ä–æ–≤–µ—Ä–∫–∞ Rules of Hooks\n    \"react-hooks/exhaustive-deps\": \"warn\"       // –ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π\n  }\n}\n```\n\n**–¢–∏–ø–∏—á–Ω—ã–µ –æ—à–∏–±–∫–∏:**\n\n```tsx\n// ‚ùå Early return –ø–µ—Ä–µ–¥ —Ö—É–∫–æ–º\nfunction Component({ data }: { data?: Data }) {\n  if (!data) return null; // ‚ùå Early return\n  \n  const [expanded, setExpanded] = useState(false); // ‚ùå –£—Å–ª–æ–≤–Ω—ã–π —Ö—É–∫!\n  return <div />;\n}\n\n// ‚úÖ –í—Å–µ —Ö—É–∫–∏ –ø–µ—Ä–µ–¥ return\nfunction Component({ data }: { data?: Data }) {\n  const [expanded, setExpanded] = useState(false);\n  \n  if (!data) return null; // ‚úÖ Return –ø–æ—Å–ª–µ —Ö—É–∫–æ–≤\n  \n  return <div />;\n}\n\n// ‚ùå –•—É–∫ –≤ callback\nfunction Component() {\n  const handleClick = () => {\n    useEffect(() => { /* ... */ }, []); // ‚ùå –•—É–∫ –≤ —Ñ—É–Ω–∫—Ü–∏–∏!\n  };\n}\n\n// ‚úÖ –•—É–∫ –Ω–∞ –≤–µ—Ä—Ö–Ω–µ–º —É—Ä–æ–≤–Ω–µ\nfunction Component() {\n  useEffect(() => { /* ... */ }, []);\n  \n  const handleClick = () => {\n    // –û–±—ã—á–Ω–∞—è –ª–æ–≥–∏–∫–∞\n  };\n}\n```\n\n**–ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞—Ä—É—à–µ–Ω–∏–π –≤ runtime:**\n\n```tsx\n// React –≤ development mode –≤—ã–±—Ä–∞—Å—ã–≤–∞–µ—Ç –æ—à–∏–±–∫–∏:\n// 1. \"Hooks can only be called inside the body of a function component\"\n// 2. \"Rendered more hooks than during the previous render\"\n// 3. \"Rendered fewer hooks than expected\"\n\n// –í production —ç—Ç–∏ –ø—Ä–æ–≤–µ—Ä–∫–∏ –æ—Ç–∫–ª—é—á–µ–Ω—ã –¥–ª—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏,\n// –Ω–æ –±–∞–≥–∏ –æ—Å—Ç–∞–Ω—É—Ç—Å—è - –ø–æ—ç—Ç–æ–º—É –ö–†–ò–¢–ò–ß–ù–û —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –≤ dev mode!\n```\n\n\n",
          "best_practices": [],
          "difficulty": "Senior"
        },
        {
          "question_number": 21,
          "question_number_in_chapter": 11,
          "question_chapter": 2,
          "question_title": "useLayoutEffect vs useEffect - —Ä–∞–∑–Ω–∏—Ü–∞, –∫–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∫–∞–∂–¥—ã–π?",
          "answer_markdown": "\n**–û—Ç–≤–µ—Ç:**\n\n**useLayoutEffect** - —Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π –∞–Ω–∞–ª–æ–≥ useEffect, –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è **–¥–æ** paint –±—Ä–∞—É–∑–µ—Ä–∞. useEffect - –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π, –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è **–ø–æ—Å–ª–µ** paint.\n\n**–ü–æ—Ä—è–¥–æ–∫ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è:**\n\n```\n1. React –æ–±–Ω–æ–≤–ª—è–µ—Ç DOM\n2. useLayoutEffect –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è (–°–ò–ù–•–†–û–ù–ù–û)\n3. –ë—Ä–∞—É–∑–µ—Ä —Ä–∏—Å—É–µ—Ç –∏–∑–º–µ–Ω–µ–Ω–∏—è –Ω–∞ —ç–∫—Ä–∞–Ω–µ (paint)\n4. useEffect –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è (–ê–°–ò–ù–•–†–û–ù–ù–û)\n```\n\n**–í–∏–∑—É–∞–ª—å–Ω–∞—è —Ä–∞–∑–Ω–∏—Ü–∞:**\n\n```tsx\n// useEffect - –º–æ–∂–µ—Ç –±—ã—Ç—å –º–µ—Ä—Ü–∞–Ω–∏–µ\nfunction Component() {\n  const [width, setWidth] = useState(0);\n  const ref = useRef<HTMLDivElement>(null);\n\n  useEffect(() => {\n    if (ref.current) {\n      setWidth(ref.current.offsetWidth);\n    }\n  }, []);\n\n  return (\n    <div ref={ref} style={{ width: width > 0 ? width : 'auto' }}>\n      {/* –ü—Ä–∏ –ø–µ—Ä–≤–æ–º —Ä–µ–Ω–¥–µ—Ä–µ width=0, –ø–æ—Ç–æ–º –ø–µ—Ä–µ—Ä–∏—Å–æ–≤–∫–∞ */}\n      {/* –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –º–æ–∂–µ—Ç —É–≤–∏–¥–µ—Ç—å \"–ø—Ä—ã–∂–æ–∫\" */}\n      Content\n    </div>\n  );\n}\n\n// useLayoutEffect - –±–µ–∑ –º–µ—Ä—Ü–∞–Ω–∏—è\nfunction Component() {\n  const [width, setWidth] = useState(0);\n  const ref = useRef<HTMLDivElement>(null);\n\n  useLayoutEffect(() => {\n    if (ref.current) {\n      setWidth(ref.current.offsetWidth);\n    }\n  }, []);\n\n  return (\n    <div ref={ref} style={{ width: width > 0 ? width : 'auto' }}>\n      {/* width —É—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –î–û paint - –Ω–µ—Ç –º–µ—Ä—Ü–∞–Ω–∏—è */}\n      Content\n    </div>\n  );\n}\n```\n\n**–ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å useLayoutEffect:**\n\n**1. DOM –∏–∑–º–µ—Ä–µ–Ω–∏—è:**\n\n```tsx\nfunction Tooltip({ targetRef, content }: Props) {\n  const [position, setPosition] = useState({ top: 0, left: 0 });\n  const tooltipRef = useRef<HTMLDivElement>(null);\n\n  useLayoutEffect(() => {\n    if (!targetRef.current || !tooltipRef.current) return;\n\n    const targetRect = targetRef.current.getBoundingClientRect();\n    const tooltipRect = tooltipRef.current.getBoundingClientRect();\n\n    setPosition({\n      top: targetRect.bottom + window.scrollY,\n      left: targetRect.left + (targetRect.width - tooltipRect.width) / 2\n    });\n  }, [targetRef]);\n\n  return (\n    <div\n      ref={tooltipRef}\n      style={{\n        position: 'absolute',\n        top: position.top,\n        left: position.left\n      }}\n    >\n      {content}\n    </div>\n  );\n}\n```\n\n**2. –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —Å–∫—Ä–æ–ª–ª–∞:**\n\n```tsx\nfunction ScrollSync({ sourceRef, targetRef }: Props) {\n  useLayoutEffect(() => {\n    const source = sourceRef.current;\n    const target = targetRef.current;\n    if (!source || !target) return;\n\n    const handleScroll = () => {\n      // –°–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π —Å–∫—Ä–æ–ª–ª –±–µ–∑ –∑–∞–¥–µ—Ä–∂–µ–∫\n      target.scrollTop = source.scrollTop;\n      target.scrollLeft = source.scrollLeft;\n    };\n\n    source.addEventListener('scroll', handleScroll);\n    return () => source.removeEventListener('scroll', handleScroll);\n  }, [sourceRef, targetRef]);\n}\n```\n\n**3. –ê–Ω–∏–º–∞—Ü–∏–∏ –ø–µ—Ä–µ–¥ paint:**\n\n```tsx\nfunction AnimatedHeight({ children, isOpen }: Props) {\n  const [height, setHeight] = useState(0);\n  const contentRef = useRef<HTMLDivElement>(null);\n\n  useLayoutEffect(() => {\n    if (!contentRef.current) return;\n\n    if (isOpen) {\n      const contentHeight = contentRef.current.scrollHeight;\n      setHeight(contentHeight);\n    } else {\n      setHeight(0);\n    }\n  }, [isOpen]);\n\n  return (\n    <div\n      style={{\n        height,\n        overflow: 'hidden',\n        transition: 'height 0.3s ease'\n      }}\n    >\n      <div ref={contentRef}>{children}</div>\n    </div>\n  );\n}\n```\n\n**4. –ü—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏–µ FOUC (Flash of Unstyled Content):**\n\n```tsx\nfunction ThemeProvider({ children }: { children: ReactNode }) {\n  const [theme, setTheme] = useState<'light' | 'dark'>('light');\n\n  useLayoutEffect(() => {\n    // –ü—Ä–∏–º–µ–Ω—è–µ–º —Ç–µ–º—É –î–û –ø–µ—Ä–≤–æ–≥–æ paint\n    const savedTheme = localStorage.getItem('theme') as 'light' | 'dark';\n    if (savedTheme) {\n      setTheme(savedTheme);\n      document.body.className = savedTheme;\n    }\n  }, []);\n\n  return <ThemeContext.Provider value={{ theme, setTheme }}>{children}</ThemeContext.Provider>;\n}\n```\n\n**–ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å useEffect:**\n\n**1. Data fetching:**\n\n```tsx\nfunction UserProfile({ userId }: { userId: string }) {\n  const [user, setUser] = useState(null);\n\n  useEffect(() => {\n    // –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–∞—è –æ–ø–µ—Ä–∞—Ü–∏—è - –Ω–µ –±–ª–æ–∫–∏—Ä—É–µ—Ç UI\n    fetch(`/api/users/${userId}`)\n      .then(res => res.json())\n      .then(setUser);\n  }, [userId]);\n\n  return user ? <UserCard user={user} /> : <Spinner />;\n}\n```\n\n**2. –ü–æ–¥–ø–∏—Å–∫–∏:**\n\n```tsx\nfunction ChatRoom({ roomId }: { roomId: string }) {\n  const [messages, setMessages] = useState<Message[]>([]);\n\n  useEffect(() => {\n    const socket = connectToRoom(roomId);\n    socket.on('message', (msg) => {\n      setMessages(prev => [...prev, msg]);\n    });\n\n    return () => socket.disconnect();\n  }, [roomId]);\n\n  return <MessageList messages={messages} />;\n}\n```\n\n**3. –¢–∞–π–º–µ—Ä—ã:**\n\n```tsx\nfunction AutoSave({ content }: { content: string }) {\n  useEffect(() => {\n    const timer = setTimeout(() => {\n      saveContent(content);\n    }, 5000);\n\n    return () => clearTimeout(timer);\n  }, [content]);\n\n  return <div>Auto-saving...</div>;\n}\n```\n\n**Performance Impact:**\n\n```tsx\n// ‚ùå useLayoutEffect –±–ª–æ–∫–∏—Ä—É–µ—Ç paint\nfunction BadExample() {\n  useLayoutEffect(() => {\n    // –î–æ—Ä–æ–≥–æ—Å—Ç–æ—è—â–∞—è –æ–ø–µ—Ä–∞—Ü–∏—è - –±–ª–æ–∫–∏—Ä—É–µ—Ç UI!\n    for (let i = 0; i < 1000000; i++) {\n      Math.random();\n    }\n  }, []);\n}\n\n// ‚úÖ useEffect –Ω–µ –±–ª–æ–∫–∏—Ä—É–µ—Ç paint\nfunction GoodExample() {\n  useEffect(() => {\n    // –¢–∞ –∂–µ –æ–ø–µ—Ä–∞—Ü–∏—è, –Ω–æ –Ω–µ –±–ª–æ–∫–∏—Ä—É–µ—Ç UI\n    for (let i = 0; i < 1000000; i++) {\n      Math.random();\n    }\n  }, []);\n}\n```\n\n**SSR –ø—Ä–æ–±–ª–µ–º—ã:**\n\n```tsx\n// ‚ö†Ô∏è useLayoutEffect –≤—ã–∑—ã–≤–∞–µ—Ç warning –≤ SSR\nfunction Component() {\n  useLayoutEffect(() => {\n    // Warning: useLayoutEffect does nothing on the server\n  }, []);\n}\n\n// ‚úÖ –†–µ—à–µ–Ω–∏–µ: useEffect –¥–ª—è SSR\nfunction useIsomorphicLayoutEffect(\n  effect: React.EffectCallback,\n  deps?: React.DependencyList\n) {\n  const isServer = typeof window === 'undefined';\n  const useEffectHook = isServer ? useEffect : useLayoutEffect;\n  \n  useEffectHook(effect, deps);\n}\n\n// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ\nfunction Component() {\n  useIsomorphicLayoutEffect(() => {\n    // –†–∞–±–æ—Ç–∞–µ—Ç –∏ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ, –∏ –Ω–∞ –∫–ª–∏–µ–Ω—Ç–µ\n  }, []);\n}\n```\n\n**–†–µ—à–∞—é—â–∏–π —Ñ–∞–∫—Ç–æ—Ä –≤—ã–±–æ—Ä–∞:**\n\n```tsx\n// –°–ø—Ä–æ—Å–∏—Ç–µ —Å–µ–±—è:\n// \"–ï—Å–ª–∏ —è –Ω–µ –æ–±–Ω–æ–≤–ª—é DOM –ù–ï–ú–ï–î–õ–ï–ù–ù–û –ø–µ—Ä–µ–¥ paint, –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —É–≤–∏–¥–∏—Ç –º–µ—Ä—Ü–∞–Ω–∏–µ?\"\n\n// –î–∞ ‚Üí useLayoutEffect\nuseLayoutEffect(() => {\n  measureElement(); // DOM –∏–∑–º–µ—Ä–µ–Ω–∏—è\n  setScrollPosition(); // –°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —Å–∫—Ä–æ–ª–ª–∞\n  applyTheme(); // –ü—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏–µ FOUC\n}, []);\n\n// –ù–µ—Ç ‚Üí useEffect\nuseEffect(() => {\n  fetchData(); // –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏\n  subscribeToEvents(); // –ü–æ–¥–ø–∏—Å–∫–∏\n  startTimer(); // –¢–∞–π–º–µ—Ä—ã\n}, []);\n```\n\n**Debug –≤–∏–∑—É–∞–ª—å–Ω—ã—Ö –ø—Ä–æ–±–ª–µ–º:**\n\n```tsx\n// –ï—Å–ª–∏ –≤–∏–¥–∏—Ç–µ \"–º–µ—Ä—Ü–∞–Ω–∏–µ\" –∏–ª–∏ \"–ø—Ä—ã–∂–∫–∏\" UI:\nuseEffect(() => { /* ... */ }); // ‚ùå –ó–∞–º–µ–Ω–∏—Ç—å –Ω–∞ ‚Üì\nuseLayoutEffect(() => { /* ... */ }); // ‚úÖ\n\n// –ï—Å–ª–∏ UI \"–∑–∞–º–æ—Ä–∞–∂–∏–≤–∞–µ—Ç—Å—è\":\nuseLayoutEffect(() => { /* –¥–æ—Ä–æ–≥–∞—è –æ–ø–µ—Ä–∞—Ü–∏—è */ }); // ‚ùå –ó–∞–º–µ–Ω–∏—Ç—å –Ω–∞ ‚Üì\nuseEffect(() => { /* –¥–æ—Ä–æ–≥–∞—è –æ–ø–µ—Ä–∞—Ü–∏—è */ }); // ‚úÖ\n```\n\n\n",
          "best_practices": [],
          "difficulty": "Senior"
        },
        {
          "question_number": 22,
          "question_number_in_chapter": 12,
          "question_chapter": 2,
          "question_title": "React 18 Concurrent Hooks - useTransition, useDeferredValue, useId.",
          "answer_markdown": "\n**–û—Ç–≤–µ—Ç:**\n\n**React 18** –≤–≤—ë–ª Concurrent Rendering –∏ –Ω–æ–≤—ã–µ —Ö—É–∫–∏ –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–∞–º–∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π.\n\n**useTransition - –æ—Ç–º–µ—á–∞–µ—Ç –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –∫–∞–∫ \"–ø–µ—Ä–µ—Ö–æ–¥–Ω—ã–µ\":**\n\n```tsx\nimport { useTransition, useState } from 'react';\n\nfunction SearchPage() {\n  const [query, setQuery] = useState('');\n  const [results, setResults] = useState<Result[]>([]);\n  const [isPending, startTransition] = useTransition();\n\n  const handleChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n    const value = e.target.value;\n    \n    // –í—ã—Å–æ–∫–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç - –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –Ω–µ–º–µ–¥–ª–µ–Ω–Ω–æ\n    setQuery(value);\n    \n    // –ù–∏–∑–∫–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç - –º–æ–∂–µ—Ç –±—ã—Ç—å –ø—Ä–µ—Ä–≤–∞–Ω\n    startTransition(() => {\n      const filtered = expensiveFilter(allItems, value);\n      setResults(filtered);\n    });\n  };\n\n  return (\n    <div>\n      <input\n        value={query}\n        onChange={handleChange}\n        placeholder=\"Search...\"\n      />\n      {isPending && <Spinner />}\n      <ResultList results={results} />\n    </div>\n  );\n}\n```\n\n**–†–∞–∑–Ω–∏—Ü–∞ —Å –æ–±—ã—á–Ω—ã–º setState:**\n\n```tsx\n// ‚ùå –ë–µ–∑ useTransition - UI –±–ª–æ–∫–∏—Ä—É–µ—Ç—Å—è\nfunction Component() {\n  const [query, setQuery] = useState('');\n  const [results, setResults] = useState([]);\n\n  const handleChange = (e) => {\n    const value = e.target.value;\n    setQuery(value); // –ë–ª–æ–∫–∏—Ä—É–µ—Ç UI\n    setResults(expensiveFilter(allItems, value)); // –¢–æ–∂–µ –±–ª–æ–∫–∏—Ä—É–µ—Ç UI\n    // –ü–æ–∫–∞ –æ–±–∞ setState –Ω–µ –∑–∞–≤–µ—Ä—à–∞—Ç—Å—è, –≤–≤–æ–¥ \"–ª–∞–≥–∞–µ—Ç\"\n  };\n}\n\n// ‚úÖ –° useTransition - UI –æ—Ç–∑—ã–≤—á–∏–≤—ã–π\nfunction Component() {\n  const [query, setQuery] = useState('');\n  const [results, setResults] = useState([]);\n  const [isPending, startTransition] = useTransition();\n\n  const handleChange = (e) => {\n    const value = e.target.value;\n    setQuery(value); // –í—ã—Å–æ–∫–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç\n    \n    startTransition(() => {\n      setResults(expensiveFilter(allItems, value)); // –ù–∏–∑–∫–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç\n    });\n    // –í–≤–æ–¥ –≤—Å–µ–≥–¥–∞ –æ—Ç–∑—ã–≤—á–∏–≤—ã–π, –¥–∞–∂–µ –µ—Å–ª–∏ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è –º–µ–¥–ª–µ–Ω–Ω–∞—è\n  };\n}\n```\n\n**useDeferredValue - –æ—Ç–∫–ª–∞–¥—ã–≤–∞–µ—Ç –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∑–Ω–∞—á–µ–Ω–∏—è:**\n\n```tsx\nimport { useDeferredValue, useState, useMemo } from 'react';\n\nfunction SearchResults({ query }: { query: string }) {\n  // –û—Ç–ª–æ–∂–µ–Ω–Ω–∞—è –≤–µ—Ä—Å–∏—è query\n  const deferredQuery = useDeferredValue(query);\n\n  // –î–æ—Ä–æ–≥–æ—Å—Ç–æ—è—â–∏–µ –≤—ã—á–∏—Å–ª–µ–Ω–∏—è –∏—Å–ø–æ–ª—å–∑—É—é—Ç deferredQuery\n  const results = useMemo(() => {\n    return expensiveFilter(allItems, deferredQuery);\n  }, [deferredQuery]);\n\n  return (\n    <div>\n      {/* –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —Å—Ç–∞—Ä—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –ø–æ–∫–∞ –≤—ã—á–∏—Å–ª—è—é—Ç—Å—è –Ω–æ–≤—ã–µ */}\n      <ResultList results={results} />\n    </div>\n  );\n}\n\nfunction SearchPage() {\n  const [query, setQuery] = useState('');\n\n  return (\n    <div>\n      {/* Input –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –Ω–µ–º–µ–¥–ª–µ–Ω–Ω–æ */}\n      <input\n        value={query}\n        onChange={e => setQuery(e.target.value)}\n      />\n      {/* Results –æ–±–Ω–æ–≤–ª—è—é—Ç—Å—è —Å –∑–∞–¥–µ—Ä–∂–∫–æ–π */}\n      <SearchResults query={query} />\n    </div>\n  );\n}\n```\n\n**useTransition vs useDeferredValue:**\n\n```tsx\n// useTransition - –∫–æ–≥–¥–∞ –≤—ã –∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä—É–µ—Ç–µ setState\nfunction Component() {\n  const [isPending, startTransition] = useTransition();\n  \n  const handleClick = () => {\n    startTransition(() => {\n      setState(newValue); // –í—ã –∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä—É–µ—Ç–µ —ç—Ç–æ—Ç setState\n    });\n  };\n}\n\n// useDeferredValue - –∫–æ–≥–¥–∞ –∑–Ω–∞—á–µ–Ω–∏–µ –ø—Ä–∏—Ö–æ–¥–∏—Ç –∏–∑–≤–Ω–µ (props)\nfunction Component({ value }: { value: string }) {\n  const deferredValue = useDeferredValue(value);\n  // value –∏–∑ props, –≤—ã –Ω–µ –∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä—É–µ—Ç–µ –µ–≥–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ\n}\n```\n\n**useId - –≥–µ–Ω–µ—Ä–∞—Ü–∏—è —É–Ω–∏–∫–∞–ª—å–Ω—ã—Ö ID –¥–ª—è SSR:**\n\n```tsx\nimport { useId } from 'react';\n\n// ‚ùå –ü—Ä–æ–±–ª–µ–º–∞ –±–µ–∑ useId - SSR/Client mismatch\nfunction Form() {\n  const id = Math.random().toString(); // –†–∞–∑–Ω—ã–µ ID –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ –∏ –∫–ª–∏–µ–Ω—Ç–µ!\n  \n  return (\n    <div>\n      <label htmlFor={id}>Name</label>\n      <input id={id} />\n    </div>\n  );\n}\n\n// ‚úÖ useId –≥–∞—Ä–∞–Ω—Ç–∏—Ä—É–µ—Ç –æ–¥–∏–Ω–∞–∫–æ–≤—ã–µ ID\nfunction Form() {\n  const id = useId();\n  \n  return (\n    <div>\n      <label htmlFor={id}>Name</label>\n      <input id={id} />\n    </div>\n  );\n}\n```\n\n**useId –¥–ª—è –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤:**\n\n```tsx\nfunction FormFields() {\n  const id = useId();\n  \n  return (\n    <div>\n      <label htmlFor={`${id}-name`}>Name</label>\n      <input id={`${id}-name`} />\n      \n      <label htmlFor={`${id}-email`}>Email</label>\n      <input id={`${id}-email`} />\n      \n      <label htmlFor={`${id}-password`}>Password</label>\n      <input id={`${id}-password`} />\n    </div>\n  );\n}\n\n// –ö–∞–∂–¥—ã–π —ç–∫–∑–µ–º–ø–ª—è—Ä –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ –ø–æ–ª—É—á–∞–µ—Ç —É–Ω–∏–∫–∞–ª—å–Ω—ã–π id\nfunction Page() {\n  return (\n    <div>\n      <FormFields /> {/* id: :r1: */}\n      <FormFields /> {/* id: :r2: */}\n      <FormFields /> {/* id: :r3: */}\n    </div>\n  );\n}\n```\n\n**–ö–æ–º–±–∏–Ω–∞—Ü–∏—è –≤—Å–µ—Ö —Ç—Ä—ë—Ö —Ö—É–∫–æ–≤:**\n\n```tsx\nfunction DataTable({ data }: { data: Item[] }) {\n  const [query, setQuery] = useState('');\n  const [sortBy, setSortBy] = useState<'name' | 'date'>('name');\n  const [isPending, startTransition] = useTransition();\n  const deferredQuery = useDeferredValue(query);\n  const searchId = useId();\n\n  // –î–æ—Ä–æ–≥–æ—Å—Ç–æ—è—â–∞—è —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è –∏ —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞\n  const processedData = useMemo(() => {\n    const filtered = data.filter(item =>\n      item.name.toLowerCase().includes(deferredQuery.toLowerCase())\n    );\n    \n    return filtered.sort((a, b) => {\n      if (sortBy === 'name') {\n        return a.name.localeCompare(b.name);\n      } else {\n        return new Date(b.date).getTime() - new Date(a.date).getTime();\n      }\n    });\n  }, [data, deferredQuery, sortBy]);\n\n  const handleSort = (newSortBy: 'name' | 'date') => {\n    startTransition(() => {\n      setSortBy(newSortBy);\n    });\n  };\n\n  return (\n    <div>\n      <label htmlFor={searchId}>Search:</label>\n      <input\n        id={searchId}\n        value={query}\n        onChange={e => setQuery(e.target.value)}\n        placeholder=\"Search...\"\n      />\n      \n      <div>\n        <button onClick={() => handleSort('name')}>Sort by Name</button>\n        <button onClick={() => handleSort('date')}>Sort by Date</button>\n      </div>\n\n      {isPending && <div className=\"loading-overlay\">Updating...</div>}\n      \n      <table>\n        <tbody>\n          {processedData.map(item => (\n            <tr key={item.id}>\n              <td>{item.name}</td>\n              <td>{item.date}</td>\n            </tr>\n          ))}\n        </tbody>\n      </table>\n    </div>\n  );\n}\n```\n\n**Concurrent Features Best Practices:**\n\n```tsx\n// ‚úÖ useTransition –¥–ª—è –ª–æ–∫–∞–ª—å–Ω—ã—Ö –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π\nconst [isPending, startTransition] = useTransition();\nstartTransition(() => {\n  setState(newValue);\n});\n\n// ‚úÖ useDeferredValue –¥–ª—è props\nconst deferredValue = useDeferredValue(propValue);\n\n// ‚úÖ useId –¥–ª—è accessibility\nconst id = useId();\n<label htmlFor={id}>Label</label>\n<input id={id} />\n\n// ‚ùå –ù–ï –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –¥–ª—è:\n// - Data fetching (–∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ Suspense)\n// - –ö—Ä–∏—Ç–∏—á–Ω—ã—Ö –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π (–ø–ª–∞—Ç–µ–∂–∏, –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è)\n// - –ê–Ω–∏–º–∞—Ü–∏–π (–∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ CSS –∏–ª–∏ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ –∞–Ω–∏–º–∞—Ü–∏–π)\n```\n\n**–ò–∑–º–µ—Ä–µ–Ω–∏–µ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏:**\n\n```tsx\nfunction Component() {\n  const [isPending, startTransition] = useTransition();\n\n  const handleUpdate = () => {\n    const start = performance.now();\n    \n    startTransition(() => {\n      setState(newValue);\n      \n      // –ò–∑–º–µ—Ä—è–µ–º –ø–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è transition\n      setTimeout(() => {\n        const end = performance.now();\n        console.log(`Transition took ${end - start}ms`);\n      }, 0);\n    });\n  };\n}\n```\n\n\n**–°–µ–∫—Ü–∏—è 2 (Hooks) –∑–∞–≤–µ—Ä—à–µ–Ω–∞!** \n\n–î–æ–±–∞–≤–ª–µ–Ω–æ 12 –≤–æ–ø—Ä–æ—Å–æ–≤ (11-22):\n- useState batching –∏ React 18 Automatic Batching\n- useEffect cleanup –∏ React 18 Strict Mode\n- useContext –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –∏ –ø–∞—Ç—Ç–µ—Ä–Ω—ã\n- useReducer vs useState\n- useCallback –ø—Ä–æ—Ñ–∏–ª–∏—Ä–æ–≤–∞–Ω–∏–µ\n- useMemo vs React.memo\n- useRef –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è\n- useImperativeHandle —Å forwardRef\n- Custom Hooks –ø–∞—Ç—Ç–µ—Ä–Ω—ã\n- Rules of Hooks\n- useLayoutEffect vs useEffect\n- React 18 Concurrent Hooks\n\n**–ü—Ä–æ–≥—Ä–µ—Å—Å: 22/70 –≤–æ–ø—Ä–æ—Å–æ–≤ (31.4%)**\n\n\n\n",
          "best_practices": [],
          "difficulty": "Senior"
        }
      ]
    },
    {
      "chapter_number": 3,
      "chapter_title": "Advanced Patterns",
      "questions_count": 10,
      "questions": [
        {
          "question_number": 23,
          "question_number_in_chapter": 1,
          "question_chapter": 3,
          "question_title": "Higher-Order Components (HOC) - –ø–∞—Ç—Ç–µ—Ä–Ω, –ø—Ä–æ–±–ª–µ–º—ã, –º–∏–≥—Ä–∞—Ü–∏—è –Ω–∞ Hooks.",
          "answer_markdown": "\n**–û—Ç–≤–µ—Ç:**\n\n**Higher-Order Component (HOC)** - —Ñ—É–Ω–∫—Ü–∏—è, –ø—Ä–∏–Ω–∏–º–∞—é—â–∞—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –∏ –≤–æ–∑–≤—Ä–∞—â–∞—é—â–∞—è –Ω–æ–≤—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç —Å –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–º–∏ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—è–º–∏.\n\n**–ë–∞–∑–æ–≤—ã–π –ø—Ä–∏–º–µ—Ä:**\n\n```tsx\n// HOC –¥–æ–±–∞–≤–ª—è–µ—Ç loading state\nfunction withLoading<P extends object>(\n  Component: React.ComponentType<P>\n): React.FC<P & { isLoading: boolean }> {\n  return ({ isLoading, ...props }: P & { isLoading: boolean }) => {\n    if (isLoading) {\n      return <div>Loading...</div>;\n    }\n    return <Component {...(props as P)} />;\n  };\n}\n\n// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ\nfunction UserList({ users }: { users: User[] }) {\n  return (\n    <ul>\n      {users.map(user => <li key={user.id}>{user.name}</li>)}\n    </ul>\n  );\n}\n\nconst UserListWithLoading = withLoading(UserList);\n\nfunction App() {\n  const [users, setUsers] = useState<User[]>([]);\n  const [loading, setLoading] = useState(true);\n\n  return <UserListWithLoading users={users} isLoading={loading} />;\n}\n```\n\n**–¢–∏–ø–∏—á–Ω—ã–µ HOC –ø–∞—Ç—Ç–µ—Ä–Ω—ã:**\n\n**1. withAuth - –ø—Ä–æ–≤–µ—Ä–∫–∞ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏:**\n\n```tsx\nfunction withAuth<P extends object>(\n  Component: React.ComponentType<P>\n): React.FC<P> {\n  return (props: P) => {\n    const { user, loading } = useAuth();\n\n    if (loading) return <Spinner />;\n    if (!user) return <Navigate to=\"/login\" />;\n\n    return <Component {...props} />;\n  };\n}\n\n// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ\nconst ProtectedPage = withAuth(Dashboard);\n```\n\n**2. withData - data fetching:**\n\n```tsx\nfunction withData<T, P extends object>(\n  url: string,\n  Component: React.ComponentType<P & { data: T }>\n): React.FC<P> {\n  return (props: P) => {\n    const [data, setData] = useState<T | null>(null);\n    const [loading, setLoading] = useState(true);\n\n    useEffect(() => {\n      fetch(url)\n        .then(res => res.json())\n        .then(data => {\n          setData(data);\n          setLoading(false);\n        });\n    }, []);\n\n    if (loading) return <Spinner />;\n    if (!data) return null;\n\n    return <Component {...props} data={data} />;\n  };\n}\n\n// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ\nconst UserProfile = withData<User, { userId: string }>(\n  '/api/user',\n  ({ data, userId }) => <div>{data.name}</div>\n);\n```\n\n**3. withLogger - logging:**\n\n```tsx\nfunction withLogger<P extends object>(\n  componentName: string,\n  Component: React.ComponentType<P>\n): React.FC<P> {\n  return (props: P) => {\n    useEffect(() => {\n      console.log(`${componentName} mounted with props:`, props);\n      \n      return () => {\n        console.log(`${componentName} unmounted`);\n      };\n    }, [props]);\n\n    return <Component {...props} />;\n  };\n}\n\n// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ\nconst LoggedUserList = withLogger('UserList', UserList);\n```\n\n**–ö–æ–º–ø–æ–∑–∏—Ü–∏—è HOC:**\n\n```tsx\n// ‚ùå –ü—Ä–æ–±–ª–µ–º–∞: Wrapper Hell\nconst Enhanced = withAuth(\n  withLoading(\n    withData(\n      withLogger('Component', Component)\n    )\n  )\n);\n\n// ‚úÖ –†–µ—à–µ–Ω–∏–µ: compose utility\nfunction compose<P>(...hocs: Array<(comp: React.ComponentType<any>) => React.ComponentType<any>>) {\n  return (Component: React.ComponentType<P>) => {\n    return hocs.reduceRight(\n      (acc, hoc) => hoc(acc),\n      Component\n    );\n  };\n}\n\n// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ\nconst enhance = compose(\n  withAuth,\n  withLoading,\n  withData('/api/users'),\n  withLogger('UserList')\n);\n\nconst EnhancedUserList = enhance(UserList);\n```\n\n**–ü—Ä–æ–±–ª–µ–º—ã HOC:**\n\n**1. Props collision:**\n\n```tsx\n// ‚ùå –ü—Ä–æ–±–ª–µ–º–∞: –æ–±–∞ HOC –¥–æ–±–∞–≤–ª—è—é—Ç prop \"data\"\nconst Enhanced = withUser(withSettings(Component));\n// withUser –¥–æ–±–∞–≤–ª—è–µ—Ç { data: User }\n// withSettings –¥–æ–±–∞–≤–ª—è–µ—Ç { data: Settings }\n// –ö–æ–Ω—Ñ–ª–∏–∫—Ç!\n\n// ‚úÖ –†–µ—à–µ–Ω–∏–µ: –∏–º–µ–Ω–æ–≤–∞–Ω–Ω—ã–µ props\nfunction withUser<P extends object>(\n  Component: React.ComponentType<P & { user: User }>\n): React.FC<P> {\n  return (props: P) => {\n    const user = useAuth();\n    return <Component {...props} user={user} />;\n  };\n}\n```\n\n**2. Ref –Ω–µ –ø—Ä–æ–±—Ä–∞—Å—ã–≤–∞–µ—Ç—Å—è:**\n\n```tsx\n// ‚ùå –ü—Ä–æ–±–ª–µ–º–∞\nfunction withSomething<P extends object>(Component: React.ComponentType<P>) {\n  return (props: P) => <Component {...props} />;\n  // ref –Ω–µ –ø–µ—Ä–µ–¥–∞–µ—Ç—Å—è –≤ Component!\n}\n\n// ‚úÖ –†–µ—à–µ–Ω–∏–µ: forwardRef\nfunction withSomething<P extends object, R = any>(\n  Component: React.ComponentType<P>\n) {\n  const WithSomething = React.forwardRef<R, P>((props, ref) => {\n    return <Component {...props} ref={ref} />;\n  });\n\n  WithSomething.displayName = `withSomething(${Component.displayName || Component.name})`;\n  \n  return WithSomething;\n}\n```\n\n**3. Static methods –Ω–µ –∫–æ–ø–∏—Ä—É—é—Ç—Å—è:**\n\n```tsx\nimport hoistNonReactStatics from 'hoist-non-react-statics';\n\nfunction withSomething<P extends object>(\n  Component: React.ComponentType<P>\n) {\n  const Enhanced = (props: P) => <Component {...props} />;\n  \n  // ‚úÖ –ö–æ–ø–∏—Ä—É–µ–º —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ –º–µ—Ç–æ–¥—ã\n  hoistNonReactStatics(Enhanced, Component);\n  \n  return Enhanced;\n}\n```\n\n**–ú–∏–≥—Ä–∞—Ü–∏—è —Å HOC –Ω–∞ Hooks:**\n\n```tsx\n// ‚ùå –°—Ç–∞—Ä—ã–π –ø–æ–¥—Ö–æ–¥: HOC\nfunction withWindowSize<P extends object>(\n  Component: React.ComponentType<P & { width: number; height: number }>\n) {\n  return (props: P) => {\n    const [size, setSize] = useState({\n      width: window.innerWidth,\n      height: window.innerHeight\n    });\n\n    useEffect(() => {\n      const handleResize = () => {\n        setSize({ width: window.innerWidth, height: window.innerHeight });\n      };\n      \n      window.addEventListener('resize', handleResize);\n      return () => window.removeEventListener('resize', handleResize);\n    }, []);\n\n    return <Component {...props} {...size} />;\n  };\n}\n\nconst ResponsiveComponent = withWindowSize(Component);\n\n// ‚úÖ –ù–æ–≤—ã–π –ø–æ–¥—Ö–æ–¥: Custom Hook\nfunction useWindowSize() {\n  const [size, setSize] = useState({\n    width: window.innerWidth,\n    height: window.innerHeight\n  });\n\n  useEffect(() => {\n    const handleResize = () => {\n      setSize({ width: window.innerWidth, height: window.innerHeight });\n    };\n    \n    window.addEventListener('resize', handleResize);\n    return () => window.removeEventListener('resize', handleResize);\n  }, []);\n\n  return size;\n}\n\nfunction Component() {\n  const { width, height } = useWindowSize();\n  return <div>Width: {width}, Height: {height}</div>;\n}\n```\n\n**–ö–æ–≥–¥–∞ –≤—Å—ë –µ—â—ë –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å HOC:**\n\n```tsx\n// ‚úÖ –ö–æ–≥–¥–∞ –Ω—É–∂–Ω–æ –æ–±–µ—Ä–Ω—É—Ç—å –∫–æ–º–ø–æ–Ω–µ–Ω—Ç —Ü–µ–ª–∏–∫–æ–º\n// –ù–∞–ø—Ä–∏–º–µ—Ä, –¥–ª—è Error Boundary (–Ω–µ—Ç hook-–∞–Ω–∞–ª–æ–≥–∞)\nfunction withErrorBoundary<P extends object>(\n  Component: React.ComponentType<P>,\n  FallbackComponent: React.ComponentType<{ error: Error }>\n) {\n  return (props: P) => (\n    <ErrorBoundary FallbackComponent={FallbackComponent}>\n      <Component {...props} />\n    </ErrorBoundary>\n  );\n}\n\n// ‚úÖ –î–ª—è legacy –∫–æ–¥–∞ —Å –∫–ª–∞—Å—Å–æ–≤—ã–º–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º–∏\nclass LegacyComponent extends React.Component {\n  render() {\n    return <div>{this.props.data}</div>;\n  }\n}\n\nconst Enhanced = withData('/api/data', LegacyComponent);\n```\n\n\n",
          "best_practices": [],
          "difficulty": "Senior"
        },
        {
          "question_number": 24,
          "question_number_in_chapter": 2,
          "question_chapter": 3,
          "question_title": "Render Props - –ø–∞—Ç—Ç–µ—Ä–Ω, –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ, –º–∏–≥—Ä–∞—Ü–∏—è –Ω–∞ Hooks.",
          "answer_markdown": "\n**–û—Ç–≤–µ—Ç:**\n\n**Render Props** - –ø–∞—Ç—Ç–µ—Ä–Ω –ø–µ—Ä–µ–¥–∞—á–∏ —Ñ—É–Ω–∫—Ü–∏–∏ –≤ prop –¥–ª—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è —á—Ç–æ —Ä–µ–Ω–¥–µ—Ä–∏—Ç—å.\n\n**–ë–∞–∑–æ–≤—ã–π –ø—Ä–∏–º–µ—Ä:**\n\n```tsx\ntype MousePosition = { x: number; y: number };\n\nfunction Mouse({ render }: { render: (position: MousePosition) => React.ReactNode }) {\n  const [position, setPosition] = useState<MousePosition>({ x: 0, y: 0 });\n\n  useEffect(() => {\n    const handleMouseMove = (event: MouseEvent) => {\n      setPosition({ x: event.clientX, y: event.clientY });\n    };\n\n    window.addEventListener('mousemove', handleMouseMove);\n    return () => window.removeEventListener('mousemove', handleMouseMove);\n  }, []);\n\n  return <>{render(position)}</>;\n}\n\n// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ\nfunction App() {\n  return (\n    <Mouse\n      render={({ x, y }) => (\n        <div>Mouse position: {x}, {y}</div>\n      )}\n    />\n  );\n}\n```\n\n**–í–∞—Ä–∏–∞—Ü–∏—è: children as function:**\n\n```tsx\nfunction Mouse({ children }: { children: (position: MousePosition) => React.ReactNode }) {\n  const [position, setPosition] = useState<MousePosition>({ x: 0, y: 0 });\n\n  useEffect(() => {\n    const handleMouseMove = (event: MouseEvent) => {\n      setPosition({ x: event.clientX, y: event.clientY });\n    };\n\n    window.addEventListener('mousemove', handleMouseMove);\n    return () => window.removeEventListener('mousemove', handleMouseMove);\n  }, []);\n\n  return <>{children(position)}</>;\n}\n\n// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ\nfunction App() {\n  return (\n    <Mouse>\n      {({ x, y }) => (\n        <div>Mouse position: {x}, {y}</div>\n      )}\n    </Mouse>\n  );\n}\n```\n\n**–ü—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–π –ø—Ä–∏–º–µ—Ä - Form —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ:**\n\n```tsx\ntype FormRenderProps<T> = {\n  values: T;\n  errors: Partial<Record<keyof T, string>>;\n  handleChange: (field: keyof T) => (e: React.ChangeEvent<HTMLInputElement>) => void;\n  handleSubmit: (e: React.FormEvent) => void;\n  isSubmitting: boolean;\n};\n\nfunction Form<T extends Record<string, any>>({\n  initialValues,\n  validate,\n  onSubmit,\n  children\n}: {\n  initialValues: T;\n  validate: (values: T) => Partial<Record<keyof T, string>>;\n  onSubmit: (values: T) => Promise<void>;\n  children: (props: FormRenderProps<T>) => React.ReactNode;\n}) {\n  const [values, setValues] = useState<T>(initialValues);\n  const [errors, setErrors] = useState<Partial<Record<keyof T, string>>>({});\n  const [isSubmitting, setIsSubmitting] = useState(false);\n\n  const handleChange = (field: keyof T) => (e: React.ChangeEvent<HTMLInputElement>) => {\n    setValues(prev => ({ ...prev, [field]: e.target.value }));\n  };\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n    const validationErrors = validate(values);\n    \n    if (Object.keys(validationErrors).length > 0) {\n      setErrors(validationErrors);\n      return;\n    }\n\n    setIsSubmitting(true);\n    try {\n      await onSubmit(values);\n    } finally {\n      setIsSubmitting(false);\n    }\n  };\n\n  return (\n    <>\n      {children({\n        values,\n        errors,\n        handleChange,\n        handleSubmit,\n        isSubmitting\n      })}\n    </>\n  );\n}\n\n// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ\nfunction LoginForm() {\n  return (\n    <Form\n      initialValues={{ email: '', password: '' }}\n      validate={values => {\n        const errors: any = {};\n        if (!values.email) errors.email = 'Required';\n        if (!values.password) errors.password = 'Required';\n        return errors;\n      }}\n      onSubmit={async values => {\n        await login(values);\n      }}\n    >\n      {({ values, errors, handleChange, handleSubmit, isSubmitting }) => (\n        <form onSubmit={handleSubmit}>\n          <input\n            value={values.email}\n            onChange={handleChange('email')}\n          />\n          {errors.email && <span>{errors.email}</span>}\n          \n          <input\n            type=\"password\"\n            value={values.password}\n            onChange={handleChange('password')}\n          />\n          {errors.password && <span>{errors.password}</span>}\n          \n          <button type=\"submit\" disabled={isSubmitting}>\n            {isSubmitting ? 'Loading...' : 'Submit'}\n          </button>\n        </form>\n      )}\n    </Form>\n  );\n}\n```\n\n**Data Fetching —Å Render Props:**\n\n```tsx\ntype DataProps<T> = {\n  data: T | null;\n  loading: boolean;\n  error: Error | null;\n  refetch: () => void;\n};\n\nfunction DataFetcher<T>({\n  url,\n  children\n}: {\n  url: string;\n  children: (props: DataProps<T>) => React.ReactNode;\n}) {\n  const [data, setData] = useState<T | null>(null);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState<Error | null>(null);\n\n  const fetchData = useCallback(async () => {\n    setLoading(true);\n    setError(null);\n    \n    try {\n      const response = await fetch(url);\n      const json = await response.json();\n      setData(json);\n    } catch (err) {\n      setError(err as Error);\n    } finally {\n      setLoading(false);\n    }\n  }, [url]);\n\n  useEffect(() => {\n    fetchData();\n  }, [fetchData]);\n\n  return <>{children({ data, loading, error, refetch: fetchData })}</>;\n}\n\n// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ\nfunction UserProfile({ userId }: { userId: string }) {\n  return (\n    <DataFetcher<User> url={`/api/users/${userId}`}>\n      {({ data, loading, error, refetch }) => {\n        if (loading) return <Spinner />;\n        if (error) return <Error error={error} onRetry={refetch} />;\n        if (!data) return null;\n        \n        return <UserCard user={data} />;\n      }}\n    </DataFetcher>\n  );\n}\n```\n\n**–ü—Ä–æ–±–ª–µ–º–∞: Performance —Å inline functions:**\n\n```tsx\n// ‚ùå –ü—Ä–æ–±–ª–µ–º–∞: –Ω–æ–≤–∞—è —Ñ—É–Ω–∫—Ü–∏—è –∫–∞–∂–¥—ã–π render\nfunction App() {\n  return (\n    <Mouse render={({ x, y }) => (\n      <div>Position: {x}, {y}</div>\n    )} />\n  );\n  // Mouse —Ä–µ-—Ä–µ–Ω–¥–µ—Ä–∏—Ç—Å—è –∫–∞–∂–¥—ã–π —Ä–∞–∑!\n}\n\n// ‚úÖ –†–µ—à–µ–Ω–∏–µ: React.memo + useCallback\nconst Mouse = React.memo(({ render }: { render: (pos: MousePosition) => React.ReactNode }) => {\n  // ...\n});\n\nfunction App() {\n  const renderMouse = useCallback(({ x, y }: MousePosition) => (\n    <div>Position: {x}, {y}</div>\n  ), []);\n\n  return <Mouse render={renderMouse} />;\n}\n```\n\n**–ú–∏–≥—Ä–∞—Ü–∏—è –Ω–∞ Hooks:**\n\n```tsx\n// ‚ùå Render Props (—Å—Ç–∞—Ä—ã–π –ø–æ–¥—Ö–æ–¥)\n<DataFetcher url=\"/api/users\">\n  {({ data, loading, error }) => {\n    if (loading) return <Spinner />;\n    if (error) return <Error error={error} />;\n    return <UserList users={data} />;\n  }}\n</DataFetcher>\n\n// ‚úÖ Custom Hook (—Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π –ø–æ–¥—Ö–æ–¥)\nfunction UserList() {\n  const { data, loading, error } = useApi<User[]>('/api/users');\n\n  if (loading) return <Spinner />;\n  if (error) return <Error error={error} />;\n  \n  return <ul>{data.map(user => <li key={user.id}>{user.name}</li>)}</ul>;\n}\n```\n\n**–ö–æ–≥–¥–∞ –≤—Å—ë –µ—â—ë –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Render Props:**\n\n```tsx\n// ‚úÖ –î–ª—è UI –±–∏–±–ª–∏–æ—Ç–µ–∫ —Å –≥–∏–±–∫–æ–π –∫–∞—Å—Ç–æ–º–∏–∑–∞—Ü–∏–µ–π\n<Dropdown>\n  {({ isOpen, toggle }) => (\n    <div>\n      <button onClick={toggle}>Toggle</button>\n      {isOpen && <DropdownMenu />}\n    </div>\n  )}\n</Dropdown>\n\n// ‚úÖ –î–ª—è –∞–Ω–∏–º–∞—Ü–∏–æ–Ω–Ω—ã—Ö –±–∏–±–ª–∏–æ—Ç–µ–∫\n<Spring from={{ opacity: 0 }} to={{ opacity: 1 }}>\n  {styles => <div style={styles}>Animated Content</div>}\n</Spring>\n\n// ‚úÖ –î–ª—è —Å–ª–æ–∂–Ω–æ–π –∫–æ–º–ø–æ–∑–∏—Ü–∏–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤\n<Virtualized\n  items={items}\n  renderItem={(item, index) => <ItemCard item={item} index={index} />}\n  renderEmpty={() => <EmptyState />}\n  renderLoading={() => <Spinner />}\n/>\n```\n\n\n",
          "best_practices": [],
          "difficulty": "Senior"
        },
        {
          "question_number": 25,
          "question_number_in_chapter": 3,
          "question_chapter": 3,
          "question_title": "Compound Components - –ø–∞—Ç—Ç–µ—Ä–Ω –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –≥–∏–±–∫–∏—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤.",
          "answer_markdown": "\n**–û—Ç–≤–µ—Ç:**\n\n**Compound Components** - –ø–∞—Ç—Ç–µ—Ä–Ω, –≥–¥–µ –Ω–µ—Å–∫–æ–ª—å–∫–æ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ —Ä–∞–±–æ—Ç–∞—é—Ç –≤–º–µ—Å—Ç–µ —á–µ—Ä–µ–∑ –æ–±—â–∏–π state. –ü–æ—Ö–æ–∂–µ –Ω–∞ `<select>` –∏ `<option>` –≤ HTML.\n\n**–ë–∞–∑–æ–≤—ã–π –ø—Ä–∏–º–µ—Ä - Toggle:**\n\n```tsx\n// Context –¥–ª—è shared state\nconst ToggleContext = createContext<{\n  on: boolean;\n  toggle: () => void;\n} | undefined>(undefined);\n\n// –ì–ª–∞–≤–Ω—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç\nfunction Toggle({ children }: { children: React.ReactNode }) {\n  const [on, setOn] = useState(false);\n  const toggle = () => setOn(prev => !prev);\n\n  return (\n    <ToggleContext.Provider value={{ on, toggle }}>\n      {children}\n    </ToggleContext.Provider>\n  );\n}\n\n// Sub-–∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã\nToggle.On = function ToggleOn({ children }: { children: React.ReactNode }) {\n  const context = useContext(ToggleContext);\n  if (!context) throw new Error('Toggle.On must be used within Toggle');\n  \n  return context.on ? <>{children}</> : null;\n};\n\nToggle.Off = function ToggleOff({ children }: { children: React.ReactNode }) {\n  const context = useContext(ToggleContext);\n  if (!context) throw new Error('Toggle.Off must be used within Toggle');\n  \n  return !context.on ? <>{children}</> : null;\n};\n\nToggle.Button = function ToggleButton({ children }: { children: React.ReactNode }) {\n  const context = useContext(ToggleContext);\n  if (!context) throw new Error('Toggle.Button must be used within Toggle');\n  \n  return <button onClick={context.toggle}>{children}</button>;\n};\n\n// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ\nfunction App() {\n  return (\n    <Toggle>\n      <Toggle.Button>Toggle</Toggle.Button>\n      <Toggle.On>\n        <div>The toggle is ON</div>\n      </Toggle.On>\n      <Toggle.Off>\n        <div>The toggle is OFF</div>\n      </Toggle.Off>\n    </Toggle>\n  );\n}\n```\n\n**–ü—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–π –ø—Ä–∏–º–µ—Ä - Accordion:**\n\n```tsx\ntype AccordionContextType = {\n  openItems: Set<string>;\n  toggle: (id: string) => void;\n  allowMultiple: boolean;\n};\n\nconst AccordionContext = createContext<AccordionContextType | undefined>(undefined);\n\nfunction Accordion({\n  children,\n  allowMultiple = false,\n  defaultOpenItems = []\n}: {\n  children: React.ReactNode;\n  allowMultiple?: boolean;\n  defaultOpenItems?: string[];\n}) {\n  const [openItems, setOpenItems] = useState(new Set(defaultOpenItems));\n\n  const toggle = (id: string) => {\n    setOpenItems(prev => {\n      const next = new Set(prev);\n      \n      if (next.has(id)) {\n        next.delete(id);\n      } else {\n        if (!allowMultiple) {\n          next.clear();\n        }\n        next.add(id);\n      }\n      \n      return next;\n    });\n  };\n\n  return (\n    <AccordionContext.Provider value={{ openItems, toggle, allowMultiple }}>\n      <div className=\"accordion\">{children}</div>\n    </AccordionContext.Provider>\n  );\n}\n\n// Accordion.Item —Å —Å–æ–±—Å—Ç–≤–µ–Ω–Ω—ã–º Context\nconst AccordionItemContext = createContext<{\n  id: string;\n  isOpen: boolean;\n} | undefined>(undefined);\n\nAccordion.Item = function AccordionItem({\n  id,\n  children\n}: {\n  id: string;\n  children: React.ReactNode;\n}) {\n  const context = useContext(AccordionContext);\n  if (!context) throw new Error('Accordion.Item must be used within Accordion');\n\n  const isOpen = context.openItems.has(id);\n\n  return (\n    <AccordionItemContext.Provider value={{ id, isOpen }}>\n      <div className={`accordion-item ${isOpen ? 'open' : ''}`}>\n        {children}\n      </div>\n    </AccordionItemContext.Provider>\n  );\n};\n\nAccordion.Header = function AccordionHeader({\n  children\n}: {\n  children: React.ReactNode;\n}) {\n  const accordionContext = useContext(AccordionContext);\n  const itemContext = useContext(AccordionItemContext);\n  \n  if (!accordionContext || !itemContext) {\n    throw new Error('Accordion.Header must be used within Accordion.Item');\n  }\n\n  return (\n    <button\n      className=\"accordion-header\"\n      onClick={() => accordionContext.toggle(itemContext.id)}\n      aria-expanded={itemContext.isOpen}\n    >\n      {children}\n      <span>{itemContext.isOpen ? '‚ñ≤' : '‚ñº'}</span>\n    </button>\n  );\n};\n\nAccordion.Panel = function AccordionPanel({\n  children\n}: {\n  children: React.ReactNode;\n}) {\n  const itemContext = useContext(AccordionItemContext);\n  \n  if (!itemContext) {\n    throw new Error('Accordion.Panel must be used within Accordion.Item');\n  }\n\n  if (!itemContext.isOpen) return null;\n\n  return <div className=\"accordion-panel\">{children}</div>;\n};\n\n// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ\nfunction FAQ() {\n  return (\n    <Accordion allowMultiple defaultOpenItems={['item1']}>\n      <Accordion.Item id=\"item1\">\n        <Accordion.Header>What is React?</Accordion.Header>\n        <Accordion.Panel>\n          React is a JavaScript library for building user interfaces.\n        </Accordion.Panel>\n      </Accordion.Item>\n      \n      <Accordion.Item id=\"item2\">\n        <Accordion.Header>What are Compound Components?</Accordion.Header>\n        <Accordion.Panel>\n          A pattern for creating flexible and reusable component APIs.\n        </Accordion.Panel>\n      </Accordion.Item>\n      \n      <Accordion.Item id=\"item3\">\n        <Accordion.Header>Why use this pattern?</Accordion.Header>\n        <Accordion.Panel>\n          It provides flexibility and separation of concerns.\n        </Accordion.Panel>\n      </Accordion.Item>\n    </Accordion>\n  );\n}\n```\n\n**Tabs —Å Compound Components:**\n\n```tsx\ntype TabsContextType = {\n  activeTab: string;\n  setActiveTab: (tab: string) => void;\n};\n\nconst TabsContext = createContext<TabsContextType | undefined>(undefined);\n\nfunction Tabs({\n  children,\n  defaultTab\n}: {\n  children: React.ReactNode;\n  defaultTab: string;\n}) {\n  const [activeTab, setActiveTab] = useState(defaultTab);\n\n  return (\n    <TabsContext.Provider value={{ activeTab, setActiveTab }}>\n      <div className=\"tabs\">{children}</div>\n    </TabsContext.Provider>\n  );\n}\n\nTabs.List = function TabsList({ children }: { children: React.ReactNode }) {\n  return <div className=\"tabs-list\" role=\"tablist\">{children}</div>;\n};\n\nTabs.Tab = function Tab({\n  id,\n  children\n}: {\n  id: string;\n  children: React.ReactNode;\n}) {\n  const context = useContext(TabsContext);\n  if (!context) throw new Error('Tabs.Tab must be used within Tabs');\n\n  const isActive = context.activeTab === id;\n\n  return (\n    <button\n      className={`tab ${isActive ? 'active' : ''}`}\n      role=\"tab\"\n      aria-selected={isActive}\n      onClick={() => context.setActiveTab(id)}\n    >\n      {children}\n    </button>\n  );\n};\n\nTabs.Panels = function TabsPanels({ children }: { children: React.ReactNode }) {\n  return <div className=\"tabs-panels\">{children}</div>;\n};\n\nTabs.Panel = function TabPanel({\n  id,\n  children\n}: {\n  id: string;\n  children: React.ReactNode;\n}) {\n  const context = useContext(TabsContext);\n  if (!context) throw new Error('Tabs.Panel must be used within Tabs');\n\n  if (context.activeTab !== id) return null;\n\n  return (\n    <div className=\"tab-panel\" role=\"tabpanel\">\n      {children}\n    </div>\n  );\n};\n\n// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ\nfunction Dashboard() {\n  return (\n    <Tabs defaultTab=\"overview\">\n      <Tabs.List>\n        <Tabs.Tab id=\"overview\">Overview</Tabs.Tab>\n        <Tabs.Tab id=\"analytics\">Analytics</Tabs.Tab>\n        <Tabs.Tab id=\"settings\">Settings</Tabs.Tab>\n      </Tabs.List>\n      \n      <Tabs.Panels>\n        <Tabs.Panel id=\"overview\">\n          <OverviewContent />\n        </Tabs.Panel>\n        <Tabs.Panel id=\"analytics\">\n          <AnalyticsContent />\n        </Tabs.Panel>\n        <Tabs.Panel id=\"settings\">\n          <SettingsContent />\n        </Tabs.Panel>\n      </Tabs.Panels>\n    </Tabs>\n  );\n}\n```\n\n**Flexible API —Å render props –≤–Ω—É—Ç—Ä–∏ Compound Components:**\n\n```tsx\nTabs.Tab = function Tab({\n  id,\n  children\n}: {\n  id: string;\n  children: React.ReactNode | ((isActive: boolean) => React.ReactNode);\n}) {\n  const context = useContext(TabsContext);\n  if (!context) throw new Error('Tabs.Tab must be used within Tabs');\n\n  const isActive = context.activeTab === id;\n  const content = typeof children === 'function' ? children(isActive) : children;\n\n  return (\n    <button\n      className={`tab ${isActive ? 'active' : ''}`}\n      onClick={() => context.setActiveTab(id)}\n    >\n      {content}\n    </button>\n  );\n};\n\n// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ\n<Tabs.Tab id=\"overview\">\n  {isActive => (\n    <div>\n      <Icon name={isActive ? 'overview-filled' : 'overview'} />\n      Overview\n    </div>\n  )}\n</Tabs.Tab>\n```\n\n",
          "best_practices": [],
          "difficulty": "Senior"
        },
        {
          "question_number": 26,
          "question_number_in_chapter": 4,
          "question_chapter": 3,
          "question_title": "Error Boundaries - –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –≤ React –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è—Ö.",
          "answer_markdown": "\n**–û—Ç–≤–µ—Ç:**\n\n**Error Boundaries** - –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã, –∫–æ—Ç–æ—Ä—ã–µ –ª–æ–≤—è—Ç JavaScript –æ—à–∏–±–∫–∏ –≤ –¥–æ—á–µ—Ä–Ω–µ–º –¥–µ—Ä–µ–≤–µ, –ª–æ–≥–∏—Ä—É—é—Ç –∏—Ö –∏ –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç fallback UI.\n\n**–í–∞–∂–Ω–æ:** Error Boundaries - —ç—Ç–æ **–∫–ª–∞—Å—Å–æ–≤—ã–µ** –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã. –ù–µ—Ç —Ö—É–∫–∞ –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è Error Boundary!\n\n**–ë–∞–∑–æ–≤—ã–π Error Boundary:**\n\n```tsx\ntype ErrorBoundaryProps = {\n  children: React.ReactNode;\n  fallback?: React.ReactNode;\n};\n\ntype ErrorBoundaryState = {\n  hasError: boolean;\n  error: Error | null;\n};\n\nclass ErrorBoundary extends React.Component<ErrorBoundaryProps, ErrorBoundaryState> {\n  constructor(props: ErrorBoundaryProps) {\n    super(props);\n    this.state = { hasError: false, error: null };\n  }\n\n  // –õ–æ–≤–∏—Ç –æ—à–∏–±–∫–∏ –≤ –¥–æ—á–µ—Ä–Ω–∏—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞—Ö\n  static getDerivedStateFromError(error: Error): ErrorBoundaryState {\n    return { hasError: true, error };\n  }\n\n  // –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –æ—à–∏–±–æ–∫\n  componentDidCatch(error: Error, errorInfo: React.ErrorInfo) {\n    console.error('ErrorBoundary caught an error:', error, errorInfo);\n    \n    // –û—Ç–ø—Ä–∞–≤–∫–∞ –≤ —Å–µ—Ä–≤–∏—Å –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è (Sentry, LogRocket, etc.)\n    logErrorToService(error, errorInfo);\n  }\n\n  render() {\n    if (this.state.hasError) {\n      return this.props.fallback || (\n        <div className=\"error-boundary\">\n          <h2>Something went wrong</h2>\n          <details>\n            <summary>Error details</summary>\n            <pre>{this.state.error?.message}</pre>\n          </details>\n        </div>\n      );\n    }\n\n    return this.props.children;\n  }\n}\n\n// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ\nfunction App() {\n  return (\n    <ErrorBoundary fallback={<ErrorFallback />}>\n      <Dashboard />\n    </ErrorBoundary>\n  );\n}\n```\n\n**–ü—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–π Error Boundary —Å retry:**\n\n```tsx\ntype AdvancedErrorBoundaryProps = {\n  children: React.ReactNode;\n  fallback?: (error: Error, reset: () => void) => React.ReactNode;\n  onError?: (error: Error, errorInfo: React.ErrorInfo) => void;\n};\n\ntype AdvancedErrorBoundaryState = {\n  hasError: boolean;\n  error: Error | null;\n};\n\nclass AdvancedErrorBoundary extends React.Component<\n  AdvancedErrorBoundaryProps,\n  AdvancedErrorBoundaryState\n> {\n  constructor(props: AdvancedErrorBoundaryProps) {\n    super(props);\n    this.state = { hasError: false, error: null };\n  }\n\n  static getDerivedStateFromError(error: Error): AdvancedErrorBoundaryState {\n    return { hasError: true, error };\n  }\n\n  componentDidCatch(error: Error, errorInfo: React.ErrorInfo) {\n    this.props.onError?.(error, errorInfo);\n  }\n\n  reset = () => {\n    this.setState({ hasError: false, error: null });\n  };\n\n  render() {\n    if (this.state.hasError && this.state.error) {\n      if (this.props.fallback) {\n        return this.props.fallback(this.state.error, this.reset);\n      }\n\n      return (\n        <div className=\"error-boundary\">\n          <h2>Something went wrong</h2>\n          <p>{this.state.error.message}</p>\n          <button onClick={this.reset}>Try Again</button>\n        </div>\n      );\n    }\n\n    return this.props.children;\n  }\n}\n\n// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ\nfunction App() {\n  return (\n    <AdvancedErrorBoundary\n      fallback={(error, reset) => (\n        <ErrorScreen error={error} onRetry={reset} />\n      )}\n      onError={(error, errorInfo) => {\n        Sentry.captureException(error, { extra: errorInfo });\n      }}\n    >\n      <Dashboard />\n    </AdvancedErrorBoundary>\n  );\n}\n```\n\n**–ì—Ä–∞–Ω—É–ª—è—Ä–Ω—ã–µ Error Boundaries:**\n\n```tsx\nfunction App() {\n  return (\n    <div>\n      {/* –ì–ª–æ–±–∞–ª—å–Ω—ã–π Error Boundary */}\n      <ErrorBoundary fallback={<FullPageError />}>\n        <Header />\n        \n        {/* Error Boundary –¥–ª—è sidebar */}\n        <ErrorBoundary fallback={<SidebarError />}>\n          <Sidebar />\n        </ErrorBoundary>\n        \n        {/* Error Boundary –¥–ª—è –≥–ª–∞–≤–Ω–æ–≥–æ –∫–æ–Ω—Ç–µ–Ω—Ç–∞ */}\n        <ErrorBoundary fallback={<ContentError />}>\n          <MainContent />\n        </ErrorBoundary>\n        \n        <Footer />\n      </ErrorBoundary>\n    </div>\n  );\n}\n```\n\n**–ß—Ç–æ –ù–ï –ª–æ–≤—è—Ç Error Boundaries:**\n\n```tsx\n// ‚ùå Event handlers\nfunction Component() {\n  const handleClick = () => {\n    throw new Error('Click error'); // –ù–ï –ø–æ–π–º–∞–µ—Ç Error Boundary!\n  };\n  \n  return <button onClick={handleClick}>Click</button>;\n}\n\n// ‚úÖ –†–µ—à–µ–Ω–∏–µ: try-catch\nfunction Component() {\n  const [error, setError] = useState<Error | null>(null);\n  \n  const handleClick = () => {\n    try {\n      throw new Error('Click error');\n    } catch (err) {\n      setError(err as Error);\n    }\n  };\n  \n  if (error) return <div>Error: {error.message}</div>;\n  \n  return <button onClick={handleClick}>Click</button>;\n}\n\n// ‚ùå –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π –∫–æ–¥\nfunction Component() {\n  useEffect(() => {\n    setTimeout(() => {\n      throw new Error('Async error'); // –ù–ï –ø–æ–π–º–∞–µ—Ç Error Boundary!\n    }, 1000);\n  }, []);\n  \n  return <div>Component</div>;\n}\n\n// ‚úÖ –†–µ—à–µ–Ω–∏–µ: try-catch –≤ async\nfunction Component() {\n  const [error, setError] = useState<Error | null>(null);\n  \n  useEffect(() => {\n    const fetchData = async () => {\n      try {\n        const data = await fetch('/api/data');\n        // ...\n      } catch (err) {\n        setError(err as Error);\n      }\n    };\n    \n    fetchData();\n  }, []);\n  \n  if (error) throw error; // –¢–µ–ø–µ—Ä—å –ø–æ–π–º–∞–µ—Ç Error Boundary\n  \n  return <div>Component</div>;\n}\n\n// ‚ùå SSR –æ—à–∏–±–∫–∏ (—Ç–æ–ª—å–∫–æ client-side)\n```\n\n**React Query + Error Boundaries:**\n\n```tsx\nfunction UserProfile({ userId }: { userId: string }) {\n  const { data, isLoading } = useQuery({\n    queryKey: ['user', userId],\n    queryFn: () => fetchUser(userId),\n    // Error –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –±—Ä–æ—Å–∞–µ—Ç—Å—è –¥–ª—è Error Boundary\n    useErrorBoundary: true\n  });\n\n  if (isLoading) return <Spinner />;\n\n  return <UserCard user={data} />;\n}\n\n// Error Boundary –ø–æ–π–º–∞–µ—Ç –æ—à–∏–±–∫—É –∏–∑ useQuery\nfunction App() {\n  return (\n    <ErrorBoundary fallback={<ErrorScreen />}>\n      <UserProfile userId=\"123\" />\n    </ErrorBoundary>\n  );\n}\n```\n\n**Wrapper HOC –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ Error Boundary:**\n\n```tsx\nfunction withErrorBoundary<P extends object>(\n  Component: React.ComponentType<P>,\n  errorBoundaryProps?: {\n    fallback?: React.ReactNode;\n    onError?: (error: Error, errorInfo: React.ErrorInfo) => void;\n  }\n) {\n  const Wrapped = (props: P) => (\n    <ErrorBoundary {...errorBoundaryProps}>\n      <Component {...props} />\n    </ErrorBoundary>\n  );\n\n  Wrapped.displayName = `withErrorBoundary(${Component.displayName || Component.name})`;\n  \n  return Wrapped;\n}\n\n// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ\nconst SafeDashboard = withErrorBoundary(Dashboard, {\n  fallback: <DashboardError />,\n  onError: (error) => Sentry.captureException(error)\n});\n```\n\n**Custom Hook –¥–ª—è Error Boundary (React 18+):**\n\n```tsx\n// –•–∞–∫: –∏—Å–ø–æ–ª—å–∑—É–µ–º useState updater –¥–ª—è –±—Ä–æ—Å–∞–Ω–∏—è –æ—à–∏–±–∫–∏\nfunction useErrorHandler() {\n  const [, setError] = useState();\n  \n  return useCallback((error: Error) => {\n    setError(() => {\n      throw error;\n    });\n  }, []);\n}\n\n// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ\nfunction Component() {\n  const handleError = useErrorHandler();\n\n  const handleClick = async () => {\n    try {\n      await riskyOperation();\n    } catch (error) {\n      handleError(error as Error); // –ë—Ä–æ—Å–∏—Ç –≤ Error Boundary\n    }\n  };\n\n  return <button onClick={handleClick}>Click</button>;\n}\n```\n\n\n",
          "best_practices": [],
          "difficulty": "Senior"
        },
        {
          "question_number": 27,
          "question_number_in_chapter": 5,
          "question_chapter": 3,
          "question_title": "Portals - —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ –≤–Ω–µ DOM –∏–µ—Ä–∞—Ä—Ö–∏–∏.",
          "answer_markdown": "\n**–û—Ç–≤–µ—Ç:**\n\n**Portals** - —Å–ø–æ—Å–æ–± —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞ –¥–µ—Ç–µ–π –≤ DOM —É–∑–µ–ª, –∫–æ—Ç–æ—Ä—ã–π —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –≤–Ω–µ —Ä–æ–¥–∏—Ç–µ–ª—å—Å–∫–æ–≥–æ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞.\n\n**–°–∏–Ω—Ç–∞–∫—Å–∏—Å:**\n\n```tsx\nimport { createPortal } from 'react-dom';\n\ncreatePortal(children, domNode, key?)\n```\n\n**–ë–∞–∑–æ–≤—ã–π –ø—Ä–∏–º–µ—Ä - Modal:**\n\n```tsx\nfunction Modal({ children, isOpen }: { children: React.ReactNode; isOpen: boolean }) {\n  if (!isOpen) return null;\n\n  return createPortal(\n    <div className=\"modal-overlay\">\n      <div className=\"modal-content\">\n        {children}\n      </div>\n    </div>,\n    document.body // –†–µ–Ω–¥–µ—Ä–∏—Ç—Å—è –≤ <body>, –Ω–µ –≤ —Ä–æ–¥–∏—Ç–µ–ª–µ\n  );\n}\n\n// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ\nfunction App() {\n  const [isOpen, setIsOpen] = useState(false);\n\n  return (\n    <div className=\"app\">\n      <button onClick={() => setIsOpen(true)}>Open Modal</button>\n      \n      {/* Modal —Ä–µ–Ω–¥–µ—Ä–∏—Ç—Å—è –≤ document.body, –Ω–æ event bubbling —Ä–∞–±–æ—Ç–∞–µ—Ç */}\n      <Modal isOpen={isOpen}>\n        <h2>Modal Content</h2>\n        <button onClick={() => setIsOpen(false)}>Close</button>\n      </Modal>\n    </div>\n  );\n}\n```\n\n**HTML —Å—Ç—Ä—É–∫—Ç—É—Ä–∞:**\n\n```html\n<body>\n  <div id=\"root\">\n    <div class=\"app\">\n      <button>Open Modal</button>\n      <!-- Modal –ù–ï –∑–¥–µ—Å—å -->\n    </div>\n  </div>\n  \n  <!-- Modal —Ä–µ–Ω–¥–µ—Ä–∏—Ç—Å—è –∑–¥–µ—Å—å —á–µ—Ä–µ–∑ Portal -->\n  <div class=\"modal-overlay\">\n    <div class=\"modal-content\">\n      <h2>Modal Content</h2>\n      <button>Close</button>\n    </div>\n  </div>\n</body>\n```\n\n**–ü—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–π Modal —Å —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ–º DOM —É–∑–ª–æ–º:**\n\n```tsx\nfunction Modal({\n  children,\n  isOpen,\n  onClose\n}: {\n  children: React.ReactNode;\n  isOpen: boolean;\n  onClose: () => void;\n}) {\n  const [modalRoot] = useState(() => {\n    const div = document.createElement('div');\n    div.id = 'modal-root';\n    return div;\n  });\n\n  useEffect(() => {\n    document.body.appendChild(modalRoot);\n    \n    return () => {\n      document.body.removeChild(modalRoot);\n    };\n  }, [modalRoot]);\n\n  useEffect(() => {\n    const handleEscape = (e: KeyboardEvent) => {\n      if (e.key === 'Escape') onClose();\n    };\n\n    if (isOpen) {\n      document.addEventListener('keydown', handleEscape);\n      document.body.style.overflow = 'hidden'; // –ë–ª–æ–∫–∏—Ä—É–µ–º —Å–∫—Ä–æ–ª–ª\n    }\n\n    return () => {\n      document.removeEventListener('keydown', handleEscape);\n      document.body.style.overflow = 'auto';\n    };\n  }, [isOpen, onClose]);\n\n  if (!isOpen) return null;\n\n  return createPortal(\n    <div\n      className=\"modal-overlay\"\n      onClick={onClose} // –ó–∞–∫—Ä—ã—Ç–∏–µ –ø–æ –∫–ª–∏–∫—É –Ω–∞ overlay\n    >\n      <div\n        className=\"modal-content\"\n        onClick={e => e.stopPropagation()} // –ü—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ–º –∑–∞–∫—Ä—ã—Ç–∏–µ –ø—Ä–∏ –∫–ª–∏–∫–µ –Ω–∞ content\n      >\n        {children}\n      </div>\n    </div>,\n    modalRoot\n  );\n}\n```\n\n**Tooltip —Å Portal:**\n\n```tsx\nfunction Tooltip({\n  children,\n  content,\n  targetRef\n}: {\n  children: React.ReactNode;\n  content: React.ReactNode;\n  targetRef: React.RefObject<HTMLElement>;\n}) {\n  const [position, setPosition] = useState({ top: 0, left: 0 });\n  const [isVisible, setIsVisible] = useState(false);\n\n  useLayoutEffect(() => {\n    if (!targetRef.current || !isVisible) return;\n\n    const rect = targetRef.current.getBoundingClientRect();\n    setPosition({\n      top: rect.bottom + window.scrollY + 5,\n      left: rect.left + rect.width / 2\n    });\n  }, [targetRef, isVisible]);\n\n  if (!isVisible) return null;\n\n  return createPortal(\n    <div\n      className=\"tooltip\"\n      style={{\n        position: 'absolute',\n        top: position.top,\n        left: position.left,\n        transform: 'translateX(-50%)'\n      }}\n    >\n      {content}\n    </div>,\n    document.body\n  );\n}\n\n// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ\nfunction Button() {\n  const buttonRef = useRef<HTMLButtonElement>(null);\n  const [showTooltip, setShowTooltip] = useState(false);\n\n  return (\n    <>\n      <button\n        ref={buttonRef}\n        onMouseEnter={() => setShowTooltip(true)}\n        onMouseLeave={() => setShowTooltip(false)}\n      >\n        Hover me\n      </button>\n      \n      <Tooltip\n        targetRef={buttonRef}\n        content=\"This is a tooltip\"\n        isVisible={showTooltip}\n      />\n    </>\n  );\n}\n```\n\n**Dropdown Menu —Å Portal:**\n\n```tsx\nfunction Dropdown({\n  trigger,\n  children\n}: {\n  trigger: React.ReactNode;\n  children: React.ReactNode;\n}) {\n  const [isOpen, setIsOpen] = useState(false);\n  const [position, setPosition] = useState({ top: 0, left: 0 });\n  const triggerRef = useRef<HTMLDivElement>(null);\n  const dropdownRef = useRef<HTMLDivElement>(null);\n\n  useLayoutEffect(() => {\n    if (!triggerRef.current || !isOpen) return;\n\n    const rect = triggerRef.current.getBoundingClientRect();\n    setPosition({\n      top: rect.bottom + window.scrollY,\n      left: rect.left + window.scrollX\n    });\n  }, [isOpen]);\n\n  // –ó–∞–∫—Ä—ã—Ç–∏–µ –ø–æ –∫–ª–∏–∫—É –≤–Ω–µ dropdown\n  useEffect(() => {\n    if (!isOpen) return;\n\n    const handleClickOutside = (e: MouseEvent) => {\n      if (\n        dropdownRef.current &&\n        !dropdownRef.current.contains(e.target as Node) &&\n        triggerRef.current &&\n        !triggerRef.current.contains(e.target as Node)\n      ) {\n        setIsOpen(false);\n      }\n    };\n\n    document.addEventListener('mousedown', handleClickOutside);\n    return () => document.removeEventListener('mousedown', handleClickOutside);\n  }, [isOpen]);\n\n  return (\n    <>\n      <div ref={triggerRef} onClick={() => setIsOpen(!isOpen)}>\n        {trigger}\n      </div>\n\n      {isOpen &&\n        createPortal(\n          <div\n            ref={dropdownRef}\n            className=\"dropdown-menu\"\n            style={{\n              position: 'absolute',\n              top: position.top,\n              left: position.left\n            }}\n          >\n            {children}\n          </div>,\n          document.body\n        )}\n    </>\n  );\n}\n\n// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ\nfunction UserMenu() {\n  return (\n    <Dropdown trigger={<button>User Menu</button>}>\n      <div className=\"menu-item\">Profile</div>\n      <div className=\"menu-item\">Settings</div>\n      <div className=\"menu-item\">Logout</div>\n    </Dropdown>\n  );\n}\n```\n\n**Event Bubbling —á–µ—Ä–µ–∑ Portals:**\n\n```tsx\n// ‚ö†Ô∏è –°–æ–±—ã—Ç–∏—è –≤—Å–ø–ª—ã–≤–∞—é—Ç —á–µ—Ä–µ–∑ React tree, –ù–ï DOM tree\nfunction Parent() {\n  const handleClick = () => {\n    console.log('Parent clicked'); // –°—Ä–∞–±–æ—Ç–∞–µ—Ç!\n  };\n\n  return (\n    <div onClick={handleClick}>\n      <Child />\n    </div>\n  );\n}\n\nfunction Child() {\n  return createPortal(\n    <button>Click Me</button>,\n    document.body\n  );\n  // –ö–ª–∏–∫ –Ω–∞ button –≤—Å–ø–ª—ã–≤—ë—Ç –∫ Parent —á–µ—Ä–µ–∑ React tree,\n  // —Ö–æ—Ç—è –≤ DOM tree –æ–Ω–∏ –Ω–µ —Å–≤—è–∑–∞–Ω—ã!\n}\n```\n\n**–£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–π Portal –∫–æ–º–ø–æ–Ω–µ–Ω—Ç:**\n\n```tsx\nfunction Portal({\n  children,\n  container\n}: {\n  children: React.ReactNode;\n  container?: HTMLElement;\n}) {\n  const [portalContainer] = useState(() => {\n    if (container) return container;\n    \n    const div = document.createElement('div');\n    div.className = 'portal-container';\n    return div;\n  });\n\n  useEffect(() => {\n    if (!container) {\n      document.body.appendChild(portalContainer);\n      \n      return () => {\n        document.body.removeChild(portalContainer);\n      };\n    }\n  }, [portalContainer, container]);\n\n  return createPortal(children, portalContainer);\n}\n\n// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ\nfunction App() {\n  return (\n    <div>\n      <Portal>\n        <div>Rendered in body</div>\n      </Portal>\n      \n      <Portal container={document.getElementById('sidebar')}>\n        <div>Rendered in #sidebar</div>\n      </Portal>\n    </div>\n  );\n}\n```\n\n**–ü—Ä–∏–º–µ–Ω–µ–Ω–∏—è Portals:**\n\n1. **Modals/Dialogs** - –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏–µ `z-index` –∏ `overflow: hidden` –ø—Ä–æ–±–ª–µ–º\n2. **Tooltips** - –ø–æ–∑–∏—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–æ viewport\n3. **Dropdowns/Popovers** - –∏–∑–±–µ–∂–∞–Ω–∏–µ clipping\n4. **Notifications/Toasts** - —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥ –≤ —Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω–æ–º –º–µ—Å—Ç–µ\n5. **Context Menus** - –ø–æ–∑–∏—Ü–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ –ª—é–±–æ–º –º–µ—Å—Ç–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã\n\n\n",
          "best_practices": [],
          "difficulty": "Senior"
        },
        {
          "question_number": 28,
          "question_number_in_chapter": 6,
          "question_chapter": 3,
          "question_title": "Code Splitting –∏ React.lazy - –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –∑–∞–≥—Ä—É–∑–∫–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è.",
          "answer_markdown": "\n**–û—Ç–≤–µ—Ç:**\n\n**Code Splitting** - —Ä–∞–∑–¥–µ–ª–µ–Ω–∏–µ –±–∞–Ω–¥–ª–∞ –Ω–∞ —á–∞—Å—Ç–∏, –∑–∞–≥—Ä—É–∂–∞–µ–º—ã–µ –ø–æ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—é. **React.lazy** - –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–π import –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤.\n\n**–ë–∞–∑–æ–≤—ã–π –ø—Ä–∏–º–µ—Ä:**\n\n```tsx\nimport { lazy, Suspense } from 'react';\n\n// ‚ùå –°—Ç–∞—Ç–∏—á–µ—Å–∫–∏–π import - –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –≤ –≥–ª–∞–≤–Ω–æ–º –±–∞–Ω–¥–ª–µ\nimport Dashboard from './Dashboard';\n\n// ‚úÖ –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–π import - –æ—Ç–¥–µ–ª—å–Ω—ã–π chunk\nconst Dashboard = lazy(() => import('./Dashboard'));\n\nfunction App() {\n  return (\n    <Suspense fallback={<Spinner />}>\n      <Dashboard />\n    </Suspense>\n  );\n}\n```\n\n**Route-based Code Splitting:**\n\n```tsx\nimport { lazy, Suspense } from 'react';\nimport { BrowserRouter, Routes, Route } from 'react-router-dom';\n\n// Lazy load —Å—Ç—Ä–∞–Ω–∏—Ü\nconst Home = lazy(() => import('./pages/Home'));\nconst About = lazy(() => import('./pages/About'));\nconst Dashboard = lazy(() => import('./pages/Dashboard'));\nconst Profile = lazy(() => import('./pages/Profile'));\n\nfunction App() {\n  return (\n    <BrowserRouter>\n      <Suspense fallback={<PageLoader />}>\n        <Routes>\n          <Route path=\"/\" element={<Home />} />\n          <Route path=\"/about\" element={<About />} />\n          <Route path=\"/dashboard\" element={<Dashboard />} />\n          <Route path=\"/profile\" element={<Profile />} />\n        </Routes>\n      </Suspense>\n    </BrowserRouter>\n  );\n}\n```\n\n**Named exports —Å lazy:**\n\n```tsx\n// ‚ùå –ü—Ä–æ–±–ª–µ–º–∞: React.lazy —Ä–∞–±–æ—Ç–∞–µ—Ç —Ç–æ–ª—å–∫–æ —Å default export\nexport const MyComponent = () => <div>Component</div>;\n\nconst MyComponent = lazy(() => import('./MyComponent')); // –û—à–∏–±–∫–∞!\n\n// ‚úÖ –†–µ—à–µ–Ω–∏–µ 1: –æ–±–µ—Ä—Ç–∫–∞ –¥–ª—è named export\nconst MyComponent = lazy(() =>\n  import('./MyComponent').then(module => ({\n    default: module.MyComponent\n  }))\n);\n\n// ‚úÖ –†–µ—à–µ–Ω–∏–µ 2: —Å–æ–∑–¥–∞—Ç—å wrapper —Ñ–∞–π–ª\n// MyComponent.lazy.tsx\nexport { default } from './MyComponent';\n```\n\n**–í–ª–æ–∂–µ–Ω–Ω—ã–µ Suspense boundaries:**\n\n```tsx\nfunction App() {\n  return (\n    <div>\n      <Header /> {/* –ó–∞–≥—Ä—É–∂–µ–Ω —Å—Ä–∞–∑—É */}\n      \n      {/* Suspense –¥–ª—è sidebar */}\n      <Suspense fallback={<SidebarSkeleton />}>\n        <Sidebar />\n      </Suspense>\n      \n      {/* Suspense –¥–ª—è main content */}\n      <Suspense fallback={<ContentSkeleton />}>\n        <MainContent />\n        \n        {/* –í–ª–æ–∂–µ–Ω–Ω—ã–π Suspense –¥–ª—è –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞ */}\n        <Suspense fallback={<ModalSkeleton />}>\n          <Modal />\n        </Suspense>\n      </Suspense>\n      \n      <Footer /> {/* –ó–∞–≥—Ä—É–∂–µ–Ω —Å—Ä–∞–∑—É */}\n    </div>\n  );\n}\n```\n\n**Preloading –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤:**\n\n```tsx\nconst Dashboard = lazy(() => import('./Dashboard'));\n\n// –§—É–Ω–∫—Ü–∏—è –¥–ª—è preload\nconst preloadDashboard = () => {\n  // –ù–∞—á–∏–Ω–∞–µ—Ç –∑–∞–≥—Ä—É–∑–∫—É, –Ω–æ –Ω–µ —Ä–µ–Ω–¥–µ—Ä–∏—Ç\n  import('./Dashboard');\n};\n\nfunction App() {\n  return (\n    <div>\n      <Link\n        to=\"/dashboard\"\n        onMouseEnter={preloadDashboard} // Preload –ø—Ä–∏ hover\n      >\n        Go to Dashboard\n      </Link>\n      \n      <Routes>\n        <Route\n          path=\"/dashboard\"\n          element={\n            <Suspense fallback={<Spinner />}>\n              <Dashboard />\n            </Suspense>\n          }\n        />\n      </Routes>\n    </div>\n  );\n}\n```\n\n**Retry –ø—Ä–∏ –æ—à–∏–±–∫–µ –∑–∞–≥—Ä—É–∑–∫–∏:**\n\n```tsx\nfunction lazyWithRetry<T extends React.ComponentType<any>>(\n  componentImport: () => Promise<{ default: T }>,\n  retries = 3,\n  interval = 1000\n): React.LazyExoticComponent<T> {\n  return lazy(() => {\n    return new Promise<{ default: T }>((resolve, reject) => {\n      const attemptImport = (attemptsLeft: number) => {\n        componentImport()\n          .then(resolve)\n          .catch(error => {\n            if (attemptsLeft === 1) {\n              reject(error);\n            } else {\n              setTimeout(() => {\n                console.log(`Retrying import, ${attemptsLeft - 1} attempts left`);\n                attemptImport(attemptsLeft - 1);\n              }, interval);\n            }\n          });\n      };\n\n      attemptImport(retries);\n    });\n  });\n}\n\n// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ\nconst Dashboard = lazyWithRetry(() => import('./Dashboard'), 3, 1000);\n```\n\n**Error Boundary —Å Code Splitting:**\n\n```tsx\nconst Dashboard = lazy(() => import('./Dashboard'));\n\nfunction App() {\n  return (\n    <ErrorBoundary\n      fallback={(error, reset) => (\n        <div>\n          <p>Failed to load Dashboard: {error.message}</p>\n          <button onClick={reset}>Retry</button>\n        </div>\n      )}\n    >\n      <Suspense fallback={<Spinner />}>\n        <Dashboard />\n      </Suspense>\n    </ErrorBoundary>\n  );\n}\n```\n\n**–î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–π import —Å —É—Å–ª–æ–≤–∏—è–º–∏:**\n\n```tsx\nfunction AdminPanel() {\n  const { user } = useAuth();\n  const [AdminDashboard, setAdminDashboard] = useState<React.ComponentType | null>(null);\n\n  useEffect(() => {\n    if (user?.role === 'admin') {\n      import('./AdminDashboard').then(module => {\n        setAdminDashboard(() => module.default);\n      });\n    }\n  }, [user]);\n\n  if (!AdminDashboard) return <div>Loading admin panel...</div>;\n\n  return <AdminDashboard />;\n}\n```\n\n**Component-level Code Splitting:**\n\n```tsx\nfunction HeavyComponentWrapper() {\n  const [showHeavy, setShowHeavy] = useState(false);\n  \n  // Lazy load —Ç–æ–ª—å–∫–æ –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏\n  const HeavyComponent = lazy(() => import('./HeavyComponent'));\n\n  return (\n    <div>\n      <button onClick={() => setShowHeavy(true)}>\n        Show Heavy Component\n      </button>\n      \n      {showHeavy && (\n        <Suspense fallback={<Spinner />}>\n          <HeavyComponent />\n        </Suspense>\n      )}\n    </div>\n  );\n}\n```\n\n**Webpack Magic Comments:**\n\n```tsx\n// –ù–∞–∑–≤–∞–Ω–∏—è chunks\nconst Dashboard = lazy(() =>\n  import(/* webpackChunkName: \"dashboard\" */ './Dashboard')\n);\n\n// Prefetch (–∑–∞–≥—Ä—É–∑–∏—Ç—Å—è –∫–æ–≥–¥–∞ –±—Ä–∞—É–∑–µ—Ä —Å–≤–æ–±–æ–¥–µ–Ω)\nconst Settings = lazy(() =>\n  import(/* webpackPrefetch: true */ './Settings')\n);\n\n// Preload (–∑–∞–≥—Ä—É–∑–∏—Ç—Å—è –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ —Å —Ä–æ–¥–∏—Ç–µ–ª–µ–º)\nconst Profile = lazy(() =>\n  import(/* webpackPreload: true */ './Profile')\n);\n```\n\n**–ò–∑–º–µ—Ä–µ–Ω–∏–µ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏:**\n\n```tsx\nfunction App() {\n  useEffect(() => {\n    // –ò–∑–º–µ—Ä—è–µ–º –≤—Ä–µ–º—è –∑–∞–≥—Ä—É–∑–∫–∏ chunks\n    const observer = new PerformanceObserver(list => {\n      for (const entry of list.getEntries()) {\n        if (entry.name.includes('chunk')) {\n          console.log(`Chunk ${entry.name} loaded in ${entry.duration}ms`);\n        }\n      }\n    });\n\n    observer.observe({ entryTypes: ['resource'] });\n\n    return () => observer.disconnect();\n  }, []);\n\n  return <App />;\n}\n```\n\n",
          "best_practices": [],
          "difficulty": "Senior"
        },
        {
          "question_number": 29,
          "question_number_in_chapter": 7,
          "question_chapter": 3,
          "question_title": "Suspense - –¥–µ–∫–ª–∞—Ä–∞—Ç–∏–≤–Ω–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ –∏ React 18 —É–ª—É—á—à–µ–Ω–∏—è.",
          "answer_markdown": "\n**–û—Ç–≤–µ—Ç:**\n\n**Suspense** - –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –¥–ª—è –¥–µ–∫–ª–∞—Ä–∞—Ç–∏–≤–Ω–æ–≥–æ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è fallback UI –ø–æ–∫–∞ –¥–æ—á–µ—Ä–Ω–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è.\n\n**React 18:** –ü–æ–ª–Ω–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞ Suspense –¥–ª—è data fetching (–Ω–µ —Ç–æ–ª—å–∫–æ React.lazy).\n\n**–ë–∞–∑–æ–≤–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:**\n\n```tsx\nimport { Suspense, lazy } from 'react';\n\nconst Dashboard = lazy(() => import('./Dashboard'));\n\nfunction App() {\n  return (\n    <Suspense fallback={<Spinner />}>\n      <Dashboard />\n    </Suspense>\n  );\n}\n```\n\n**Suspense –¥–ª—è Data Fetching (React 18):**\n\n```tsx\n// –£—Ç–∏–ª–∏—Ç–∞ –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è Suspense-—Å–æ–≤–º–µ—Å—Ç–∏–º—ã—Ö —Ä–µ—Å—É—Ä—Å–æ–≤\nfunction wrapPromise<T>(promise: Promise<T>) {\n  let status = 'pending';\n  let result: T;\n  let error: Error;\n\n  const suspender = promise.then(\n    res => {\n      status = 'success';\n      result = res;\n    },\n    err => {\n      status = 'error';\n      error = err;\n    }\n  );\n\n  return {\n    read() {\n      if (status === 'pending') {\n        throw suspender; // Suspense –ª–æ–≤–∏—Ç promise\n      } else if (status === 'error') {\n        throw error; // Error Boundary –ª–æ–≤–∏—Ç –æ—à–∏–±–∫—É\n      }\n      return result;\n    }\n  };\n}\n\n// –°–æ–∑–¥–∞–Ω–∏–µ —Ä–µ—Å—É—Ä—Å–∞\nconst userResource = wrapPromise(fetch('/api/user').then(r => r.json()));\n\nfunction User() {\n  const user = userResource.read(); // –ë—Ä–æ—Å–∏—Ç promise –ø—Ä–∏ –ø–µ—Ä–≤–æ–º –≤—ã–∑–æ–≤–µ\n  return <div>{user.name}</div>;\n}\n\nfunction App() {\n  return (\n    <Suspense fallback={<Spinner />}>\n      <User />\n    </Suspense>\n  );\n}\n```\n\n**React Query + Suspense:**\n\n```tsx\nimport { Suspense } from 'react';\nimport { useQuery } from '@tanstack/react-query';\n\nfunction UserProfile({ userId }: { userId: string }) {\n  // suspense: true –≤–∫–ª—é—á–∞–µ—Ç Suspense mode\n  const { data } = useQuery({\n    queryKey: ['user', userId],\n    queryFn: () => fetchUser(userId),\n    suspense: true // –ë—Ä–æ—Å–∏—Ç promise –ø–æ–∫–∞ –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è\n  });\n\n  return <div>{data!.name}</div>; // data –≤—Å–µ–≥–¥–∞ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω –±–ª–∞–≥–æ–¥–∞—Ä—è Suspense\n}\n\nfunction App() {\n  return (\n    <Suspense fallback={<UserSkeleton />}>\n      <UserProfile userId=\"123\" />\n    </Suspense>\n  );\n}\n```\n\n**–í–ª–æ–∂–µ–Ω–Ω—ã–µ Suspense - –≤–æ–¥–æ–ø–∞–¥ vs –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–∞—è –∑–∞–≥—Ä—É–∑–∫–∞:**\n\n```tsx\n// ‚ùå –í–æ–¥–æ–ø–∞–¥: –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è –ø–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ\nfunction App() {\n  return (\n    <Suspense fallback={<Spinner />}>\n      <User />\n      <Suspense fallback={<PostsSkeleton />}>\n        <Posts /> {/* –ù–∞—á–Ω—ë—Ç –∑–∞–≥—Ä—É–∂–∞—Ç—å—Å—è —Ç–æ–ª—å–∫–æ –ø–æ—Å–ª–µ User */}\n      </Suspense>\n    </Suspense>\n  );\n}\n\n// ‚úÖ –ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω–∞—è –∑–∞–≥—Ä—É–∑–∫–∞: –æ–±–∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ\nfunction App() {\n  return (\n    <Suspense fallback={<Spinner />}>\n      <User />\n      <Posts /> {/* –ó–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ —Å User */}\n    </Suspense>\n  );\n}\n\n// ‚úÖ –ì—Ä–∞–Ω—É–ª—è—Ä–Ω—ã–µ fallbacks\nfunction App() {\n  return (\n    <>\n      <Suspense fallback={<UserSkeleton />}>\n        <User />\n      </Suspense>\n      \n      <Suspense fallback={<PostsSkeleton />}>\n        <Posts />\n      </Suspense>\n    </>\n  );\n}\n```\n\n**SuspenseList (experimental):**\n\n```tsx\nimport { SuspenseList, Suspense } from 'react';\n\nfunction App() {\n  return (\n    <SuspenseList revealOrder=\"forwards\" tail=\"collapsed\">\n      <Suspense fallback={<UserSkeleton />}>\n        <User />\n      </Suspense>\n      \n      <Suspense fallback={<PostsSkeleton />}>\n        <Posts />\n      </Suspense>\n      \n      <Suspense fallback={<CommentsSkeleton />}>\n        <Comments />\n      </Suspense>\n    </SuspenseList>\n  );\n}\n\n// revealOrder:\n// - \"forwards\": –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –≤ –ø–æ—Ä—è–¥–∫–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è\n// - \"backwards\": –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –≤ –æ–±—Ä–∞—Ç–Ω–æ–º –ø–æ—Ä—è–¥–∫–µ\n// - \"together\": –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç –≤—Å—ë –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ\n\n// tail:\n// - \"collapsed\": –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç —Ç–æ–ª—å–∫–æ —Å–ª–µ–¥—É—é—â–∏–π fallback\n// - \"hidden\": –Ω–µ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç fallback –¥–ª—è –æ–∂–∏–¥–∞—é—â–∏—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤\n```\n\n**Suspense + Transitions:**\n\n```tsx\nimport { Suspense, useTransition, useState } from 'react';\n\nfunction App() {\n  const [userId, setUserId] = useState('1');\n  const [isPending, startTransition] = useTransition();\n\n  const handleChange = (newId: string) => {\n    startTransition(() => {\n      setUserId(newId);\n    });\n  };\n\n  return (\n    <div>\n      <select\n        value={userId}\n        onChange={e => handleChange(e.target.value)}\n        disabled={isPending}\n      >\n        <option value=\"1\">User 1</option>\n        <option value=\"2\">User 2</option>\n        <option value=\"3\">User 3</option>\n      </select>\n\n      {isPending && <div className=\"loading-overlay\">Switching user...</div>}\n\n      <Suspense fallback={<UserSkeleton />}>\n        <UserProfile userId={userId} />\n      </Suspense>\n    </div>\n  );\n}\n```\n\n**Suspense –¥–ª—è –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–π (React 19+):**\n\n```tsx\n// React 19 –±—É–¥–µ—Ç –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞—Ç—å Suspense –¥–ª—è <img>\nfunction Gallery() {\n  return (\n    <Suspense fallback={<ImageSkeleton />}>\n      <img src=\"/large-image.jpg\" alt=\"Gallery\" />\n    </Suspense>\n  );\n}\n\n// Polyfill –¥–ª—è —Ç–µ–∫—É—â–∏—Ö –≤–µ—Ä—Å–∏–π\nfunction SuspenseImage({ src, alt }: { src: string; alt: string }) {\n  const [loaded, setLoaded] = useState(false);\n\n  if (!loaded) {\n    // –ë—Ä–æ—Å–∞–µ–º promise –ø–æ–∫–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è\n    throw new Promise((resolve) => {\n      const img = new Image();\n      img.src = src;\n      img.onload = () => {\n        setLoaded(true);\n        resolve(null);\n      };\n    });\n  }\n\n  return <img src={src} alt={alt} />;\n}\n\nfunction App() {\n  return (\n    <Suspense fallback={<ImageSkeleton />}>\n      <SuspenseImage src=\"/large-image.jpg\" alt=\"Gallery\" />\n    </Suspense>\n  );\n}\n```\n\n**–ö–∞—Å—Ç–æ–º–Ω—ã–π useSuspenseQuery:**\n\n```tsx\nfunction useSuspenseQuery<T>(\n  key: string,\n  fetcher: () => Promise<T>\n): T {\n  const [resource] = useState(() => {\n    let status = 'pending';\n    let result: T;\n    let error: Error;\n\n    const suspender = fetcher().then(\n      res => {\n        status = 'success';\n        result = res;\n      },\n      err => {\n        status = 'error';\n        error = err;\n      }\n    );\n\n    return {\n      read() {\n        if (status === 'pending') throw suspender;\n        if (status === 'error') throw error;\n        return result;\n      }\n    };\n  });\n\n  return resource.read();\n}\n\n// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ\nfunction UserProfile({ userId }: { userId: string }) {\n  const user = useSuspenseQuery('user', () => fetchUser(userId));\n  return <div>{user.name}</div>;\n}\n\nfunction App() {\n  return (\n    <Suspense fallback={<Spinner />}>\n      <UserProfile userId=\"123\" />\n    </Suspense>\n  );\n}\n```\n\n",
          "best_practices": [],
          "difficulty": "Senior"
        },
        {
          "question_number": 30,
          "question_number_in_chapter": 8,
          "question_chapter": 3,
          "question_title": "Server Components (RSC) - –Ω–æ–≤–∞—è –ø–∞—Ä–∞–¥–∏–≥–º–∞ React (React 18+).",
          "answer_markdown": "\n**–û—Ç–≤–µ—Ç:**\n\n**React Server Components (RSC)** - –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã, —Ä–µ–Ω–¥–µ—Ä—è—â–∏–µ—Å—è —Ç–æ–ª—å–∫–æ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ. –ù–µ –≤–∫–ª—é—á–∞—é—Ç JavaScript –≤ –∫–ª–∏–µ–Ω—Ç—Å–∫–∏–π –±–∞–Ω–¥–ª.\n\n**–ö–ª—é—á–µ–≤—ã–µ –æ—Ç–ª–∏—á–∏—è:**\n\n| –•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∞ | Server Component | Client Component |\n|----------------|------------------|------------------|\n| –ì–¥–µ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è | –¢–æ–ª—å–∫–æ —Å–µ—Ä–≤–µ—Ä | –°–µ—Ä–≤–µ—Ä (SSR) + –ö–ª–∏–µ–Ω—Ç |\n| JavaScript –≤ –±–∞–Ω–¥–ª–µ | ‚ùå –ù–µ—Ç | ‚úÖ –î–∞ |\n| –ü—Ä—è–º–æ–π –¥–æ—Å—Ç—É–ø –∫ –ë–î | ‚úÖ –î–∞ | ‚ùå –ù–µ—Ç |\n| –•—É–∫–∏ (useState, useEffect) | ‚ùå –ù–µ—Ç | ‚úÖ –î–∞ |\n| –ë—Ä–∞—É–∑–µ—Ä–Ω—ã–µ API | ‚ùå –ù–µ—Ç | ‚úÖ –î–∞ |\n| Event handlers | ‚ùå –ù–µ—Ç | ‚úÖ –î–∞ |\n\n**–ü—Ä–∏–º–µ—Ä Server Component:**\n\n```tsx\n// app/page.tsx (Next.js 13+ App Router)\n// –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é - Server Component\n\nasync function HomePage() {\n  // ‚úÖ –ü—Ä—è–º–æ–π –¥–æ—Å—Ç—É–ø –∫ –ë–î –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ\n  const users = await db.user.findMany();\n  \n  // ‚úÖ –ü—Ä—è–º–æ–π fetch –±–µ–∑ CORS\n  const posts = await fetch('https://api.example.com/posts').then(r => r.json());\n\n  return (\n    <div>\n      <h1>Users</h1>\n      <ul>\n        {users.map(user => (\n          <li key={user.id}>{user.name}</li>\n        ))}\n      </ul>\n      \n      <h2>Posts</h2>\n      <PostList posts={posts} />\n    </div>\n  );\n}\n\nexport default HomePage;\n```\n\n**Client Component:**\n\n```tsx\n// components/Counter.tsx\n'use client'; // –î–∏—Ä–µ–∫—Ç–∏–≤–∞ –¥–ª—è Client Component\n\nimport { useState } from 'react';\n\nexport function Counter() {\n  // ‚úÖ useState –¥–æ—Å—Ç—É–ø–µ–Ω –≤ Client Component\n  const [count, setCount] = useState(0);\n\n  return (\n    <div>\n      <p>Count: {count}</p>\n      <button onClick={() => setCount(c => c + 1)}>\n        Increment\n      </button>\n    </div>\n  );\n}\n```\n\n**–ö–æ–º–ø–æ–∑–∏—Ü–∏—è Server + Client Components:**\n\n```tsx\n// app/dashboard/page.tsx (Server Component)\nimport { Counter } from '@/components/Counter'; // Client Component\nimport { UserStats } from '@/components/UserStats'; // Server Component\n\nasync function Dashboard() {\n  // Server-side data fetching\n  const stats = await fetchUserStats();\n\n  return (\n    <div>\n      <h1>Dashboard</h1>\n      \n      {/* Server Component */}\n      <UserStats data={stats} />\n      \n      {/* Client Component */}\n      <Counter />\n    </div>\n  );\n}\n```\n\n**–ü—Ä–∞–≤–∏–ª–∞ –∫–æ–º–ø–æ–∑–∏—Ü–∏–∏:**\n\n```tsx\n// ‚úÖ Server Component –º–æ–∂–µ—Ç –∏–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å Client Component\n// app/page.tsx (Server)\nimport ClientButton from './ClientButton'; // ‚úÖ OK\n\n// ‚ùå Client Component –ù–ï –º–æ–∂–µ—Ç –∏–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å Server Component\n// ClientComponent.tsx\n'use client';\nimport ServerComponent from './ServerComponent'; // ‚ùå –û–®–ò–ë–ö–ê!\n\n// ‚úÖ –ù–æ –º–æ–∂–µ—Ç –ø—Ä–∏–Ω–∏–º–∞—Ç—å Server Component –∫–∞–∫ children\n'use client';\nfunction ClientWrapper({ children }: { children: React.ReactNode }) {\n  return <div className=\"wrapper\">{children}</div>;\n}\n\n// app/page.tsx (Server)\n<ClientWrapper>\n  <ServerComponent /> {/* ‚úÖ OK */}\n</ClientWrapper>\n```\n\n**–ü–µ—Ä–µ–¥–∞—á–∞ –¥–∞–Ω–Ω—ã—Ö –æ—Ç Server –∫ Client:**\n\n```tsx\n// ‚úÖ –°–µ—Ä–∏–∞–ª–∏–∑—É–µ–º—ã–µ props (JSON)\n<ClientComponent\n  data={{ name: 'John', age: 30 }}\n  items={[1, 2, 3]}\n/>\n\n// ‚ùå –ù–µ—Å–µ—Ä–∏–∞–ª–∏–∑—É–µ–º—ã–µ props\n<ClientComponent\n  onClick={() => console.log('click')} // ‚ùå –§—É–Ω–∫—Ü–∏–∏\n  date={new Date()} // ‚ùå Date –æ–±—ä–µ–∫—Ç—ã\n  regexp={/test/} // ‚ùå RegExp\n/>\n\n// ‚úÖ –†–µ—à–µ–Ω–∏–µ: –æ–ø—Ä–µ–¥–µ–ª–∏—Ç–µ handler –≤ Client Component\n// ClientButton.tsx\n'use client';\nfunction ClientButton({ userId }: { userId: string }) {\n  const handleClick = async () => {\n    await fetch(`/api/users/${userId}`, { method: 'DELETE' });\n  };\n\n  return <button onClick={handleClick}>Delete</button>;\n}\n```\n\n**Streaming —Å Suspense:**\n\n```tsx\n// app/page.tsx (Server Component)\nimport { Suspense } from 'react';\n\nasync function SlowComponent() {\n  // –ú–µ–¥–ª–µ–Ω–Ω–∞—è –æ–ø–µ—Ä–∞—Ü–∏—è\n  const data = await slowDatabaseQuery();\n  return <div>{data}</div>;\n}\n\nfunction HomePage() {\n  return (\n    <div>\n      <h1>Dashboard</h1>\n      \n      {/* –ë—ã—Å—Ç—Ä—ã–π –∫–æ–Ω—Ç–µ–Ω—Ç –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è —Å—Ä–∞–∑—É */}\n      <FastComponent />\n      \n      {/* –ú–µ–¥–ª–µ–Ω–Ω—ã–π –∫–æ–Ω—Ç–µ–Ω—Ç —Å—Ç—Ä–∏–º–∏—Ç—Å—è –ø–æ–∑–∂–µ */}\n      <Suspense fallback={<Spinner />}>\n        <SlowComponent />\n      </Suspense>\n    </div>\n  );\n}\n```\n\n**Server Actions (Next.js 13+):**\n\n```tsx\n// app/actions.ts\n'use server';\n\nexport async function createUser(formData: FormData) {\n  const name = formData.get('name') as string;\n  \n  // –ü—Ä—è–º–æ–π –¥–æ—Å—Ç—É–ø –∫ –ë–î\n  const user = await db.user.create({\n    data: { name }\n  });\n\n  return user;\n}\n\n// app/page.tsx\nimport { createUser } from './actions';\n\nfunction UserForm() {\n  return (\n    <form action={createUser}>\n      <input name=\"name\" required />\n      <button type=\"submit\">Create User</button>\n    </form>\n  );\n}\n```\n\n**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ Server Components:**\n\n```tsx\n// ‚úÖ –ú–µ–Ω—å—à–∏–π JavaScript –±–∞–Ω–¥–ª\n// Server Component –Ω–µ –≤–∫–ª—é—á–∞–µ—Ç—Å—è –≤ –±–∞–Ω–¥–ª\nasync function UserList() {\n  // –≠—Ç–∏ –∏–º–ø–æ—Ä—Ç—ã –ù–ï –ø–æ–ø–∞–¥—É—Ç –≤ –∫–ª–∏–µ–Ω—Ç—Å–∫–∏–π –±–∞–Ω–¥–ª\n  const { PrismaClient } = await import('@prisma/client');\n  const lodash = await import('lodash');\n  \n  const users = await prisma.user.findMany();\n  return <div>{/* ... */}</div>;\n}\n\n// ‚úÖ –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å - —Å–µ–∫—Ä–µ—Ç—ã –æ—Å—Ç–∞—é—Ç—Å—è –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ\nasync function DataComponent() {\n  const data = await fetch('https://api.example.com', {\n    headers: {\n      Authorization: `Bearer ${process.env.SECRET_KEY}` // –ù–µ –ø–æ–ø–∞–¥—ë—Ç –Ω–∞ –∫–ª–∏–µ–Ω—Ç!\n    }\n  });\n  \n  return <div>{/* ... */}</div>;\n}\n\n// ‚úÖ –ü—Ä—è–º–æ–π –¥–æ—Å—Ç—É–ø –∫ backend\nasync function PostsPage() {\n  // –ë–µ–∑ API route - –ø—Ä—è–º–æ –∏–∑ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞\n  const posts = await db.post.findMany({\n    include: { author: true }\n  });\n  \n  return <PostList posts={posts} />;\n}\n```\n\n**–ù–µ–¥–æ—Å—Ç–∞—Ç–∫–∏ –∏ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è:**\n\n```tsx\n// ‚ùå –ù–µ—Ç –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ –≤ Server Components\nasync function ServerButton() {\n  const handleClick = () => console.log('click'); // ‚ùå –û–®–ò–ë–ö–ê!\n  return <button onClick={handleClick}>Click</button>;\n}\n\n// ‚ùå –ù–µ—Ç —Ö—É–∫–æ–≤\nasync function ServerCounter() {\n  const [count, setCount] = useState(0); // ‚ùå –û–®–ò–ë–ö–ê!\n  return <div>{count}</div>;\n}\n\n// ‚ùå –ù–µ—Ç browser API\nasync function ServerComponent() {\n  const width = window.innerWidth; // ‚ùå –û–®–ò–ë–ö–ê! window undefined\n  return <div>{width}</div>;\n}\n\n// ‚úÖ –†–µ—à–µ–Ω–∏–µ: –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ Client Component\n'use client';\nfunction ClientCounter() {\n  const [count, setCount] = useState(0);\n  return <button onClick={() => setCount(c => c + 1)}>{count}</button>;\n}\n```\n\n**–ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Server vs Client:**\n\n**Server Components:**\n- Data fetching\n- –î–æ—Å—Ç—É–ø –∫ backend —Ä–µ—Å—É—Ä—Å–∞–º (–ë–î, —Ñ–∞–π–ª–æ–≤–∞—è —Å–∏—Å—Ç–µ–º–∞)\n- –†–∞–±–æ—Ç–∞ —Å —Å–µ–∫—Ä–µ—Ç–∞–º–∏/API –∫–ª—é—á–∞–º–∏\n- –ë–æ–ª—å—à–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ (–Ω–µ –Ω—É–∂–Ω—ã –Ω–∞ –∫–ª–∏–µ–Ω—Ç–µ)\n\n**Client Components:**\n- –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ—Å—Ç—å (event handlers)\n- State –∏ lifecycle (useState, useEffect)\n- Browser APIs (localStorage, geolocation)\n- Custom hooks\n\n\n",
          "best_practices": [],
          "difficulty": "Senior"
        },
        {
          "question_number": 31,
          "question_number_in_chapter": 9,
          "question_chapter": 3,
          "question_title": "Concurrent Rendering - –∫–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç, –æ—Ç–ª–∏—á–∏—è –æ—Ç Sync Rendering.",
          "answer_markdown": "\n**–û—Ç–≤–µ—Ç:**\n\n**Concurrent Rendering** (React 18+) - –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –ø—Ä–µ—Ä—ã–≤–∞—Ç—å, –ø—Ä–∏–æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞—Ç—å –∏ –≤–æ–∑–æ–±–Ω–æ–≤–ª—è—Ç—å —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥, —Å–æ—Ö—Ä–∞–Ω—è—è UI –æ—Ç–∑—ã–≤—á–∏–≤—ã–º.\n\n**Sync Rendering (React 17 –∏ —Ä–∞–Ω–µ–µ):**\n\n```tsx\n// React 17: –ë–ª–æ–∫–∏—Ä—É—é—â–∏–π —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥\nfunction App() {\n  const [query, setQuery] = useState('');\n  const [results, setResults] = useState([]);\n\n  const handleChange = (e) => {\n    const value = e.target.value;\n    setQuery(value); // –ë–ª–æ–∫–∏—Ä—É–µ—Ç UI\n    setResults(expensiveFilter(items, value)); // –¢–æ–∂–µ –±–ª–æ–∫–∏—Ä—É–µ—Ç UI\n    // –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ –º–æ–∂–µ—Ç –ø–µ—á–∞—Ç–∞—Ç—å –ø–æ–∫–∞ –æ–±–∞ setState –Ω–µ –∑–∞–≤–µ—Ä—à–∞—Ç—Å—è\n  };\n\n  return (\n    <div>\n      <input value={query} onChange={handleChange} />\n      <ResultList results={results} />\n    </div>\n  );\n}\n```\n\n**Concurrent Rendering (React 18):**\n\n```tsx\n// React 18: –ü—Ä–µ—Ä—ã–≤–∞–µ–º—ã–π —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥\nimport { useTransition } from 'react';\n\nfunction App() {\n  const [query, setQuery] = useState('');\n  const [results, setResults] = useState([]);\n  const [isPending, startTransition] = useTransition();\n\n  const handleChange = (e) => {\n    const value = e.target.value;\n    setQuery(value); // –í—ã—Å–æ–∫–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç - –Ω–µ –ø—Ä–µ—Ä—ã–≤–∞–µ—Ç—Å—è\n    \n    startTransition(() => {\n      setResults(expensiveFilter(items, value)); // –ù–∏–∑–∫–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç - –º–æ–∂–µ—Ç –±—ã—Ç—å –ø—Ä–µ—Ä–≤–∞–Ω\n    });\n    // –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –º–æ–∂–µ—Ç –ø–µ—á–∞—Ç–∞—Ç—å –¥–∞–∂–µ –µ—Å–ª–∏ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏—è –º–µ–¥–ª–µ–Ω–Ω–∞—è\n  };\n\n  return (\n    <div>\n      <input value={query} onChange={handleChange} />\n      {isPending && <Spinner />}\n      <ResultList results={results} />\n    </div>\n  );\n}\n```\n\n**–ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç Concurrent Rendering:**\n\n```\nSync Rendering (React 17):\nUser types \"a\" ‚Üí Render starts ‚Üí Render finishes ‚Üí Paint ‚Üí User can type again\n                 [======= BLOCKED =======]\n\nConcurrent Rendering (React 18):\nUser types \"a\" ‚Üí Render starts ‚Üí User types \"b\" ‚Üí Render restarts with \"ab\"\n                                 ‚Üì (–ø—Ä–µ—Ä—ã–≤–∞–µ—Ç—Å—è)\n                 [====] [====] [====]\n                 (–º–æ–∂–Ω–æ –ø—Ä–µ—Ä—ã–≤–∞—Ç—å –∏ –≤–æ–∑–æ–±–Ω–æ–≤–ª—è—Ç—å)\n```\n\n**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç—ã –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π:**\n\n```tsx\n// –í—ã—Å–æ–∫–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç (–Ω–µ –ø—Ä–µ—Ä—ã–≤–∞–µ—Ç—Å—è)\nsetQuery(value); // –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ input\nsetIsPending(true); // UI feedback\n\n// –ù–∏–∑–∫–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç (–º–æ–∂–µ—Ç –±—ã—Ç—å –ø—Ä–µ—Ä–≤–∞–Ω)\nstartTransition(() => {\n  setResults(filteredItems); // –î–æ—Ä–æ–≥–æ—Å—Ç–æ—è—â–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ\n});\n\n// React –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç—ã –¥–ª—è:\n// - –ö–ª–∏–∫–∏, –Ω–∞–±–æ—Ä —Ç–µ–∫—Å—Ç–∞ ‚Üí –í—ã—Å–æ–∫–∏–π\n// - –ê–Ω–∏–º–∞—Ü–∏–∏, transitions ‚Üí –°—Ä–µ–¥–Ω–∏–π\n// - Data fetching, —Ñ–æ–Ω–æ–≤—ã–µ –∑–∞–¥–∞—á–∏ ‚Üí –ù–∏–∑–∫–∏–π\n```\n\n**Automatic Batching (React 18):**\n\n```tsx\n// React 17: batching —Ç–æ–ª—å–∫–æ –≤ event handlers\nfunction handleClick() {\n  setCount(c => c + 1);\n  setFlag(f => !f);\n  // –û–¥–∏–Ω re-render ‚úÖ\n}\n\nsetTimeout(() => {\n  setCount(c => c + 1);\n  setFlag(f => !f);\n  // –î–≤–∞ re-render ‚ùå\n}, 1000);\n\n// React 18: batching –≤–µ–∑–¥–µ\nfunction handleClick() {\n  setCount(c => c + 1);\n  setFlag(f => !f);\n  // –û–¥–∏–Ω re-render ‚úÖ\n}\n\nsetTimeout(() => {\n  setCount(c => c + 1);\n  setFlag(f => !f);\n  // –û–¥–∏–Ω re-render ‚úÖ\n}, 1000);\n\nfetch('/api').then(() => {\n  setCount(c => c + 1);\n  setFlag(f => !f);\n  // –û–¥–∏–Ω re-render ‚úÖ\n});\n```\n\n**Time Slicing:**\n\n```tsx\n// React —Ä–∞–∑–±–∏–≤–∞–µ—Ç —Ä–∞–±–æ—Ç—É –Ω–∞ –º–µ–ª–∫–∏–µ –∫—É—Å–æ—á–∫–∏\nfunction LargeList({ items }: { items: Item[] }) {\n  return (\n    <ul>\n      {items.map(item => (\n        <ExpensiveItem key={item.id} item={item} />\n      ))}\n    </ul>\n  );\n}\n\n// Sync Rendering:\n// –†–µ–Ω–¥–µ—Ä–∏—Ç –≤—Å–µ 10,000 items –∑–∞ —Ä–∞–∑ ‚Üí UI –∑–∞–º–æ—Ä–∞–∂–∏–≤–∞–µ—Ç—Å—è\n\n// Concurrent Rendering:\n// –†–µ–Ω–¥–µ—Ä–∏—Ç –ø–æ –∫—É—Å–∫–∞–º:\n// [100 items] ‚Üí –ø—Ä–æ–≤–µ—Ä–∫–∞ pending input ‚Üí [100 items] ‚Üí ...\n// UI –æ—Å—Ç–∞—ë—Ç—Å—è –æ—Ç–∑—ã–≤—á–∏–≤—ã–º\n```\n\n**Suspense + Concurrent:**\n\n```tsx\n// Concurrent Rendering –ø–æ–∑–≤–æ–ª—è–µ—Ç –æ—Ç–∫–ª–∞–¥—ã–≤–∞—Ç—å –ø–æ–∫–∞–∑ Suspense fallback\nfunction App() {\n  const [query, setQuery] = useState('a');\n  const [deferredQuery, setDeferredQuery] = useState('a');\n\n  const handleChange = (e) => {\n    setQuery(e.target.value); // –ù–µ–º–µ–¥–ª–µ–Ω–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ input\n    \n    startTransition(() => {\n      setDeferredQuery(e.target.value); // –û—Ç–ª–æ–∂–µ–Ω–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ\n    });\n  };\n\n  return (\n    <div>\n      <input value={query} onChange={handleChange} />\n      \n      <Suspense fallback={<Spinner />}>\n        {/* –ù–µ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç Spinner –º–≥–Ω–æ–≤–µ–Ω–Ω–æ - –∂–¥—ë—Ç –Ω–µ–º–Ω–æ–≥–æ */}\n        <SearchResults query={deferredQuery} />\n      </Suspense>\n    </div>\n  );\n}\n```\n\n**–í–∫–ª—é—á–µ–Ω–∏–µ Concurrent Features:**\n\n```tsx\n// React 18: createRoot –≤–∫–ª—é—á–∞–µ—Ç Concurrent Mode\nimport { createRoot } from 'react-dom/client';\n\nconst root = createRoot(document.getElementById('root')!);\nroot.render(<App />);\n\n// React 17: Legacy mode (–±–µ–∑ Concurrent)\nimport ReactDOM from 'react-dom';\nReactDOM.render(<App />, document.getElementById('root'));\n```\n\n**Concurrent-safe –∫–æ–¥:**\n\n```tsx\n// ‚ùå –ü—Ä–æ–±–ª–µ–º–∞: side effects –≤ render\nfunction Component() {\n  // –ú–æ–∂–µ—Ç –≤—ã–∑–≤–∞—Ç—å—Å—è –Ω–µ—Å–∫–æ–ª—å–∫–æ —Ä–∞–∑ –∏–∑-–∑–∞ –ø—Ä–µ—Ä—ã–≤–∞–Ω–∏–π!\n  console.log('Rendering'); // –ú–æ–∂–µ—Ç –¥—É–±–ª–∏—Ä–æ–≤–∞—Ç—å—Å—è\n  document.title = 'Page'; // –ú–æ–∂–µ—Ç –≤—ã–∑–≤–∞—Ç—å—Å—è –¥–≤–∞–∂–¥—ã\n\n  return <div>Component</div>;\n}\n\n// ‚úÖ –†–µ—à–µ–Ω–∏–µ: side effects –≤ useEffect\nfunction Component() {\n  useEffect(() => {\n    console.log('Mounted'); // –í—ã–∑–æ–≤–µ—Ç—Å—è –æ–¥–∏–Ω —Ä–∞–∑\n    document.title = 'Page';\n  }, []);\n\n  return <div>Component</div>;\n}\n```\n\n",
          "best_practices": [],
          "difficulty": "Senior"
        },
        {
          "question_number": 32,
          "question_number_in_chapter": 10,
          "question_chapter": 3,
          "question_title": "Strict Mode - –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –¥–ª—è –≤—ã—è–≤–ª–µ–Ω–∏—è –ø—Ä–æ–±–ª–µ–º –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏.",
          "answer_markdown": "\n**–û—Ç–≤–µ—Ç:**\n\n**Strict Mode** - —Ä–µ–∂–∏–º —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ –¥–ª—è –≤—ã—è–≤–ª–µ–Ω–∏—è –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω—ã—Ö –ø—Ä–æ–±–ª–µ–º. –ù–µ –≤–ª–∏—è–µ—Ç –Ω–∞ production build.\n\n**–í–∫–ª—é—á–µ–Ω–∏–µ Strict Mode:**\n\n```tsx\nimport { StrictMode } from 'react';\nimport { createRoot } from 'react-dom/client';\n\nconst root = createRoot(document.getElementById('root')!);\nroot.render(\n  <StrictMode>\n    <App />\n  </StrictMode>\n);\n\n// –ú–æ–∂–Ω–æ –ø—Ä–∏–º–µ–Ω–∏—Ç—å –∫ —á–∞—Å—Ç–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è\nfunction App() {\n  return (\n    <div>\n      <Header />\n      \n      <StrictMode>\n        <Dashboard /> {/* –¢–æ–ª—å–∫–æ Dashboard –≤ Strict Mode */}\n      </StrictMode>\n      \n      <Footer />\n    </div>\n  );\n}\n```\n\n**–ß—Ç–æ –¥–µ–ª–∞–µ—Ç Strict Mode:**\n\n**1. –î–≤–æ–π–Ω–æ–π –≤—ã–∑–æ–≤ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ (React 18):**\n\n```tsx\nfunction Component() {\n  console.log('Render'); // –í—ã–≤–µ–¥–µ—Ç—Å—è 2 —Ä–∞–∑–∞ –≤ development\n  \n  useEffect(() => {\n    console.log('Effect'); // –í—ã–≤–µ–¥–µ—Ç—Å—è 2 —Ä–∞–∑–∞\n    \n    return () => {\n      console.log('Cleanup'); // –í—ã–∑–æ–≤–µ—Ç—Å—è –º–µ–∂–¥—É –ø–æ–≤—Ç–æ—Ä–Ω—ã–º–∏ –≤—ã–∑–æ–≤–∞–º–∏\n    };\n  }, []);\n\n  return <div>Component</div>;\n}\n\n// –í—ã–≤–æ–¥ –≤ –∫–æ–Ω—Å–æ–ª—å (development):\n// Render\n// Render (–ø–æ–≤—Ç–æ—Ä–Ω—ã–π –≤—ã–∑–æ–≤)\n// Effect\n// Cleanup (—Ç–µ—Å—Ç–æ–≤—ã–π cleanup)\n// Effect (–ø–æ–≤—Ç–æ—Ä–Ω—ã–π –≤—ã–∑–æ–≤)\n```\n\n**–ó–∞—á–µ–º —ç—Ç–æ –Ω—É–∂–Ω–æ:**\n\n```tsx\n// ‚ùå –ü—Ä–æ–±–ª–µ–º–∞: –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π cleanup\nfunction ChatRoom({ roomId }: { roomId: string }) {\n  useEffect(() => {\n    const socket = connectToRoom(roomId);\n    socket.on('message', handleMessage);\n    \n    // –ó–∞–±—ã–ª–∏ disconnect!\n    // return () => socket.disconnect();\n  }, [roomId]);\n}\n\n// Strict Mode –≤—ã—è–≤–∏—Ç –ø—Ä–æ–±–ª–µ–º—É:\n// 1. Mount ‚Üí connectToRoom (—Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ 1)\n// 2. Cleanup ‚Üí –Ω–∏—á–µ–≥–æ –Ω–µ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç\n// 3. Mount —Å–Ω–æ–≤–∞ ‚Üí connectToRoom (—Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ 2)\n// –†–µ–∑—É–ª—å—Ç–∞—Ç: 2 –∞–∫—Ç–∏–≤–Ω—ã—Ö —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è ‚Üí —É—Ç–µ—á–∫–∞ –ø–∞–º—è—Ç–∏!\n\n// ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω—ã–π cleanup\nfunction ChatRoom({ roomId }: { roomId: string }) {\n  useEffect(() => {\n    const socket = connectToRoom(roomId);\n    socket.on('message', handleMessage);\n    \n    return () => {\n      socket.disconnect(); // –ö–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π cleanup\n    };\n  }, [roomId]);\n}\n```\n\n**2. –û–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ —É—Å—Ç–∞—Ä–µ–≤—à–∏—Ö API:**\n\n```tsx\n// ‚ö†Ô∏è Warning: Legacy context API\nclass OldComponent extends React.Component {\n  static childContextTypes = {\n    theme: PropTypes.string\n  };\n  \n  getChildContext() {\n    return { theme: 'dark' };\n  }\n}\n\n// ‚ö†Ô∏è Warning: Legacy lifecycle methods\nclass LegacyComponent extends React.Component {\n  componentWillMount() { // –£—Å—Ç–∞—Ä–µ–≤—à–∏–π –º–µ—Ç–æ–¥\n    // ...\n  }\n  \n  componentWillReceiveProps(nextProps) { // –£—Å—Ç–∞—Ä–µ–≤—à–∏–π –º–µ—Ç–æ–¥\n    // ...\n  }\n}\n\n// ‚ö†Ô∏è Warning: String refs\nclass StringRefComponent extends React.Component {\n  componentDidMount() {\n    this.refs.myInput.focus(); // –£—Å—Ç–∞—Ä–µ–≤—à–∏–π API\n  }\n  \n  render() {\n    return <input ref=\"myInput\" />;\n  }\n}\n```\n\n**3. –û–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ side effects –≤ render:**\n\n```tsx\n// ‚ùå Side effect –≤ render - Strict Mode –º–æ–∂–µ—Ç –≤—ã—è–≤–∏—Ç—å\nfunction Component({ items }: { items: Item[] }) {\n  // –ú—É—Ç–∞—Ü–∏—è –≤–Ω–µ—à–Ω–µ–≥–æ state\n  items.push({ id: 'new' }); // ‚ö†Ô∏è –ü—Ä–æ–±–ª–µ–º–∞!\n  \n  // –í—ã–∑–æ–≤ –Ω–µ-—á–∏—Å—Ç–æ–π —Ñ—É–Ω–∫—Ü–∏–∏\n  console.log('Rendering'); // –í—ã–∑–æ–≤–µ—Ç—Å—è –¥–≤–∞–∂–¥—ã\n  \n  // –ò–∑–º–µ–Ω–µ–Ω–∏–µ –≥–ª–æ–±–∞–ª—å–Ω–æ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è\n  window.globalCount++; // ‚ö†Ô∏è –ü—Ä–æ–±–ª–µ–º–∞!\n\n  return <div>{items.length}</div>;\n}\n\n// ‚úÖ –ß–∏—Å—Ç—ã–π render\nfunction Component({ items }: { items: Item[] }) {\n  // –ù–µ –º—É—Ç–∏—Ä—É–µ–º props\n  const newItems = [...items, { id: 'new' }];\n  \n  // Side effects –≤ useEffect\n  useEffect(() => {\n    console.log('Mounted');\n    window.globalCount++;\n  }, []);\n\n  return <div>{newItems.length}</div>;\n}\n```\n\n**4. React 18 - –ø—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç—å —Å Concurrent Rendering:**\n\n```tsx\nfunction Component() {\n  const [state, setState] = useState(0);\n\n  // ‚ùå –ü—Ä–æ–±–ª–µ–º–∞: –ø—Ä–µ–¥–ø–æ–ª–∞–≥–∞–µ–º —á—Ç–æ setState —Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π\n  const handleClick = () => {\n    setState(1);\n    console.log(state); // –ú–æ–∂–µ—Ç –±—ã—Ç—å –µ—â—ë 0!\n  };\n\n  // ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–æ: –∏—Å–ø–æ–ª—å–∑—É–µ–º callback –∏–ª–∏ useEffect\n  const handleClickCorrect = () => {\n    setState(prev => {\n      console.log('Previous:', prev);\n      return prev + 1;\n    });\n  };\n\n  useEffect(() => {\n    console.log('State updated:', state);\n  }, [state]);\n}\n```\n\n**Production vs Development:**\n\n```tsx\n// Development (Strict Mode –≤–∫–ª—é—á—ë–Ω):\nuseEffect(() => {\n  console.log('Effect'); // –í—ã–∑–æ–≤–µ—Ç—Å—è 2 —Ä–∞–∑–∞\n  return () => console.log('Cleanup');\n}, []);\n\n// Production (Strict Mode –æ—Ç–∫–ª—é—á—ë–Ω):\nuseEffect(() => {\n  console.log('Effect'); // –í—ã–∑–æ–≤–µ—Ç—Å—è 1 —Ä–∞–∑\n  return () => console.log('Cleanup');\n}, []);\n```\n\n**–û—Ç–∫–ª—é—á–µ–Ω–∏–µ –¥–ª—è legacy –∫–æ–¥–∞:**\n\n```tsx\nfunction App() {\n  return (\n    <StrictMode>\n      <ModernComponent />\n      \n      {/* –û—Ç–∫–ª—é—á–∞–µ–º Strict Mode –¥–ª—è legacy */}\n      <div>\n        <LegacyComponent />\n      </div>\n    </StrictMode>\n  );\n}\n\n// –ò–ª–∏ –ø–æ—Å—Ç–µ–ø–µ–Ω–Ω–∞—è –º–∏–≥—Ä–∞—Ü–∏—è\nfunction App() {\n  return (\n    <div>\n      <LegacyCode />\n      \n      <StrictMode>\n        <NewFeature /> {/* –¢–æ–ª—å–∫–æ –Ω–æ–≤—ã–π –∫–æ–¥ –≤ Strict Mode */}\n      </StrictMode>\n    </div>\n  );\n}\n```\n\n**–¢–∏–ø–∏—á–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã, –≤—ã—è–≤–ª—è–µ–º—ã–µ Strict Mode:**\n\n```tsx\n// 1. –£—Ç–µ—á–∫–∏ –ø–∞–º—è—Ç–∏\nuseEffect(() => {\n  const interval = setInterval(() => {\n    console.log('Tick');\n  }, 1000);\n  // ‚ùå –ó–∞–±—ã–ª–∏ clearInterval\n});\n\n// 2. –ù–µ–Ω—É–∂–Ω—ã–µ side effects\nfunction Component() {\n  fetch('/api/data'); // ‚ùå Side effect –≤ render!\n  return <div>Component</div>;\n}\n\n// 3. –ú—É—Ç–∞—Ü–∏–∏ props/state\nfunction Component({ user }: { user: User }) {\n  user.lastSeen = new Date(); // ‚ùå –ú—É—Ç–∞—Ü–∏—è prop!\n  return <div>{user.name}</div>;\n}\n\n// 4. –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏\nuseEffect(() => {\n  console.log(user.name);\n}, []); // ‚ùå user –Ω–µ –≤ deps!\n```\n\n",
          "best_practices": [
            "Higher-Order Components (HOC)",
            "Render Props",
            "Compound Components",
            "Error Boundaries",
            "Portals",
            "Code Splitting –∏ React.lazy",
            "Suspense",
            "Server Components (RSC)",
            "Concurrent Rendering",
            "Strict Mode"
          ],
          "difficulty": "Senior"
        }
      ]
    },
    {
      "chapter_number": 4,
      "chapter_title": "State Management",
      "questions_count": 10,
      "questions": [
        {
          "question_number": 33,
          "question_number_in_chapter": 1,
          "question_chapter": 4,
          "question_title": "Context API - –∫–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å, –ø—Ä–æ–±–ª–µ–º—ã –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏.",
          "answer_markdown": "\n**–û—Ç–≤–µ—Ç:**\n\n**Context API** - –≤—Å—Ç—Ä–æ–µ–Ω–Ω–æ–µ —Ä–µ—à–µ–Ω–∏–µ –¥–ª—è –ø–µ—Ä–µ–¥–∞—á–∏ –¥–∞–Ω–Ω—ã—Ö —á–µ—Ä–µ–∑ –¥–µ—Ä–µ–≤–æ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ –±–µ–∑ prop drilling.\n\n**–ë–∞–∑–æ–≤–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:**\n\n```tsx\n// 1. –°–æ–∑–¥–∞–Ω–∏–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞\ntype ThemeContextType = {\n  theme: 'light' | 'dark';\n  toggleTheme: () => void;\n};\n\nconst ThemeContext = createContext<ThemeContextType | undefined>(undefined);\n\n// 2. Provider\nfunction ThemeProvider({ children }: { children: React.ReactNode }) {\n  const [theme, setTheme] = useState<'light' | 'dark'>('light');\n\n  const toggleTheme = useCallback(() => {\n    setTheme(prev => prev === 'light' ? 'dark' : 'light');\n  }, []);\n\n  const value = useMemo(() => ({ theme, toggleTheme }), [theme, toggleTheme]);\n\n  return (\n    <ThemeContext.Provider value={value}>\n      {children}\n    </ThemeContext.Provider>\n  );\n}\n\n// 3. Custom hook –¥–ª—è –ø–æ—Ç—Ä–µ–±–ª–µ–Ω–∏—è\nfunction useTheme() {\n  const context = useContext(ThemeContext);\n  if (!context) {\n    throw new Error('useTheme must be used within ThemeProvider');\n  }\n  return context;\n}\n\n// 4. –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ\nfunction Button() {\n  const { theme, toggleTheme } = useTheme();\n  \n  return (\n    <button\n      className={theme}\n      onClick={toggleTheme}\n    >\n      Toggle Theme\n    </button>\n  );\n}\n\nfunction App() {\n  return (\n    <ThemeProvider>\n      <Header />\n      <Main />\n      <Footer />\n    </ThemeProvider>\n  );\n}\n```\n\n**–ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Context:**\n\n‚úÖ **–•–æ—Ä–æ—à–∏–µ use cases:**\n- –¢–µ–º—ã (theme, i18n)\n- –î–∞–Ω–Ω—ã–µ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ (current user)\n- –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è (locale, timezone)\n- –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –º–æ–¥–∞–ª—å–Ω—ã–º–∏ –æ–∫–Ω–∞–º–∏\n- Toast notifications\n\n‚ùå **–ü–ª–æ—Ö–∏–µ use cases:**\n- –ß–∞—Å—Ç–æ –∏–∑–º–µ–Ω—è—é—â–∏–µ—Å—è –¥–∞–Ω–Ω—ã–µ\n- –ì–ª–æ–±–∞–ª—å–Ω—ã–π state –≤—Å–µ–≥–æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è\n- Server state (–∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ React Query)\n- –§–æ—Ä–º state (–∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ª–æ–∫–∞–ª—å–Ω—ã–π state)\n\n**‚ùå –ü—Ä–æ–±–ª–µ–º–∞ #1: –õ–∏—à–Ω–∏–µ —Ä–µ-—Ä–µ–Ω–¥–µ—Ä—ã:**\n\n```tsx\n// ‚ùå –ü—Ä–æ–±–ª–µ–º–∞: –Ω–æ–≤—ã–π –æ–±—ä–µ–∫—Ç –ø—Ä–∏ –∫–∞–∂–¥–æ–º render\nfunction UserProvider({ children }: { children: React.ReactNode }) {\n  const [user, setUser] = useState(null);\n  \n  // –ù–æ–≤—ã–π –æ–±—ä–µ–∫—Ç –ø—Ä–∏ –ö–ê–ñ–î–û–ú render!\n  const value = { user, setUser };\n  \n  return (\n    <UserContext.Provider value={value}>\n      {children}\n    </UserContext.Provider>\n  );\n}\n\n// –í—Å–µ –ø–æ—Ç—Ä–µ–±–∏—Ç–µ–ª–∏ —Ä–µ-—Ä–µ–Ω–¥–µ—Ä—è—Ç—Å—è –ø—Ä–∏ –ª—é–±–æ–º –∏–∑–º–µ–Ω–µ–Ω–∏–∏ Provider!\n\n// ‚úÖ –†–µ—à–µ–Ω–∏–µ: useMemo\nfunction UserProvider({ children }: { children: React.ReactNode }) {\n  const [user, setUser] = useState(null);\n  \n  const value = useMemo(() => ({ user, setUser }), [user]);\n  \n  return (\n    <UserContext.Provider value={value}>\n      {children}\n    </UserContext.Provider>\n  );\n}\n```\n\n**‚ùå –ü—Ä–æ–±–ª–µ–º–∞ #2: –ú–æ–Ω–æ–ª–∏—Ç–Ω—ã–π –∫–æ–Ω—Ç–µ–∫—Å—Ç:**\n\n```tsx\n// ‚ùå –ü–ª–æ—Ö–æ: –≤–µ—Å—å state –≤ –æ–¥–Ω–æ–º –∫–æ–Ω—Ç–µ–∫—Å—Ç–µ\nconst AppContext = createContext({\n  user: null,\n  theme: 'light',\n  notifications: [],\n  cart: []\n});\n\nfunction Component() {\n  // –†–µ-—Ä–µ–Ω–¥–µ—Ä –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ –õ–Æ–ë–û–ì–û –ø–æ–ª—è!\n  const { theme } = useContext(AppContext);\n  return <div className={theme}>Content</div>;\n}\n\n// ‚úÖ –†–µ—à–µ–Ω–∏–µ 1: –†–∞–∑–¥–µ–ª–µ–Ω–∏–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç–æ–≤\nconst UserContext = createContext(null);\nconst ThemeContext = createContext('light');\nconst NotificationsContext = createContext([]);\nconst CartContext = createContext([]);\n\nfunction Component() {\n  // –†–µ-—Ä–µ–Ω–¥–µ—Ä —Ç–æ–ª—å–∫–æ –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ theme\n  const theme = useContext(ThemeContext);\n  return <div className={theme}>Content</div>;\n}\n\n// ‚úÖ –†–µ—à–µ–Ω–∏–µ 2: State + Dispatch —Ä–∞–∑–¥–µ–ª–µ–Ω—ã\nconst UserStateContext = createContext(null);\nconst UserDispatchContext = createContext(null);\n\nfunction UserProvider({ children }) {\n  const [user, setUser] = useState(null);\n\n  return (\n    <UserStateContext.Provider value={user}>\n      <UserDispatchContext.Provider value={setUser}>\n        {children}\n      </UserDispatchContext.Provider>\n    </UserStateContext.Provider>\n  );\n}\n\n// –ö–æ–º–ø–æ–Ω–µ–Ω—Ç —Ä–µ-—Ä–µ–Ω–¥–µ—Ä–∏—Ç—Å—è —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç state\nfunction UserDisplay() {\n  const user = useContext(UserStateContext); // –†–µ-—Ä–µ–Ω–¥–µ—Ä –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ user\n  return <div>{user?.name}</div>;\n}\n\n// –ö–æ–º–ø–æ–Ω–µ–Ω—Ç –ù–ï —Ä–µ-—Ä–µ–Ω–¥–µ—Ä–∏—Ç—Å—è –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ user\nfunction UserActions() {\n  const setUser = useContext(UserDispatchContext); // –ù–∏–∫–æ–≥–¥–∞ –Ω–µ –º–µ–Ω—è–µ—Ç—Å—è\n  return <button onClick={() => setUser(null)}>Logout</button>;\n}\n```\n\n**–ü—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–π –ø–∞—Ç—Ç–µ—Ä–Ω - Context —Å —Å–µ–ª–µ–∫—Ç–æ—Ä–æ–º:**\n\n```tsx\n// –ö–∞—Å—Ç–æ–º–Ω—ã–π —Ö—É–∫ —Å —Å–µ–ª–µ–∫—Ç–æ—Ä–æ–º –¥–ª—è –∏–∑–±–µ–∂–∞–Ω–∏—è –ª–∏—à–Ω–∏—Ö —Ä–µ–Ω–¥–µ—Ä–æ–≤\nfunction createContextWithSelector<T>() {\n  const Context = createContext<T | undefined>(undefined);\n\n  function Provider({ value, children }: { value: T; children: React.ReactNode }) {\n    const valueRef = useRef(value);\n    const [, forceUpdate] = useReducer(x => x + 1, 0);\n\n    useEffect(() => {\n      valueRef.current = value;\n      forceUpdate();\n    }, [value]);\n\n    return <Context.Provider value={value}>{children}</Context.Provider>;\n  }\n\n  function useSelector<S>(selector: (value: T) => S): S {\n    const context = useContext(Context);\n    if (!context) throw new Error('useSelector must be used within Provider');\n\n    const [selectedValue, setSelectedValue] = useState(() => selector(context));\n    const selectorRef = useRef(selector);\n    selectorRef.current = selector;\n\n    useEffect(() => {\n      const newValue = selectorRef.current(context);\n      if (!Object.is(newValue, selectedValue)) {\n        setSelectedValue(newValue);\n      }\n    }, [context, selectedValue]);\n\n    return selectedValue;\n  }\n\n  return { Provider, useSelector };\n}\n\n// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ\ntype AppState = {\n  user: User | null;\n  theme: 'light' | 'dark';\n  count: number;\n};\n\nconst { Provider, useSelector } = createContextWithSelector<AppState>();\n\nfunction ThemeButton() {\n  // –†–µ-—Ä–µ–Ω–¥–µ—Ä –¢–û–õ–¨–ö–û –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ theme\n  const theme = useSelector(state => state.theme);\n  return <button className={theme}>Button</button>;\n}\n\nfunction Counter() {\n  // –†–µ-—Ä–µ–Ω–¥–µ—Ä –¢–û–õ–¨–ö–û –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ count\n  const count = useSelector(state => state.count);\n  return <div>Count: {count}</div>;\n}\n```\n\n**–ö–æ–º–ø–æ–∑–∏—Ü–∏—è –ø—Ä–æ–≤–∞–π–¥–µ—Ä–æ–≤:**\n\n```tsx\n// –£—Ç–∏–ª–∏—Ç–∞ –¥–ª—è –∫–æ–º–ø–æ–∑–∏—Ü–∏–∏\ntype ProviderComponent = React.FC<{ children: React.ReactNode }>;\n\nfunction composeProviders(...providers: ProviderComponent[]): ProviderComponent {\n  return ({ children }) => {\n    return providers.reduceRight(\n      (acc, Provider) => <Provider>{acc}</Provider>,\n      children\n    );\n  };\n}\n\n// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ\nconst AppProviders = composeProviders(\n  UserProvider,\n  ThemeProvider,\n  NotificationsProvider,\n  I18nProvider\n);\n\nfunction App() {\n  return (\n    <AppProviders>\n      <Router />\n    </AppProviders>\n  );\n}\n```\n\n",
          "best_practices": [],
          "difficulty": "Senior"
        },
        {
          "question_number": 34,
          "question_number_in_chapter": 2,
          "question_chapter": 4,
          "question_title": "Redux vs Context API - —Å—Ä–∞–≤–Ω–µ–Ω–∏–µ, –∫–æ–≥–¥–∞ —á—Ç–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å.",
          "answer_markdown": "\n**–û—Ç–≤–µ—Ç:**\n\n**Redux** - –ø—Ä–µ–¥—Å–∫–∞–∑—É–µ–º—ã–π state container —Å –æ–¥–Ω–æ–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–º –ø–æ—Ç–æ–∫–æ–º –¥–∞–Ω–Ω—ã—Ö. **Context** - –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π –º–µ—Ö–∞–Ω–∏–∑–º –ø–µ—Ä–µ–¥–∞—á–∏ –¥–∞–Ω–Ω—ã—Ö —á–µ—Ä–µ–∑ –¥–µ—Ä–µ–≤–æ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤.\n\n**–°—Ä–∞–≤–Ω–µ–Ω–∏–µ:**\n\n| –•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∞ | Context API | Redux |\n|----------------|-------------|-------|\n| **–†–∞–∑–º–µ—Ä –±–∞–Ω–¥–ª–∞** | 0 KB (–≤—Å—Ç—Ä–æ–µ–Ω) | ~3 KB (Redux Toolkit) |\n| **DevTools** | ‚ùå –ù–µ—Ç | ‚úÖ Redux DevTools |\n| **Middleware** | ‚ùå –ù–µ—Ç | ‚úÖ Thunks, Sagas, etc. |\n| **Performance** | ‚ùå –ú–æ–∂–µ—Ç –±—ã—Ç—å –º–µ–¥–ª–µ–Ω–Ω—ã–º | ‚úÖ –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω |\n| **Time Travel** | ‚ùå –ù–µ—Ç | ‚úÖ –î–∞ |\n| **–ë–æilerplate** | ‚úÖ –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π | ‚ùå –°—Ä–µ–¥–Ω–∏–π (RTK –º–µ–Ω—å—à–µ) |\n| **Predictability** | ‚ùå –°—Ä–µ–¥–Ω—è—è | ‚úÖ –í—ã—Å–æ–∫–∞—è |\n| **Testability** | ‚ö†Ô∏è –°–ª–æ–∂–Ω–µ–µ | ‚úÖ –ü—Ä–æ—â–µ |\n\n**Context API - –ø—Ä–∏–º–µ—Ä:**\n\n```tsx\n// AuthContext.tsx\ntype AuthState = {\n  user: User | null;\n  loading: boolean;\n};\n\ntype AuthActions = {\n  login: (credentials: Credentials) => Promise<void>;\n  logout: () => void;\n};\n\nconst AuthStateContext = createContext<AuthState | undefined>(undefined);\nconst AuthActionsContext = createContext<AuthActions | undefined>(undefined);\n\nfunction AuthProvider({ children }: { children: React.ReactNode }) {\n  const [user, setUser] = useState<User | null>(null);\n  const [loading, setLoading] = useState(true);\n\n  const login = useCallback(async (credentials: Credentials) => {\n    setLoading(true);\n    try {\n      const user = await authAPI.login(credentials);\n      setUser(user);\n    } finally {\n      setLoading(false);\n    }\n  }, []);\n\n  const logout = useCallback(() => {\n    setUser(null);\n    authAPI.logout();\n  }, []);\n\n  const state = useMemo(() => ({ user, loading }), [user, loading]);\n  const actions = useMemo(() => ({ login, logout }), [login, logout]);\n\n  return (\n    <AuthStateContext.Provider value={state}>\n      <AuthActionsContext.Provider value={actions}>\n        {children}\n      </AuthActionsContext.Provider>\n    </AuthStateContext.Provider>\n  );\n}\n\n// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ\nfunction Profile() {\n  const { user, loading } = useContext(AuthStateContext)!;\n  const { logout } = useContext(AuthActionsContext)!;\n\n  if (loading) return <Spinner />;\n  if (!user) return <LoginForm />;\n\n  return (\n    <div>\n      <h1>{user.name}</h1>\n      <button onClick={logout}>Logout</button>\n    </div>\n  );\n}\n```\n\n**Redux - –ø—Ä–∏–º–µ—Ä:**\n\n```tsx\n// store.ts (Redux Toolkit)\nimport { createSlice, configureStore, PayloadAction } from '@reduxjs/toolkit';\n\ntype AuthState = {\n  user: User | null;\n  loading: boolean;\n  error: string | null;\n};\n\nconst authSlice = createSlice({\n  name: 'auth',\n  initialState: {\n    user: null,\n    loading: false,\n    error: null\n  } as AuthState,\n  reducers: {\n    loginStart(state) {\n      state.loading = true;\n      state.error = null;\n    },\n    loginSuccess(state, action: PayloadAction<User>) {\n      state.user = action.payload;\n      state.loading = false;\n    },\n    loginFailure(state, action: PayloadAction<string>) {\n      state.error = action.payload;\n      state.loading = false;\n    },\n    logout(state) {\n      state.user = null;\n    }\n  }\n});\n\nexport const { loginStart, loginSuccess, loginFailure, logout } = authSlice.actions;\n\n// Thunk –¥–ª—è async –ª–æ–≥–∏–∫–∏\nexport const login = (credentials: Credentials) => async (dispatch: AppDispatch) => {\n  dispatch(loginStart());\n  try {\n    const user = await authAPI.login(credentials);\n    dispatch(loginSuccess(user));\n  } catch (error) {\n    dispatch(loginFailure(error.message));\n  }\n};\n\nconst store = configureStore({\n  reducer: {\n    auth: authSlice.reducer\n  }\n});\n\nexport type RootState = ReturnType<typeof store.getState>;\nexport type AppDispatch = typeof store.dispatch;\n\n// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ\nfunction Profile() {\n  const { user, loading } = useSelector((state: RootState) => state.auth);\n  const dispatch = useDispatch<AppDispatch>();\n\n  if (loading) return <Spinner />;\n  if (!user) return <LoginForm />;\n\n  return (\n    <div>\n      <h1>{user.name}</h1>\n      <button onClick={() => dispatch(logout())}>Logout</button>\n    </div>\n  );\n}\n```\n\n**–ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Context:**\n\n‚úÖ **Context —Ö–æ—Ä–æ—à –¥–ª—è:**\n- –ú–∞–ª—ã–µ/—Å—Ä–µ–¥–Ω–∏–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è\n- –ü—Ä–æ—Å—Ç–∞—è –ª–æ–≥–∏–∫–∞ state\n- –†–µ–¥–∫–æ –∏–∑–º–µ–Ω—è—é—â–∏–µ—Å—è –¥–∞–Ω–Ω—ã–µ (theme, locale, auth)\n- –ù–µ—Ç –Ω—É–∂–¥—ã –≤ DevTools\n- –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π boilerplate\n\n**–ü—Ä–∏–º–µ—Ä - Theme Context:**\n\n```tsx\ntype Theme = 'light' | 'dark';\n\nconst ThemeContext = createContext<{\n  theme: Theme;\n  setTheme: (theme: Theme) => void;\n} | undefined>(undefined);\n\nfunction ThemeProvider({ children }: { children: React.ReactNode }) {\n  const [theme, setTheme] = useState<Theme>('light');\n\n  const value = useMemo(() => ({ theme, setTheme }), [theme]);\n\n  return <ThemeContext.Provider value={value}>{children}</ThemeContext.Provider>;\n}\n```\n\n**–ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Redux:**\n\n‚úÖ **Redux —Ö–æ—Ä–æ—à –¥–ª—è:**\n- –ö—Ä—É–ø–Ω—ã–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è\n- –°–ª–æ–∂–Ω–∞—è –ª–æ–≥–∏–∫–∞ state\n- –ß–∞—Å—Ç–æ –∏–∑–º–µ–Ω—è—é—â–∏–µ—Å—è –¥–∞–Ω–Ω—ã–µ\n- –ù—É–∂–µ–Ω time-travel debugging\n- –ú–Ω–æ–∂–µ—Å—Ç–≤–æ –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π\n- –ù—É–∂–Ω—ã middleware (logging, analytics)\n\n**–ü—Ä–∏–º–µ—Ä - Redux –¥–ª—è e-commerce:**\n\n```tsx\n// cartSlice.ts\nconst cartSlice = createSlice({\n  name: 'cart',\n  initialState: {\n    items: [] as CartItem[],\n    total: 0\n  },\n  reducers: {\n    addItem(state, action: PayloadAction<Product>) {\n      const existingItem = state.items.find(item => item.id === action.payload.id);\n      \n      if (existingItem) {\n        existingItem.quantity += 1;\n      } else {\n        state.items.push({ ...action.payload, quantity: 1 });\n      }\n      \n      state.total = state.items.reduce((sum, item) => sum + item.price * item.quantity, 0);\n    },\n    removeItem(state, action: PayloadAction<string>) {\n      state.items = state.items.filter(item => item.id !== action.payload);\n      state.total = state.items.reduce((sum, item) => sum + item.price * item.quantity, 0);\n    },\n    clearCart(state) {\n      state.items = [];\n      state.total = 0;\n    }\n  }\n});\n\n// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ\nfunction Cart() {\n  const { items, total } = useSelector((state: RootState) => state.cart);\n  const dispatch = useDispatch();\n\n  return (\n    <div>\n      {items.map(item => (\n        <div key={item.id}>\n          {item.name} x {item.quantity}\n          <button onClick={() => dispatch(removeItem(item.id))}>Remove</button>\n        </div>\n      ))}\n      <div>Total: ${total}</div>\n      <button onClick={() => dispatch(clearCart())}>Clear Cart</button>\n    </div>\n  );\n}\n```\n\n**–ì–∏–±—Ä–∏–¥–Ω—ã–π –ø–æ–¥—Ö–æ–¥ - Context + useReducer:**\n\n```tsx\n// –ü–æ—Ö–æ–∂–µ –Ω–∞ Redux, –Ω–æ –±–µ–∑ –±–∏–±–ª–∏–æ—Ç–µ–∫–∏\ntype State = {\n  count: number;\n  user: User | null;\n};\n\ntype Action =\n  | { type: 'INCREMENT' }\n  | { type: 'DECREMENT' }\n  | { type: 'SET_USER'; payload: User }\n  | { type: 'LOGOUT' };\n\nfunction reducer(state: State, action: Action): State {\n  switch (action.type) {\n    case 'INCREMENT':\n      return { ...state, count: state.count + 1 };\n    case 'DECREMENT':\n      return { ...state, count: state.count - 1 };\n    case 'SET_USER':\n      return { ...state, user: action.payload };\n    case 'LOGOUT':\n      return { ...state, user: null };\n    default:\n      return state;\n  }\n}\n\nconst StateContext = createContext<State | undefined>(undefined);\nconst DispatchContext = createContext<Dispatch<Action> | undefined>(undefined);\n\nfunction AppProvider({ children }: { children: React.ReactNode }) {\n  const [state, dispatch] = useReducer(reducer, {\n    count: 0,\n    user: null\n  });\n\n  return (\n    <StateContext.Provider value={state}>\n      <DispatchContext.Provider value={dispatch}>\n        {children}\n      </DispatchContext.Provider>\n    </StateContext.Provider>\n  );\n}\n```\n\n**–†–µ—à–µ–Ω–∏–µ –¥–ª—è –≤—ã–±–æ—Ä–∞:**\n\n```tsx\n// –ü—Ä–æ—Å—Ç–æ–µ –ø—Ä–∞–≤–∏–ª–æ:\n// 1. –ù–∞—á–Ω–∏—Ç–µ —Å Context\n// 2. –ú–∏–≥—Ä–∏—Ä—É–π—Ç–µ –Ω–∞ Redux –∫–æ–≥–¥–∞:\n//    - –°–ª–∏—à–∫–æ–º –º–Ω–æ–≥–æ –∫–æ–Ω—Ç–µ–∫—Å—Ç–æ–≤\n//    - –ù—É–∂–µ–Ω time-travel debugging\n//    - –°–ª–æ–∂–Ω–∞—è async –ª–æ–≥–∏–∫–∞\n//    - –ü—Ä–æ–±–ª–µ–º—ã —Å –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å—é\n\n// –ò–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–µ –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤—ã:\n// - Zustand (–º–∏–Ω–∏–º–∞–ª–∏—Å—Ç–∏—á–Ω—ã–π Redux)\n// - Jotai/Recoil (–∞—Ç–æ–º–∞—Ä–Ω—ã–π state)\n// - React Query (server state)\n```\n\n\n*–ü—Ä–æ–¥–æ–ª–∂–µ–Ω–∏–µ —Å–ª–µ–¥—É–µ—Ç...*\n\n",
          "best_practices": [],
          "difficulty": "Senior"
        },
        {
          "question_number": 35,
          "question_number_in_chapter": 3,
          "question_chapter": 4,
          "question_title": "Redux Toolkit (RTK) - —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π –ø–æ–¥—Ö–æ–¥ –∫ Redux, –ª—É—á—à–∏–µ –ø—Ä–∞–∫—Ç–∏–∫–∏.",
          "answer_markdown": "\n**–û—Ç–≤–µ—Ç:**\n\n**Redux Toolkit (RTK)** - –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–π —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–π —Å–ø–æ—Å–æ–± –Ω–∞–ø–∏—Å–∞–Ω–∏—è Redux –ª–æ–≥–∏–∫–∏. –í–∫–ª—é—á–∞–µ—Ç —É—Ç–∏–ª–∏—Ç—ã –¥–ª—è —É–ø—Ä–æ—â–µ–Ω–∏—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ store, —Å–æ–∑–¥–∞–Ω–∏—è reducers –∏ –Ω–∞–ø–∏—Å–∞–Ω–∏—è immutable –ª–æ–≥–∏–∫–∏.\n\n**–£—Å—Ç–∞–Ω–æ–≤–∫–∞:**\n\n```bash\nnpm install @reduxjs/toolkit react-redux\n```\n\n**–ë–∞–∑–æ–≤–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞:**\n\n```tsx\n// store.ts\nimport { configureStore } from '@reduxjs/toolkit';\nimport todosReducer from './features/todos/todosSlice';\nimport userReducer from './features/user/userSlice';\n\nexport const store = configureStore({\n  reducer: {\n    todos: todosReducer,\n    user: userReducer\n  },\n  // configureStore –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –¥–æ–±–∞–≤–ª—è–µ—Ç:\n  // - thunk middleware\n  // - DevTools extension\n  // - –ü—Ä–æ–≤–µ—Ä–∫–∏ –Ω–∞ –º—É—Ç–∞—Ü–∏–∏ (development)\n});\n\nexport type RootState = ReturnType<typeof store.getState>;\nexport type AppDispatch = typeof store.dispatch;\n```\n\n**createSlice - —Å–æ–∑–¥–∞–Ω–∏–µ slice:**\n\n```tsx\n// features/todos/todosSlice.ts\nimport { createSlice, PayloadAction } from '@reduxjs/toolkit';\n\ntype Todo = {\n  id: string;\n  text: string;\n  completed: boolean;\n};\n\ntype TodosState = {\n  items: Todo[];\n  filter: 'all' | 'active' | 'completed';\n};\n\nconst initialState: TodosState = {\n  items: [],\n  filter: 'all'\n};\n\nconst todosSlice = createSlice({\n  name: 'todos',\n  initialState,\n  reducers: {\n    // ‚úÖ –ú–æ–∂–Ω–æ \"–º—É—Ç–∏—Ä–æ–≤–∞—Ç—å\" state –Ω–∞–ø—Ä—è–º—É—é (Immer –ø–æ–¥ –∫–∞–ø–æ—Ç–æ–º)\n    addTodo: (state, action: PayloadAction<string>) => {\n      state.items.push({\n        id: crypto.randomUUID(),\n        text: action.payload,\n        completed: false\n      });\n    },\n    \n    toggleTodo: (state, action: PayloadAction<string>) => {\n      const todo = state.items.find(t => t.id === action.payload);\n      if (todo) {\n        todo.completed = !todo.completed;\n      }\n    },\n    \n    deleteTodo: (state, action: PayloadAction<string>) => {\n      state.items = state.items.filter(t => t.id !== action.payload);\n    },\n    \n    setFilter: (state, action: PayloadAction<TodosState['filter']>) => {\n      state.filter = action.payload;\n    }\n  }\n});\n\nexport const { addTodo, toggleTodo, deleteTodo, setFilter } = todosSlice.actions;\nexport default todosSlice.reducer;\n```\n\n**createAsyncThunk - async actions:**\n\n```tsx\n// features/user/userSlice.ts\nimport { createSlice, createAsyncThunk, PayloadAction } from '@reduxjs/toolkit';\n\ntype User = {\n  id: string;\n  name: string;\n  email: string;\n};\n\ntype UserState = {\n  data: User | null;\n  loading: boolean;\n  error: string | null;\n};\n\n// Async thunk\nexport const fetchUser = createAsyncThunk(\n  'user/fetchUser',\n  async (userId: string, { rejectWithValue }) => {\n    try {\n      const response = await fetch(`/api/users/${userId}`);\n      if (!response.ok) throw new Error('Failed to fetch user');\n      const data = await response.json();\n      return data as User;\n    } catch (error) {\n      return rejectWithValue((error as Error).message);\n    }\n  }\n);\n\nexport const updateUser = createAsyncThunk(\n  'user/updateUser',\n  async (userData: Partial<User>, { getState }) => {\n    const state = getState() as RootState;\n    const userId = state.user.data?.id;\n    \n    const response = await fetch(`/api/users/${userId}`, {\n      method: 'PATCH',\n      headers: { 'Content-Type': 'application/json' },\n      body: JSON.stringify(userData)\n    });\n    \n    return await response.json();\n  }\n);\n\nconst userSlice = createSlice({\n  name: 'user',\n  initialState: {\n    data: null,\n    loading: false,\n    error: null\n  } as UserState,\n  reducers: {\n    logout: (state) => {\n      state.data = null;\n      state.error = null;\n    }\n  },\n  extraReducers: (builder) => {\n    // fetchUser\n    builder.addCase(fetchUser.pending, (state) => {\n      state.loading = true;\n      state.error = null;\n    });\n    builder.addCase(fetchUser.fulfilled, (state, action) => {\n      state.loading = false;\n      state.data = action.payload;\n    });\n    builder.addCase(fetchUser.rejected, (state, action) => {\n      state.loading = false;\n      state.error = action.payload as string;\n    });\n    \n    // updateUser\n    builder.addCase(updateUser.fulfilled, (state, action) => {\n      state.data = action.payload;\n    });\n  }\n});\n\nexport const { logout } = userSlice.actions;\nexport default userSlice.reducer;\n```\n\n**Typed Hooks:**\n\n```tsx\n// app/hooks.ts\nimport { TypedUseSelectorHook, useDispatch, useSelector } from 'react-redux';\nimport type { RootState, AppDispatch } from './store';\n\n// Typed hooks –¥–ª—è —É–¥–æ–±—Å—Ç–≤–∞\nexport const useAppDispatch = () => useDispatch<AppDispatch>();\nexport const useAppSelector: TypedUseSelectorHook<RootState> = useSelector;\n```\n\n**–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≤ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞—Ö:**\n\n```tsx\nimport { useAppDispatch, useAppSelector } from '@/app/hooks';\nimport { addTodo, toggleTodo, setFilter } from '@/features/todos/todosSlice';\nimport { fetchUser } from '@/features/user/userSlice';\n\nfunction TodoApp() {\n  const dispatch = useAppDispatch();\n  const { items, filter } = useAppSelector(state => state.todos);\n  const { data: user, loading } = useAppSelector(state => state.user);\n  const [text, setText] = useState('');\n\n  useEffect(() => {\n    dispatch(fetchUser('user-123'));\n  }, [dispatch]);\n\n  const handleSubmit = (e: React.FormEvent) => {\n    e.preventDefault();\n    if (text.trim()) {\n      dispatch(addTodo(text));\n      setText('');\n    }\n  };\n\n  const filteredTodos = items.filter(todo => {\n    if (filter === 'active') return !todo.completed;\n    if (filter === 'completed') return todo.completed;\n    return true;\n  });\n\n  return (\n    <div>\n      <h1>Todos for {user?.name || 'Loading...'}</h1>\n      \n      <form onSubmit={handleSubmit}>\n        <input\n          value={text}\n          onChange={e => setText(e.target.value)}\n          placeholder=\"Add todo...\"\n        />\n        <button type=\"submit\">Add</button>\n      </form>\n\n      <div>\n        <button onClick={() => dispatch(setFilter('all'))}>All</button>\n        <button onClick={() => dispatch(setFilter('active'))}>Active</button>\n        <button onClick={() => dispatch(setFilter('completed'))}>Completed</button>\n      </div>\n\n      <ul>\n        {filteredTodos.map(todo => (\n          <li key={todo.id}>\n            <input\n              type=\"checkbox\"\n              checked={todo.completed}\n              onChange={() => dispatch(toggleTodo(todo.id))}\n            />\n            <span style={{ textDecoration: todo.completed ? 'line-through' : 'none' }}>\n              {todo.text}\n            </span>\n          </li>\n        ))}\n      </ul>\n    </div>\n  );\n}\n```\n\n**createEntityAdapter - –Ω–æ—Ä–º–∞–ª–∏–∑–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö:**\n\n```tsx\nimport { createSlice, createEntityAdapter, PayloadAction } from '@reduxjs/toolkit';\n\ntype Post = {\n  id: string;\n  title: string;\n  content: string;\n  authorId: string;\n};\n\n// –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç CRUD –æ–ø–µ—Ä–∞—Ü–∏–∏\nconst postsAdapter = createEntityAdapter<Post>({\n  selectId: (post) => post.id,\n  sortComparer: (a, b) => b.title.localeCompare(a.title)\n});\n\nconst postsSlice = createSlice({\n  name: 'posts',\n  initialState: postsAdapter.getInitialState({\n    loading: false,\n    error: null\n  }),\n  reducers: {\n    // –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ reducers –æ—Ç adapter\n    postAdded: postsAdapter.addOne,\n    postsReceived: postsAdapter.setAll,\n    postUpdated: postsAdapter.updateOne,\n    postRemoved: postsAdapter.removeOne\n  }\n});\n\n// –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–µ selectors\nconst postsSelectors = postsAdapter.getSelectors((state: RootState) => state.posts);\n\nexport const {\n  selectAll: selectAllPosts,\n  selectById: selectPostById,\n  selectIds: selectPostIds\n} = postsSelectors;\n\n// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ\nfunction PostList() {\n  const posts = useAppSelector(selectAllPosts);\n  const dispatch = useAppDispatch();\n\n  return (\n    <ul>\n      {posts.map(post => (\n        <li key={post.id}>{post.title}</li>\n      ))}\n    </ul>\n  );\n}\n```\n\n**RTK Query - data fetching:**\n\n```tsx\n// services/api.ts\nimport { createApi, fetchBaseQuery } from '@reduxjs/toolkit/query/react';\n\ntype User = {\n  id: string;\n  name: string;\n};\n\ntype Post = {\n  id: string;\n  title: string;\n  userId: string;\n};\n\nexport const api = createApi({\n  reducerPath: 'api',\n  baseQuery: fetchBaseQuery({ baseUrl: '/api' }),\n  tagTypes: ['User', 'Post'],\n  endpoints: (builder) => ({\n    // GET –∑–∞–ø—Ä–æ—Å\n    getUser: builder.query<User, string>({\n      query: (id) => `users/${id}`,\n      providesTags: (result, error, id) => [{ type: 'User', id }]\n    }),\n    \n    // POST –∑–∞–ø—Ä–æ—Å\n    createPost: builder.mutation<Post, Partial<Post>>({\n      query: (body) => ({\n        url: 'posts',\n        method: 'POST',\n        body\n      }),\n      invalidatesTags: [{ type: 'Post', id: 'LIST' }]\n    }),\n    \n    // GET —Å–ø–∏—Å–æ–∫ —Å –∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ–º\n    getPosts: builder.query<Post[], void>({\n      query: () => 'posts',\n      providesTags: (result) =>\n        result\n          ? [\n              ...result.map(({ id }) => ({ type: 'Post' as const, id })),\n              { type: 'Post', id: 'LIST' }\n            ]\n          : [{ type: 'Post', id: 'LIST' }]\n    })\n  })\n});\n\nexport const { useGetUserQuery, useCreatePostMutation, useGetPostsQuery } = api;\n\n// store.ts\nexport const store = configureStore({\n  reducer: {\n    [api.reducerPath]: api.reducer\n  },\n  middleware: (getDefaultMiddleware) =>\n    getDefaultMiddleware().concat(api.middleware)\n});\n\n// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ\nfunction UserProfile({ userId }: { userId: string }) {\n  const { data: user, isLoading, error } = useGetUserQuery(userId);\n  const [createPost, { isLoading: isCreating }] = useCreatePostMutation();\n\n  if (isLoading) return <Spinner />;\n  if (error) return <Error error={error} />;\n  if (!user) return null;\n\n  const handleCreatePost = async () => {\n    await createPost({\n      title: 'New Post',\n      userId: user.id\n    });\n  };\n\n  return (\n    <div>\n      <h1>{user.name}</h1>\n      <button onClick={handleCreatePost} disabled={isCreating}>\n        Create Post\n      </button>\n    </div>\n  );\n}\n```\n\n",
          "best_practices": [],
          "difficulty": "Senior"
        },
        {
          "question_number": 36,
          "question_number_in_chapter": 4,
          "question_chapter": 4,
          "question_title": "Zustand - –º–∏–Ω–∏–º–∞–ª–∏—Å—Ç–∏—á–Ω–∞—è –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞ Redux.",
          "answer_markdown": "\n**–û—Ç–≤–µ—Ç:**\n\n**Zustand** - –º–∏–Ω–∏–º–∞–ª–∏—Å—Ç–∏—á–Ω–∞—è –±–∏–±–ª–∏–æ—Ç–µ–∫–∞ state management —Å –ø—Ä–æ—Å—Ç—ã–º API –∏ –±–µ–∑ boilerplate.\n\n**–£—Å—Ç–∞–Ω–æ–≤–∫–∞:**\n\n```bash\nnpm install zustand\n```\n\n**–ë–∞–∑–æ–≤—ã–π –ø—Ä–∏–º–µ—Ä:**\n\n```tsx\nimport { create } from 'zustand';\n\ntype Store = {\n  count: number;\n  increment: () => void;\n  decrement: () => void;\n  reset: () => void;\n};\n\nconst useCounterStore = create<Store>((set) => ({\n  count: 0,\n  increment: () => set((state) => ({ count: state.count + 1 })),\n  decrement: () => set((state) => ({ count: state.count - 1 })),\n  reset: () => set({ count: 0 })\n}));\n\n// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ\nfunction Counter() {\n  const count = useCounterStore((state) => state.count);\n  const increment = useCounterStore((state) => state.increment);\n  const decrement = useCounterStore((state) => state.decrement);\n\n  return (\n    <div>\n      <p>Count: {count}</p>\n      <button onClick={increment}>+</button>\n      <button onClick={decrement}>-</button>\n    </div>\n  );\n}\n\n// –ò–ª–∏ destructure (–Ω–æ —Ä–µ-—Ä–µ–Ω–¥–µ—Ä–∏—Ç—Å—è –ø—Ä–∏ –ª—é–±–æ–º –∏–∑–º–µ–Ω–µ–Ω–∏–∏!)\nfunction CounterFull() {\n  const { count, increment, decrement } = useCounterStore();\n  \n  return (\n    <div>\n      <p>Count: {count}</p>\n      <button onClick={increment}>+</button>\n      <button onClick={decrement}>-</button>\n    </div>\n  );\n}\n```\n\n**Async actions:**\n\n```tsx\ntype UserStore = {\n  user: User | null;\n  loading: boolean;\n  error: string | null;\n  fetchUser: (id: string) => Promise<void>;\n  logout: () => void;\n};\n\nconst useUserStore = create<UserStore>((set, get) => ({\n  user: null,\n  loading: false,\n  error: null,\n  \n  fetchUser: async (id) => {\n    set({ loading: true, error: null });\n    \n    try {\n      const response = await fetch(`/api/users/${id}`);\n      const user = await response.json();\n      set({ user, loading: false });\n    } catch (error) {\n      set({ error: (error as Error).message, loading: false });\n    }\n  },\n  \n  logout: () => {\n    set({ user: null });\n    // –ú–æ–∂–µ–º —á–∏—Ç–∞—Ç—å —Ç–µ–∫—É—â–∏–π state —á–µ—Ä–µ–∑ get()\n    console.log('Previous user:', get().user);\n  }\n}));\n\n// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ\nfunction UserProfile({ userId }: { userId: string }) {\n  const { user, loading, error, fetchUser } = useUserStore();\n\n  useEffect(() => {\n    fetchUser(userId);\n  }, [userId, fetchUser]);\n\n  if (loading) return <Spinner />;\n  if (error) return <Error error={error} />;\n  if (!user) return null;\n\n  return <div>{user.name}</div>;\n}\n```\n\n**Immer middleware –¥–ª—è immutability:**\n\n```tsx\nimport { create } from 'zustand';\nimport { immer } from 'zustand/middleware/immer';\n\ntype Todo = {\n  id: string;\n  text: string;\n  completed: boolean;\n};\n\ntype TodosStore = {\n  todos: Todo[];\n  addTodo: (text: string) => void;\n  toggleTodo: (id: string) => void;\n  deleteTodo: (id: string) => void;\n};\n\nconst useTodosStore = create<TodosStore>()(\n  immer((set) => ({\n    todos: [],\n    \n    // ‚úÖ –ú–æ–∂–Ω–æ –º—É—Ç–∏—Ä–æ–≤–∞—Ç—å –Ω–∞–ø—Ä—è–º—É—é –±–ª–∞–≥–æ–¥–∞—Ä—è Immer\n    addTodo: (text) => set((state) => {\n      state.todos.push({\n        id: crypto.randomUUID(),\n        text,\n        completed: false\n      });\n    }),\n    \n    toggleTodo: (id) => set((state) => {\n      const todo = state.todos.find(t => t.id === id);\n      if (todo) {\n        todo.completed = !todo.completed;\n      }\n    }),\n    \n    deleteTodo: (id) => set((state) => {\n      state.todos = state.todos.filter(t => t.id !== id);\n    })\n  }))\n);\n```\n\n**Persist middleware - —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ localStorage:**\n\n```tsx\nimport { create } from 'zustand';\nimport { persist, createJSONStorage } from 'zustand/middleware';\n\ntype SettingsStore = {\n  theme: 'light' | 'dark';\n  language: string;\n  setTheme: (theme: 'light' | 'dark') => void;\n  setLanguage: (language: string) => void;\n};\n\nconst useSettingsStore = create<SettingsStore>()(\n  persist(\n    (set) => ({\n      theme: 'light',\n      language: 'en',\n      setTheme: (theme) => set({ theme }),\n      setLanguage: (language) => set({ language })\n    }),\n    {\n      name: 'settings-storage', // –∫–ª—é—á –≤ localStorage\n      storage: createJSONStorage(() => localStorage)\n    }\n  )\n);\n\n// –ü—Ä–∏ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã state –≤–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è –∏–∑ localStorage\n```\n\n**Selectors –¥–ª—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏:**\n\n```tsx\nimport { create } from 'zustand';\nimport { shallow } from 'zustand/shallow';\n\ntype Store = {\n  user: User;\n  posts: Post[];\n  comments: Comment[];\n  updateUser: (user: User) => void;\n  addPost: (post: Post) => void;\n};\n\nconst useStore = create<Store>((set) => ({\n  user: {} as User,\n  posts: [],\n  comments: [],\n  updateUser: (user) => set({ user }),\n  addPost: (post) => set((state) => ({ posts: [...state.posts, post] }))\n}));\n\n// ‚ùå –†–µ-—Ä–µ–Ω–¥–µ—Ä –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ –ª—é–±–æ–≥–æ –ø–æ–ª—è store\nfunction Component() {\n  const { user, updateUser } = useStore();\n  // –ö–æ–º–ø–æ–Ω–µ–Ω—Ç —Ä–µ-—Ä–µ–Ω–¥–µ—Ä–∏—Ç—Å—è –¥–∞–∂–µ –µ—Å–ª–∏ –∏–∑–º–µ–Ω–∏–ª–∏—Å—å posts –∏–ª–∏ comments!\n}\n\n// ‚úÖ –†–µ-—Ä–µ–Ω–¥–µ—Ä —Ç–æ–ª—å–∫–æ –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ user –∏–ª–∏ updateUser\nfunction Component() {\n  const { user, updateUser } = useStore(\n    (state) => ({ user: state.user, updateUser: state.updateUser }),\n    shallow\n  );\n  // –†–µ-—Ä–µ–Ω–¥–µ—Ä —Ç–æ–ª—å–∫–æ –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ user –∏–ª–∏ updateUser\n}\n\n// ‚úÖ –ò–ª–∏ –Ω–µ—Å–∫–æ–ª—å–∫–æ —Å–µ–ª–µ–∫—Ç–æ—Ä–æ–≤\nfunction Component() {\n  const user = useStore((state) => state.user);\n  const updateUser = useStore((state) => state.updateUser);\n  // –ö–∞–∂–¥—ã–π —Å–µ–ª–µ–∫—Ç–æ—Ä –Ω–µ–∑–∞–≤–∏—Å–∏–º\n}\n```\n\n**Slices pattern - –º–æ–¥—É–ª—å–Ω–∞—è –æ—Ä–≥–∞–Ω–∏–∑–∞—Ü–∏—è:**\n\n```tsx\nimport { create, StateCreator } from 'zustand';\n\n// User slice\ntype UserSlice = {\n  user: User | null;\n  setUser: (user: User) => void;\n};\n\nconst createUserSlice: StateCreator<UserSlice & TodosSlice, [], [], UserSlice> = (set) => ({\n  user: null,\n  setUser: (user) => set({ user })\n});\n\n// Todos slice\ntype TodosSlice = {\n  todos: Todo[];\n  addTodo: (text: string) => void;\n};\n\nconst createTodosSlice: StateCreator<UserSlice & TodosSlice, [], [], TodosSlice> = (set) => ({\n  todos: [],\n  addTodo: (text) => set((state) => ({\n    todos: [...state.todos, { id: crypto.randomUUID(), text, completed: false }]\n  }))\n});\n\n// –û–±—ä–µ–¥–∏–Ω–µ–Ω–∏–µ slices\nconst useStore = create<UserSlice & TodosSlice>()((...a) => ({\n  ...createUserSlice(...a),\n  ...createTodosSlice(...a)\n}));\n```\n\n**Devtools middleware:**\n\n```tsx\nimport { create } from 'zustand';\nimport { devtools } from 'zustand/middleware';\n\nconst useStore = create<Store>()(\n  devtools(\n    (set) => ({\n      count: 0,\n      increment: () => set((state) => ({ count: state.count + 1 }), false, 'increment'),\n      decrement: () => set((state) => ({ count: state.count - 1 }), false, 'decrement')\n    }),\n    { name: 'CounterStore' }\n  )\n);\n\n// –¢–µ–ø–µ—Ä—å –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Redux DevTools!\n```\n\n**–°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Å Redux:**\n\n| –•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∞ | Zustand | Redux Toolkit |\n|----------------|---------|---------------|\n| **–†–∞–∑–º–µ—Ä** | ~1 KB | ~3 KB |\n| **Boilerplate** | –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π | –°—Ä–µ–¥–Ω–∏–π |\n| **Provider** | ‚ùå –ù–µ –Ω—É–∂–µ–Ω | ‚úÖ –ù—É–∂–µ–Ω |\n| **–°–µ–ª–µ–∫—Ç–æ—Ä—ã** | ‚úÖ –í—Å—Ç—Ä–æ–µ–Ω—ã | ‚úÖ –ù—É–∂–Ω—ã –≤—Ä—É—á–Ω—É—é |\n| **Async** | ‚úÖ –ü—Ä–æ—Å—Ç–æ | ‚ö†Ô∏è Thunks |\n| **DevTools** | ‚úÖ Middleware | ‚úÖ –í—Å—Ç—Ä–æ–µ–Ω–æ |\n| **Middleware** | ‚úÖ –î–∞ | ‚úÖ –î–∞ |\n\n",
          "best_practices": [],
          "difficulty": "Senior"
        },
        {
          "question_number": 37,
          "question_number_in_chapter": 5,
          "question_chapter": 4,
          "question_title": "Jotai –∏ Recoil - –∞—Ç–æ–º–∞—Ä–Ω—ã–π state management.",
          "answer_markdown": "\n**–û—Ç–≤–µ—Ç:**\n\n**Jotai** –∏ **Recoil** - –±–∏–±–ª–∏–æ—Ç–µ–∫–∏ –¥–ª—è –∞—Ç–æ–º–∞—Ä–Ω–æ–≥–æ (atom-based) —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º. State —Ä–∞–∑–¥–µ–ª—è–µ—Ç—Å—è –Ω–∞ –º–µ–ª–∫–∏–µ –Ω–µ–∑–∞–≤–∏—Å–∏–º—ã–µ –∞—Ç–æ–º—ã.\n\n**Jotai - –º–∏–Ω–∏–º–∞–ª–∏—Å—Ç–∏—á–Ω—ã–π –ø–æ–¥—Ö–æ–¥:**\n\n```bash\nnpm install jotai\n```\n\n**–ë–∞–∑–æ–≤–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:**\n\n```tsx\nimport { atom, useAtom } from 'jotai';\n\n// –°–æ–∑–¥–∞–Ω–∏–µ –∞—Ç–æ–º–∞\nconst countAtom = atom(0);\nconst userAtom = atom<User | null>(null);\n\n// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –≤ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–µ\nfunction Counter() {\n  const [count, setCount] = useAtom(countAtom);\n\n  return (\n    <div>\n      <p>Count: {count}</p>\n      <button onClick={() => setCount(c => c + 1)}>Increment</button>\n    </div>\n  );\n}\n\n// –î—Ä—É–≥–æ–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç - —Ç–æ—Ç –∂–µ state!\nfunction CounterDisplay() {\n  const [count] = useAtom(countAtom);\n  return <div>Current: {count}</div>;\n}\n```\n\n**–ü—Ä–æ–∏–∑–≤–æ–¥–Ω—ã–µ –∞—Ç–æ–º—ã (derived atoms):**\n\n```tsx\nimport { atom } from 'jotai';\n\nconst todosAtom = atom<Todo[]>([]);\n\n// Read-only –ø—Ä–æ–∏–∑–≤–æ–¥–Ω—ã–π –∞—Ç–æ–º\nconst completedTodosAtom = atom((get) => {\n  const todos = get(todosAtom);\n  return todos.filter(todo => todo.completed);\n});\n\nconst activeTodosCountAtom = atom((get) => {\n  const todos = get(todosAtom);\n  return todos.filter(todo => !todo.completed).length;\n});\n\n// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ\nfunction TodoStats() {\n  const [completed] = useAtom(completedTodosAtom);\n  const [activeCount] = useAtom(activeTodosCountAtom);\n\n  return (\n    <div>\n      <p>Active: {activeCount}</p>\n      <p>Completed: {completed.length}</p>\n    </div>\n  );\n}\n```\n\n**Write-able –ø—Ä–æ–∏–∑–≤–æ–¥–Ω—ã–µ –∞—Ç–æ–º—ã:**\n\n```tsx\nconst fahrenheitAtom = atom(32);\n\nconst celsiusAtom = atom(\n  // read\n  (get) => ((get(fahrenheitAtom) - 32) * 5) / 9,\n  // write\n  (get, set, newCelsius: number) => {\n    set(fahrenheitAtom, (newCelsius * 9) / 5 + 32);\n  }\n);\n\nfunction Temperature() {\n  const [fahrenheit, setFahrenheit] = useAtom(fahrenheitAtom);\n  const [celsius, setCelsius] = useAtom(celsiusAtom);\n\n  return (\n    <div>\n      <input\n        type=\"number\"\n        value={fahrenheit}\n        onChange={e => setFahrenheit(Number(e.target.value))}\n      />\n      ¬∞F\n      \n      <input\n        type=\"number\"\n        value={celsius.toFixed(1)}\n        onChange={e => setCelsius(Number(e.target.value))}\n      />\n      ¬∞C\n    </div>\n  );\n}\n```\n\n**Async –∞—Ç–æ–º—ã:**\n\n```tsx\nimport { atom } from 'jotai';\n\nconst userIdAtom = atom('user-123');\n\n// Async –∞—Ç–æ–º –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ Suspense\nconst userAtom = atom(async (get) => {\n  const userId = get(userIdAtom);\n  const response = await fetch(`/api/users/${userId}`);\n  return await response.json();\n});\n\n// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Å Suspense\nfunction UserProfile() {\n  const [user] = useAtom(userAtom);\n  // user –≤—Å–µ–≥–¥–∞ –æ–ø—Ä–µ–¥–µ–ª—ë–Ω –±–ª–∞–≥–æ–¥–∞—Ä—è Suspense\n  return <div>{user.name}</div>;\n}\n\nfunction App() {\n  return (\n    <Suspense fallback={<Spinner />}>\n      <UserProfile />\n    </Suspense>\n  );\n}\n```\n\n**Jotai Utils - —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è:**\n\n```tsx\nimport { atomWithStorage, atomWithReducer, atomFamily } from 'jotai/utils';\n\n// Atom —Å localStorage\nconst themeAtom = atomWithStorage<'light' | 'dark'>('theme', 'light');\n\n// Atom —Å reducer\ntype Action = { type: 'increment' } | { type: 'decrement' };\n\nconst countReducer = (state: number, action: Action) => {\n  switch (action.type) {\n    case 'increment': return state + 1;\n    case 'decrement': return state - 1;\n    default: return state;\n  }\n};\n\nconst countAtom = atomWithReducer(0, countReducer);\n\n// Atom family - –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ –∞—Ç–æ–º–æ–≤\nconst todoAtomFamily = atomFamily((id: string) =>\n  atom<Todo>({ id, text: '', completed: false })\n);\n\nfunction TodoItem({ id }: { id: string }) {\n  const [todo, setTodo] = useAtom(todoAtomFamily(id));\n  // –ö–∞–∂–¥—ã–π ID –ø–æ–ª—É—á–∞–µ—Ç —Å–≤–æ–π –Ω–µ–∑–∞–≤–∏—Å–∏–º—ã–π –∞—Ç–æ–º\n}\n```\n\n**Recoil - –±–æ–ª–µ–µ feature-rich:**\n\n```bash\nnpm install recoil\n```\n\n**–ë–∞–∑–æ–≤–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞:**\n\n```tsx\nimport { RecoilRoot, atom, useRecoilState, useRecoilValue } from 'recoil';\n\n// –°–æ–∑–¥–∞–Ω–∏–µ atom\nconst countState = atom({\n  key: 'countState', // –£–Ω–∏–∫–∞–ª—å–Ω—ã–π ID\n  default: 0\n});\n\nconst userState = atom<User | null>({\n  key: 'userState',\n  default: null\n});\n\nfunction App() {\n  return (\n    <RecoilRoot>\n      <Counter />\n      <UserProfile />\n    </RecoilRoot>\n  );\n}\n\nfunction Counter() {\n  const [count, setCount] = useRecoilState(countState);\n  // –ò–ª–∏ —Ç–æ–ª—å–∫–æ —á—Ç–µ–Ω–∏–µ: useRecoilValue(countState)\n  // –ò–ª–∏ —Ç–æ–ª—å–∫–æ –∑–∞–ø–∏—Å—å: useSetRecoilState(countState)\n\n  return (\n    <div>\n      <p>Count: {count}</p>\n      <button onClick={() => setCount(c => c + 1)}>+</button>\n    </div>\n  );\n}\n```\n\n**Recoil Selectors:**\n\n```tsx\nimport { selector } from 'recoil';\n\nconst todosState = atom<Todo[]>({\n  key: 'todosState',\n  default: []\n});\n\nconst todoStatsSelector = selector({\n  key: 'todoStatsSelector',\n  get: ({ get }) => {\n    const todos = get(todosState);\n    \n    return {\n      total: todos.length,\n      completed: todos.filter(t => t.completed).length,\n      active: todos.filter(t => !t.completed).length,\n      percentComplete: todos.length\n        ? (todos.filter(t => t.completed).length / todos.length) * 100\n        : 0\n    };\n  }\n});\n\nfunction TodoStats() {\n  const stats = useRecoilValue(todoStatsSelector);\n  \n  return (\n    <div>\n      <p>Total: {stats.total}</p>\n      <p>Completed: {stats.completed}</p>\n      <p>Progress: {stats.percentComplete.toFixed(0)}%</p>\n    </div>\n  );\n}\n```\n\n**Async Selectors:**\n\n```tsx\nconst currentUserIDState = atom({\n  key: 'currentUserID',\n  default: 'user-123'\n});\n\nconst currentUserQuery = selector({\n  key: 'currentUserQuery',\n  get: async ({ get }) => {\n    const userId = get(currentUserIDState);\n    const response = await fetch(`/api/users/${userId}`);\n    return await response.json();\n  }\n});\n\nfunction UserProfile() {\n  const user = useRecoilValue(currentUserQuery);\n  // –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —Å Suspense –¥–ª—è loading state\n  return <div>{user.name}</div>;\n}\n\nfunction App() {\n  return (\n    <RecoilRoot>\n      <Suspense fallback={<Spinner />}>\n        <UserProfile />\n      </Suspense>\n    </RecoilRoot>\n  );\n}\n```\n\n**Atom Family (–¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–µ –∞—Ç–æ–º—ã):**\n\n```tsx\nimport { atomFamily, selectorFamily } from 'recoil';\n\nconst todoState = atomFamily<Todo, string>({\n  key: 'todoState',\n  default: (id) => ({\n    id,\n    text: '',\n    completed: false\n  })\n});\n\nconst userQuery = selectorFamily<User, string>({\n  key: 'userQuery',\n  get: (userId) => async () => {\n    const response = await fetch(`/api/users/${userId}`);\n    return await response.json();\n  }\n});\n\nfunction TodoItem({ id }: { id: string }) {\n  const [todo, setTodo] = useRecoilState(todoState(id));\n  \n  return (\n    <div>\n      <input\n        type=\"checkbox\"\n        checked={todo.completed}\n        onChange={e => setTodo({ ...todo, completed: e.target.checked })}\n      />\n      {todo.text}\n    </div>\n  );\n}\n\nfunction UserDisplay({ userId }: { userId: string }) {\n  const user = useRecoilValue(userQuery(userId));\n  return <div>{user.name}</div>;\n}\n```\n\n**–°—Ä–∞–≤–Ω–µ–Ω–∏–µ Jotai vs Recoil:**\n\n| –•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∞ | Jotai | Recoil |\n|----------------|-------|--------|\n| **–†–∞–∑–º–µ—Ä** | ~3 KB | ~15 KB |\n| **Provider** | ‚ùå –û–ø—Ü–∏–æ–Ω–∞–ª–µ–Ω | ‚úÖ –û–±—è–∑–∞—Ç–µ–ª–µ–Ω |\n| **API** | –ú–∏–Ω–∏–º–∞–ª–∏—Å—Ç–∏—á–Ω—ã–π | Feature-rich |\n| **TypeScript** | ‚úÖ –û—Ç–ª–∏—á–Ω–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞ | ‚úÖ –•–æ—Ä–æ—à–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞ |\n| **Async** | ‚úÖ –í—Å—Ç—Ä–æ–µ–Ω–æ | ‚úÖ –í—Å—Ç—Ä–æ–µ–Ω–æ |\n| **DevTools** | ‚ö†Ô∏è –ë–∞–∑–æ–≤—ã–µ | ‚úÖ –ü—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–µ |\n| **–°—Ç–∞–±–∏–ª—å–Ω–æ—Å—Ç—å** | ‚úÖ –°—Ç–∞–±–∏–ª–µ–Ω | ‚ö†Ô∏è Experimental |\n\n**–ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∞—Ç–æ–º–∞—Ä–Ω—ã–π –ø–æ–¥—Ö–æ–¥:**\n\n‚úÖ **–•–æ—Ä–æ—à–æ –¥–ª—è:**\n- –§–æ—Ä–º —Å –Ω–µ–∑–∞–≤–∏—Å–∏–º—ã–º–∏ –ø–æ–ª—è–º–∏\n- –§–∏–ª—å—Ç—Ä–æ–≤ –∏ –Ω–∞—Å—Ç—Ä–æ–µ–∫\n- UI state (modals, tabs)\n- –ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö –ø–æ ID\n\n‚ùå **–ù–µ –ø–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è:**\n- –°–ª–æ–∂–Ω—ã–µ —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–∏ (–Ω—É–∂–Ω–∞ –∞—Ç–æ–º–∞—Ä–Ω–æ—Å—Ç—å –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π)\n- –°—Ç—Ä–æ–≥–∞—è —Ç–∏–ø–∏–∑–∞—Ü–∏—è –≤—Å–µ–≥–æ state tree\n- –ú–∏–≥—Ä–∞—Ü–∏—è —Å Redux (—Ä–∞–∑–Ω–∞—è —Ñ–∏–ª–æ—Å–æ—Ñ–∏—è)\n\n\n",
          "best_practices": [],
          "difficulty": "Senior"
        },
        {
          "question_number": 38,
          "question_number_in_chapter": 6,
          "question_chapter": 4,
          "question_title": "React Query (TanStack Query) - server state management.",
          "answer_markdown": "\n**–û—Ç–≤–µ—Ç:**\n\n**React Query** (—Ç–µ–ø–µ—Ä—å TanStack Query) - –±–∏–±–ª–∏–æ—Ç–µ–∫–∞ –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è server state (–¥–∞–Ω–Ω—ã–µ —Å —Å–µ—Ä–≤–µ—Ä–∞), –∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏—è, —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ –∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö.\n\n**–£—Å—Ç–∞–Ω–æ–≤–∫–∞:**\n\n```bash\nnpm install @tanstack/react-query\n```\n\n**–ë–∞–∑–æ–≤–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞:**\n\n```tsx\nimport { QueryClient, QueryClientProvider } from '@tanstack/react-query';\nimport { ReactQueryDevtools } from '@tanstack/react-query-devtools';\n\nconst queryClient = new QueryClient({\n  defaultOptions: {\n    queries: {\n      staleTime: 1000 * 60 * 5, // 5 –º–∏–Ω—É—Ç\n      cacheTime: 1000 * 60 * 30, // 30 –º–∏–Ω—É—Ç\n      retry: 3,\n      refetchOnWindowFocus: false\n    }\n  }\n});\n\nfunction App() {\n  return (\n    <QueryClientProvider client={queryClient}>\n      <Router />\n      <ReactQueryDevtools initialIsOpen={false} />\n    </QueryClientProvider>\n  );\n}\n```\n\n**useQuery - —á—Ç–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö:**\n\n```tsx\nimport { useQuery } from '@tanstack/react-query';\n\ntype User = {\n  id: string;\n  name: string;\n  email: string;\n};\n\nasync function fetchUser(userId: string): Promise<User> {\n  const response = await fetch(`/api/users/${userId}`);\n  if (!response.ok) throw new Error('Failed to fetch user');\n  return await response.json();\n}\n\nfunction UserProfile({ userId }: { userId: string }) {\n  const {\n    data: user,\n    isLoading,\n    isError,\n    error,\n    refetch,\n    isFetching\n  } = useQuery({\n    queryKey: ['user', userId],\n    queryFn: () => fetchUser(userId),\n    staleTime: 1000 * 60 * 5 // –î–∞–Ω–Ω—ã–µ —Å–≤–µ–∂–∏–µ 5 –º–∏–Ω—É—Ç\n  });\n\n  if (isLoading) return <Spinner />;\n  if (isError) return <Error error={error} onRetry={refetch} />;\n  if (!user) return null;\n\n  return (\n    <div>\n      <h1>{user.name}</h1>\n      <p>{user.email}</p>\n      {isFetching && <div className=\"updating\">Updating...</div>}\n      <button onClick={() => refetch()}>Refresh</button>\n    </div>\n  );\n}\n```\n\n**useMutation - –∏–∑–º–µ–Ω–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö:**\n\n```tsx\nimport { useMutation, useQueryClient } from '@tanstack/react-query';\n\ntype UpdateUserPayload = {\n  userId: string;\n  data: Partial<User>;\n};\n\nasync function updateUser({ userId, data }: UpdateUserPayload): Promise<User> {\n  const response = await fetch(`/api/users/${userId}`, {\n    method: 'PATCH',\n    headers: { 'Content-Type': 'application/json' },\n    body: JSON.stringify(data)\n  });\n  return await response.json();\n}\n\nfunction UserEditForm({ userId }: { userId: string }) {\n  const queryClient = useQueryClient();\n  const [name, setName] = useState('');\n\n  const updateMutation = useMutation({\n    mutationFn: updateUser,\n    onSuccess: (updatedUser) => {\n      // –ò–Ω–≤–∞–ª–∏–¥–∞—Ü–∏—è –∫–µ—à–∞ - –∑–∞–ø—Ä–æ—Å –æ–±–Ω–æ–≤–∏—Ç—Å—è\n      queryClient.invalidateQueries({ queryKey: ['user', userId] });\n      \n      // –ò–ª–∏ –æ–ø—Ç–∏–º–∏—Å—Ç–∏—á–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∫–µ—à–∞\n      queryClient.setQueryData(['user', userId], updatedUser);\n    },\n    onError: (error) => {\n      console.error('Failed to update user:', error);\n    }\n  });\n\n  const handleSubmit = (e: React.FormEvent) => {\n    e.preventDefault();\n    updateMutation.mutate({ userId, data: { name } });\n  };\n\n  return (\n    <form onSubmit={handleSubmit}>\n      <input\n        value={name}\n        onChange={e => setName(e.target.value)}\n        placeholder=\"Name\"\n      />\n      <button\n        type=\"submit\"\n        disabled={updateMutation.isPending}\n      >\n        {updateMutation.isPending ? 'Saving...' : 'Save'}\n      </button>\n      \n      {updateMutation.isError && (\n        <div className=\"error\">{updateMutation.error.message}</div>\n      )}\n    </form>\n  );\n}\n```\n\n**–û–ø—Ç–∏–º–∏—Å—Ç–∏—á–Ω—ã–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è:**\n\n```tsx\nconst deleteTodoMutation = useMutation({\n  mutationFn: (todoId: string) => {\n    return fetch(`/api/todos/${todoId}`, { method: 'DELETE' });\n  },\n  onMutate: async (todoId) => {\n    // –û—Ç–º–µ–Ω—è–µ–º —Ç–µ–∫—É—â–∏–µ refetch\n    await queryClient.cancelQueries({ queryKey: ['todos'] });\n\n    // –°–æ—Ö—Ä–∞–Ω—è–µ–º –ø—Ä–µ–¥—ã–¥—É—â–µ–µ –∑–Ω–∞—á–µ–Ω–∏–µ\n    const previousTodos = queryClient.getQueryData<Todo[]>(['todos']);\n\n    // –û–ø—Ç–∏–º–∏—Å—Ç–∏—á–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ\n    queryClient.setQueryData<Todo[]>(['todos'], (old) =>\n      old?.filter(todo => todo.id !== todoId)\n    );\n\n    return { previousTodos };\n  },\n  onError: (error, variables, context) => {\n    // –û—Ç–∫–∞—Ç—ã–≤–∞–µ–º –ø—Ä–∏ –æ—à–∏–±–∫–µ\n    if (context?.previousTodos) {\n      queryClient.setQueryData(['todos'], context.previousTodos);\n    }\n  },\n  onSettled: () => {\n    // –û–±–Ω–æ–≤–ª—è–µ–º –¥–∞–Ω–Ω—ã–µ –≤ –ª—é–±–æ–º —Å–ª—É—á–∞–µ\n    queryClient.invalidateQueries({ queryKey: ['todos'] });\n  }\n});\n```\n\n**Pagination:**\n\n```tsx\nimport { useQuery, keepPreviousData } from '@tanstack/react-query';\n\nfunction PostsList() {\n  const [page, setPage] = useState(1);\n\n  const { data, isLoading, isFetching } = useQuery({\n    queryKey: ['posts', page],\n    queryFn: () => fetchPosts(page),\n    placeholderData: keepPreviousData // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —Å—Ç–∞—Ä—ã–µ –¥–∞–Ω–Ω—ã–µ –ø–æ–∫–∞ –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è –Ω–æ–≤—ã–µ\n  });\n\n  return (\n    <div>\n      {isLoading ? (\n        <Spinner />\n      ) : (\n        <>\n          {data.posts.map(post => (\n            <PostCard key={post.id} post={post} />\n          ))}\n          \n          <div>\n            <button\n              onClick={() => setPage(p => Math.max(1, p - 1))}\n              disabled={page === 1}\n            >\n              Previous\n            </button>\n            <span>Page {page}</span>\n            <button\n              onClick={() => setPage(p => p + 1)}\n              disabled={!data.hasMore}\n            >\n              Next\n            </button>\n          </div>\n          \n          {isFetching && <div>Updating...</div>}\n        </>\n      )}\n    </div>\n  );\n}\n```\n\n**Infinite Queries:**\n\n```tsx\nimport { useInfiniteQuery } from '@tanstack/react-query';\n\nasync function fetchPosts({ pageParam = 0 }) {\n  const response = await fetch(`/api/posts?cursor=${pageParam}`);\n  return await response.json();\n}\n\nfunction InfinitePostsList() {\n  const {\n    data,\n    fetchNextPage,\n    hasNextPage,\n    isFetchingNextPage\n  } = useInfiniteQuery({\n    queryKey: ['posts'],\n    queryFn: fetchPosts,\n    getNextPageParam: (lastPage) => lastPage.nextCursor,\n    initialPageParam: 0\n  });\n\n  return (\n    <div>\n      {data?.pages.map((page, i) => (\n        <div key={i}>\n          {page.posts.map(post => (\n            <PostCard key={post.id} post={post} />\n          ))}\n        </div>\n      ))}\n      \n      <button\n        onClick={() => fetchNextPage()}\n        disabled={!hasNextPage || isFetchingNextPage}\n      >\n        {isFetchingNextPage\n          ? 'Loading more...'\n          : hasNextPage\n          ? 'Load More'\n          : 'No more posts'}\n      </button>\n    </div>\n  );\n}\n```\n\n**Dependent Queries:**\n\n```tsx\nfunction UserPosts({ userId }: { userId: string }) {\n  // 1. –°–Ω–∞—á–∞–ª–∞ –ø–æ–ª—É—á–∞–µ–º user\n  const { data: user } = useQuery({\n    queryKey: ['user', userId],\n    queryFn: () => fetchUser(userId)\n  });\n\n  // 2. –ü–æ—Ç–æ–º –ø–æ–ª—É—á–∞–µ–º posts (—Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ user –∑–∞–≥—Ä—É–∂–µ–Ω)\n  const { data: posts } = useQuery({\n    queryKey: ['posts', user?.id],\n    queryFn: () => fetchUserPosts(user!.id),\n    enabled: !!user // –ó–∞–ø—É—Å–∫–∞–µ—Ç—Å—è —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ user –æ–ø—Ä–µ–¥–µ–ª—ë–Ω\n  });\n\n  if (!user) return <Spinner />;\n\n  return (\n    <div>\n      <h1>{user.name}'s Posts</h1>\n      {posts?.map(post => (\n        <PostCard key={post.id} post={post} />\n      ))}\n    </div>\n  );\n}\n```\n\n**Prefetching:**\n\n```tsx\nimport { useQueryClient } from '@tanstack/react-query';\n\nfunction PostsList() {\n  const queryClient = useQueryClient();\n\n  const handleMouseEnter = (postId: string) => {\n    // Prefetch –¥–∞–Ω–Ω—ã–µ –ø—Ä–∏ hover\n    queryClient.prefetchQuery({\n      queryKey: ['post', postId],\n      queryFn: () => fetchPost(postId),\n      staleTime: 1000 * 60 * 5\n    });\n  };\n\n  return (\n    <div>\n      {posts.map(post => (\n        <Link\n          key={post.id}\n          to={`/posts/${post.id}`}\n          onMouseEnter={() => handleMouseEnter(post.id)}\n        >\n          {post.title}\n        </Link>\n      ))}\n    </div>\n  );\n}\n```\n\n",
          "best_practices": [],
          "difficulty": "Senior"
        },
        {
          "question_number": 39,
          "question_number_in_chapter": 7,
          "question_chapter": 4,
          "question_title": "SWR - –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–∞ React Query –æ—Ç Vercel.",
          "answer_markdown": "\n**–û—Ç–≤–µ—Ç:**\n\n**SWR** (Stale-While-Revalidate) - –ª–µ–≥–∫–æ–≤–µ—Å–Ω–∞—è –±–∏–±–ª–∏–æ—Ç–µ–∫–∞ –¥–ª—è data fetching –∏ –∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏—è –æ—Ç –∫–æ–º–∞–Ω–¥—ã Next.js/Vercel.\n\n**–£—Å—Ç–∞–Ω–æ–≤–∫–∞:**\n\n```bash\nnpm install swr\n```\n\n**–ë–∞–∑–æ–≤–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:**\n\n```tsx\nimport useSWR from 'swr';\n\nconst fetcher = (url: string) => fetch(url).then(res => res.json());\n\nfunction UserProfile({ userId }: { userId: string }) {\n  const { data, error, isLoading, mutate } = useSWR(\n    `/api/users/${userId}`,\n    fetcher\n  );\n\n  if (isLoading) return <Spinner />;\n  if (error) return <Error error={error} />;\n  if (!data) return null;\n\n  return (\n    <div>\n      <h1>{data.name}</h1>\n      <p>{data.email}</p>\n      <button onClick={() => mutate()}>Refresh</button>\n    </div>\n  );\n}\n```\n\n**–ì–ª–æ–±–∞–ª—å–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è:**\n\n```tsx\nimport { SWRConfig } from 'swr';\n\nfunction App() {\n  return (\n    <SWRConfig\n      value={{\n        fetcher: (url: string) => fetch(url).then(res => res.json()),\n        refreshInterval: 3000, // Auto-refresh –∫–∞–∂–¥—ã–µ 3 —Å–µ–∫—É–Ω–¥—ã\n        revalidateOnFocus: false,\n        revalidateOnReconnect: true\n      }}\n    >\n      <Router />\n    </SWRConfig>\n  );\n}\n\n// –¢–µ–ø–µ—Ä—å –Ω–µ –Ω—É–∂–Ω–æ –ø–µ—Ä–µ–¥–∞–≤–∞—Ç—å fetcher\nfunction Component() {\n  const { data } = useSWR('/api/data');\n  // ...\n}\n```\n\n**–ú—É—Ç–∞—Ü–∏–∏:**\n\n```tsx\nimport useSWR, { mutate } from 'swr';\n\nfunction UserEditForm({ userId }: { userId: string }) {\n  const { data: user, mutate: boundMutate } = useSWR(`/api/users/${userId}`);\n  const [name, setName] = useState('');\n\n  const handleSubmit = async (e: React.FormEvent) => {\n    e.preventDefault();\n\n    // –û–ø—Ç–∏–º–∏—Å—Ç–∏—á–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –ª–æ–∫–∞–ª—å–Ω–æ\n    boundMutate({ ...user, name }, false);\n\n    try {\n      await fetch(`/api/users/${userId}`, {\n        method: 'PATCH',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({ name })\n      });\n\n      // Revalidate –ø–æ—Å–ª–µ —É—Å–ø–µ—à–Ω–æ–≥–æ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è\n      boundMutate();\n    } catch (error) {\n      // –û—Ç–∫–∞—Ç—ã–≤–∞–µ–º –ø—Ä–∏ –æ—à–∏–±–∫–µ\n      boundMutate();\n    }\n  };\n\n  return (\n    <form onSubmit={handleSubmit}>\n      <input\n        value={name}\n        onChange={e => setName(e.target.value)}\n        placeholder=\"Name\"\n      />\n      <button type=\"submit\">Save</button>\n    </form>\n  );\n}\n\n// –ì–ª–æ–±–∞–ª—å–Ω—ã–µ –º—É—Ç–∞—Ü–∏–∏\nfunction LogoutButton() {\n  const handleLogout = async () => {\n    await logout();\n    // –ò–Ω–≤–∞–ª–∏–¥–∞—Ü–∏—è –≤—Å–µ—Ö –∫–µ—à–µ–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è\n    mutate(key => typeof key === 'string' && key.startsWith('/api/user'));\n  };\n\n  return <button onClick={handleLogout}>Logout</button>;\n}\n```\n\n**Pagination:**\n\n```tsx\nfunction PostsList() {\n  const [page, setPage] = useState(1);\n  const { data, error, isLoading } = useSWR(`/api/posts?page=${page}`);\n\n  if (isLoading) return <Spinner />;\n  if (error) return <Error error={error} />;\n\n  return (\n    <div>\n      {data.posts.map(post => (\n        <PostCard key={post.id} post={post} />\n      ))}\n      \n      <button onClick={() => setPage(p => p - 1)} disabled={page === 1}>\n        Previous\n      </button>\n      <button onClick={() => setPage(p => p + 1)} disabled={!data.hasMore}>\n        Next\n      </button>\n    </div>\n  );\n}\n```\n\n**Infinite Loading:**\n\n```tsx\nimport useSWRInfinite from 'swr/infinite';\n\nfunction InfinitePostsList() {\n  const getKey = (pageIndex: number, previousPageData: any) => {\n    // –î–æ—Å—Ç–∏–≥–ª–∏ –∫–æ–Ω—Ü–∞\n    if (previousPageData && !previousPageData.hasMore) return null;\n    \n    // –ü–µ—Ä–≤–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞\n    if (pageIndex === 0) return '/api/posts?page=1';\n    \n    // –ò—Å–ø–æ–ª—å–∑—É–µ–º cursor –∏–∑ –ø—Ä–µ–¥—ã–¥—É—â–µ–π —Å—Ç—Ä–∞–Ω–∏—Ü—ã\n    return `/api/posts?cursor=${previousPageData.nextCursor}`;\n  };\n\n  const { data, size, setSize, isLoading } = useSWRInfinite(getKey, fetcher);\n\n  const posts = data ? data.flatMap(page => page.posts) : [];\n  const hasMore = data && data[data.length - 1]?.hasMore;\n\n  return (\n    <div>\n      {posts.map(post => (\n        <PostCard key={post.id} post={post} />\n      ))}\n      \n      {hasMore && (\n        <button onClick={() => setSize(size + 1)}>Load More</button>\n      )}\n    </div>\n  );\n}\n```\n\n**Dependent Fetching:**\n\n```tsx\nfunction UserPosts({ userId }: { userId: string }) {\n  // 1. –ü–æ–ª—É—á–∞–µ–º user\n  const { data: user } = useSWR(`/api/users/${userId}`);\n\n  // 2. –ü–æ–ª—É—á–∞–µ–º posts —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ user –∑–∞–≥—Ä—É–∂–µ–Ω\n  const { data: posts } = useSWR(\n    user ? `/api/users/${user.id}/posts` : null\n    // null –æ–∑–Ω–∞—á–∞–µ—Ç \"–Ω–µ –≤—ã–ø–æ–ª–Ω—è—Ç—å –∑–∞–ø—Ä–æ—Å\"\n  );\n\n  if (!user) return <Spinner />;\n\n  return (\n    <div>\n      <h1>{user.name}'s Posts</h1>\n      {posts?.map(post => (\n        <PostCard key={post.id} post={post} />\n      ))}\n    </div>\n  );\n}\n```\n\n**Prefetching:**\n\n```tsx\nimport { useSWRConfig } from 'swr';\n\nfunction PostsList() {\n  const { cache, mutate } = useSWRConfig();\n\n  const handleMouseEnter = async (postId: string) => {\n    // Prefetch –ø—Ä–∏ hover\n    await mutate(\n      `/api/posts/${postId}`,\n      fetch(`/api/posts/${postId}`).then(res => res.json()),\n      false\n    );\n  };\n\n  return (\n    <div>\n      {posts.map(post => (\n        <Link\n          key={post.id}\n          to={`/posts/${post.id}`}\n          onMouseEnter={() => handleMouseEnter(post.id)}\n        >\n          {post.title}\n        </Link>\n      ))}\n    </div>\n  );\n}\n```\n\n**–°—Ä–∞–≤–Ω–µ–Ω–∏–µ SWR vs React Query:**\n\n| –•–∞—Ä–∞–∫—Ç–µ—Ä–∏—Å—Ç–∏–∫–∞ | SWR | React Query |\n|----------------|-----|-------------|\n| **–†–∞–∑–º–µ—Ä** | ~5 KB | ~13 KB |\n| **API** | –ü—Ä–æ—Å—Ç–æ–π | Feature-rich |\n| **Mutations** | –ë–∞–∑–æ–≤—ã–µ | –ü—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–µ |\n| **DevTools** | ‚ùå –ù–µ—Ç | ‚úÖ –î–∞ |\n| **Infinite Queries** | ‚úÖ useSWRInfinite | ‚úÖ useInfiniteQuery |\n| **Suspense** | ‚úÖ –î–∞ | ‚úÖ –î–∞ |\n| **Focus Revalidation** | ‚úÖ –î–∞ (default) | ‚ö†Ô∏è –û–ø—Ü–∏—è |\n\n",
          "best_practices": [],
          "difficulty": "Senior"
        },
        {
          "question_number": 40,
          "question_number_in_chapter": 8,
          "question_chapter": 4,
          "question_title": "Immer - immutable updates —É–ø—Ä–æ—â—ë–Ω–Ω–æ.",
          "answer_markdown": "\n**–û—Ç–≤–µ—Ç:**\n\n**Immer** - –±–∏–±–ª–∏–æ—Ç–µ–∫–∞ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å immutable state —á–µ—Ä–µ–∑ –º—É—Ç–∞—Ü–∏–∏. –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤–Ω—É—Ç—Ä–∏ Redux Toolkit, –Ω–æ –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –æ—Ç–¥–µ–ª—å–Ω–æ.\n\n**–£—Å—Ç–∞–Ω–æ–≤–∫–∞:**\n\n```bash\nnpm install immer\n```\n\n**–ë–∞–∑–æ–≤–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:**\n\n```tsx\nimport { produce } from 'immer';\n\nconst baseState = {\n  user: {\n    name: 'John',\n    age: 30,\n    address: {\n      city: 'New York',\n      country: 'USA'\n    }\n  },\n  todos: [\n    { id: 1, text: 'Learn React', completed: false },\n    { id: 2, text: 'Learn Immer', completed: false }\n  ]\n};\n\n// ‚ùå –ë–µ–∑ Immer - —Å–ª–æ–∂–Ω–æ\nconst nextState = {\n  ...baseState,\n  user: {\n    ...baseState.user,\n    address: {\n      ...baseState.user.address,\n      city: 'Boston'\n    }\n  }\n};\n\n// ‚úÖ –° Immer - –ø—Ä–æ—Å—Ç–æ\nconst nextState = produce(baseState, draft => {\n  draft.user.address.city = 'Boston';\n});\n```\n\n**–° React useState:**\n\n```tsx\nimport { useImmer } from 'use-immer';\n\ntype Todo = {\n  id: string;\n  text: string;\n  completed: boolean;\n};\n\nfunction TodoApp() {\n  const [todos, updateTodos] = useImmer<Todo[]>([]);\n\n  const addTodo = (text: string) => {\n    updateTodos(draft => {\n      draft.push({\n        id: crypto.randomUUID(),\n        text,\n        completed: false\n      });\n    });\n  };\n\n  const toggleTodo = (id: string) => {\n    updateTodos(draft => {\n      const todo = draft.find(t => t.id === id);\n      if (todo) {\n        todo.completed = !todo.completed;\n      }\n    });\n  };\n\n  const deleteTodo = (id: string) => {\n    updateTodos(draft => {\n      const index = draft.findIndex(t => t.id === id);\n      if (index !== -1) {\n        draft.splice(index, 1);\n      }\n    });\n  };\n\n  return (\n    <div>\n      <button onClick={() => addTodo('New Todo')}>Add</button>\n      {todos.map(todo => (\n        <div key={todo.id}>\n          <input\n            type=\"checkbox\"\n            checked={todo.completed}\n            onChange={() => toggleTodo(todo.id)}\n          />\n          {todo.text}\n          <button onClick={() => deleteTodo(todo.id)}>Delete</button>\n        </div>\n      ))}\n    </div>\n  );\n}\n```\n\n**–° useReducer:**\n\n```tsx\nimport { produce } from 'immer';\n\ntype State = {\n  count: number;\n  user: User | null;\n  todos: Todo[];\n};\n\ntype Action =\n  | { type: 'INCREMENT' }\n  | { type: 'ADD_TODO'; text: string }\n  | { type: 'TOGGLE_TODO'; id: string }\n  | { type: 'SET_USER'; user: User };\n\n// ‚ùå –ë–µ–∑ Immer\nfunction reducer(state: State, action: Action): State {\n  switch (action.type) {\n    case 'ADD_TODO':\n      return {\n        ...state,\n        todos: [\n          ...state.todos,\n          { id: crypto.randomUUID(), text: action.text, completed: false }\n        ]\n      };\n    case 'TOGGLE_TODO':\n      return {\n        ...state,\n        todos: state.todos.map(todo =>\n          todo.id === action.id\n            ? { ...todo, completed: !todo.completed }\n            : todo\n        )\n      };\n    default:\n      return state;\n  }\n}\n\n// ‚úÖ –° Immer\nconst reducer = produce((draft: State, action: Action) => {\n  switch (action.type) {\n    case 'ADD_TODO':\n      draft.todos.push({\n        id: crypto.randomUUID(),\n        text: action.text,\n        completed: false\n      });\n      break;\n    case 'TOGGLE_TODO':\n      const todo = draft.todos.find(t => t.id === action.id);\n      if (todo) {\n        todo.completed = !todo.completed;\n      }\n      break;\n  }\n});\n```\n\n**Curried produce:**\n\n```tsx\nimport { produce } from 'immer';\n\n// –°–æ–∑–¥–∞–Ω–∏–µ updater —Ñ—É–Ω–∫—Ü–∏–π\nconst addTodo = produce((draft: State, text: string) => {\n  draft.todos.push({\n    id: crypto.randomUUID(),\n    text,\n    completed: false\n  });\n});\n\nconst toggleTodo = produce((draft: State, id: string) => {\n  const todo = draft.todos.find(t => t.id === id);\n  if (todo) {\n    todo.completed = !todo.completed;\n  }\n});\n\n// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ\nconst newState = addTodo(currentState, 'New Todo');\n```\n\n**Patches - –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –∏–∑–º–µ–Ω–µ–Ω–∏–π:**\n\n```tsx\nimport { produceWithPatches, applyPatches } from 'immer';\n\nconst [nextState, patches, inversePatches] = produceWithPatches(baseState, draft => {\n  draft.user.name = 'Jane';\n  draft.todos[0].completed = true;\n});\n\nconsole.log(patches);\n// [\n//   { op: 'replace', path: ['user', 'name'], value: 'Jane' },\n//   { op: 'replace', path: ['todos', 0, 'completed'], value: true }\n// ]\n\n// –ú–æ–∂–Ω–æ –ø—Ä–∏–º–µ–Ω–∏—Ç—å patches –∫ –¥—Ä—É–≥–æ–º—É state\nconst anotherState = applyPatches(baseState, patches);\n\n// –ò–ª–∏ –æ—Ç–∫–∞—Ç–∏—Ç—å —Å inversePatches\nconst rolledBack = applyPatches(nextState, inversePatches);\n// rolledBack === baseState\n```\n\n**Undo/Redo —Å Immer:**\n\n```tsx\nimport { produce } from 'immer';\nimport { useState } from 'react';\n\nfunction useUndoable<T>(initialState: T) {\n  const [history, setHistory] = useState<T[]>([initialState]);\n  const [currentIndex, setCurrentIndex] = useState(0);\n\n  const current = history[currentIndex];\n\n  const set = (updater: (draft: T) => void) => {\n    const nextState = produce(current, updater);\n    const newHistory = history.slice(0, currentIndex + 1);\n    setHistory([...newHistory, nextState]);\n    setCurrentIndex(newHistory.length);\n  };\n\n  const undo = () => {\n    if (currentIndex > 0) {\n      setCurrentIndex(currentIndex - 1);\n    }\n  };\n\n  const redo = () => {\n    if (currentIndex < history.length - 1) {\n      setCurrentIndex(currentIndex + 1);\n    }\n  };\n\n  return {\n    state: current,\n    set,\n    undo,\n    redo,\n    canUndo: currentIndex > 0,\n    canRedo: currentIndex < history.length - 1\n  };\n}\n\n// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ\nfunction TodoApp() {\n  const {\n    state: todos,\n    set: setTodos,\n    undo,\n    redo,\n    canUndo,\n    canRedo\n  } = useUndoable<Todo[]>([]);\n\n  const addTodo = (text: string) => {\n    setTodos(draft => {\n      draft.push({ id: crypto.randomUUID(), text, completed: false });\n    });\n  };\n\n  return (\n    <div>\n      <button onClick={undo} disabled={!canUndo}>Undo</button>\n      <button onClick={redo} disabled={!canRedo}>Redo</button>\n      <button onClick={() => addTodo('New Todo')}>Add</button>\n      {/* ... */}\n    </div>\n  );\n}\n```\n\n",
          "best_practices": [],
          "difficulty": "Senior"
        },
        {
          "question_number": 41,
          "question_number_in_chapter": 9,
          "question_chapter": 4,
          "question_title": "State Machines (XState) - –¥–µ–∫–ª–∞—Ä–∞—Ç–∏–≤–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º.",
          "answer_markdown": "\n**–û—Ç–≤–µ—Ç:**\n\n**State Machines** - —Ñ–æ—Ä–º–∞–ª—å–Ω—ã–π —Å–ø–æ—Å–æ–± –æ–ø–∏—Å–∞–Ω–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏–π –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –∏ –ø–µ—Ä–µ—Ö–æ–¥–æ–≤ –º–µ–∂–¥—É –Ω–∏–º–∏. **XState** - –±–∏–±–ª–∏–æ—Ç–µ–∫–∞ –¥–ª—è state machines –∏ statecharts.\n\n**–£—Å—Ç–∞–Ω–æ–≤–∫–∞:**\n\n```bash\nnpm install xstate @xstate/react\n```\n\n**–ë–∞–∑–æ–≤—ã–π –ø—Ä–∏–º–µ—Ä - Toggle:**\n\n```tsx\nimport { createMachine } from 'xstate';\nimport { useMachine } from '@xstate/react';\n\n// –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –º–∞—à–∏–Ω—ã\nconst toggleMachine = createMachine({\n  id: 'toggle',\n  initial: 'inactive',\n  states: {\n    inactive: {\n      on: { TOGGLE: 'active' }\n    },\n    active: {\n      on: { TOGGLE: 'inactive' }\n    }\n  }\n});\n\nfunction Toggle() {\n  const [state, send] = useMachine(toggleMachine);\n\n  return (\n    <button onClick={() => send({ type: 'TOGGLE' })}>\n      {state.matches('active') ? 'ON' : 'OFF'}\n    </button>\n  );\n}\n```\n\n**–ü—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–π –ø—Ä–∏–º–µ—Ä - –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è:**\n\n```tsx\nimport { createMachine, assign } from 'xstate';\n\ntype AuthContext = {\n  user: User | null;\n  error: string | null;\n};\n\ntype AuthEvent =\n  | { type: 'LOGIN'; credentials: Credentials }\n  | { type: 'LOGOUT' }\n  | { type: 'RETRY' };\n\nconst authMachine = createMachine<AuthContext, AuthEvent>({\n  id: 'auth',\n  initial: 'idle',\n  context: {\n    user: null,\n    error: null\n  },\n  states: {\n    idle: {\n      on: {\n        LOGIN: 'authenticating'\n      }\n    },\n    authenticating: {\n      invoke: {\n        src: async (context, event) => {\n          if (event.type !== 'LOGIN') throw new Error('Invalid event');\n          const response = await login(event.credentials);\n          return response.user;\n        },\n        onDone: {\n          target: 'authenticated',\n          actions: assign({\n            user: (context, event) => event.data,\n            error: null\n          })\n        },\n        onError: {\n          target: 'error',\n          actions: assign({\n            error: (context, event) => event.data.message\n          })\n        }\n      }\n    },\n    authenticated: {\n      on: {\n        LOGOUT: {\n          target: 'idle',\n          actions: assign({\n            user: null\n          })\n        }\n      }\n    },\n    error: {\n      on: {\n        RETRY: 'authenticating',\n        LOGOUT: 'idle'\n      }\n    }\n  }\n});\n\nfunction AuthForm() {\n  const [state, send] = useMachine(authMachine);\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n\n  const handleSubmit = (e: React.FormEvent) => {\n    e.preventDefault();\n    send({ type: 'LOGIN', credentials: { email, password } });\n  };\n\n  if (state.matches('authenticated')) {\n    return (\n      <div>\n        <p>Welcome, {state.context.user?.name}!</p>\n        <button onClick={() => send({ type: 'LOGOUT' })}>Logout</button>\n      </div>\n    );\n  }\n\n  return (\n    <form onSubmit={handleSubmit}>\n      <input\n        value={email}\n        onChange={e => setEmail(e.target.value)}\n        disabled={state.matches('authenticating')}\n      />\n      <input\n        type=\"password\"\n        value={password}\n        onChange={e => setPassword(e.target.value)}\n        disabled={state.matches('authenticating')}\n      />\n      \n      {state.matches('error') && (\n        <div className=\"error\">{state.context.error}</div>\n      )}\n      \n      <button\n        type=\"submit\"\n        disabled={state.matches('authenticating')}\n      >\n        {state.matches('authenticating') ? 'Logging in...' : 'Login'}\n      </button>\n      \n      {state.matches('error') && (\n        <button onClick={() => send({ type: 'RETRY' })}>Retry</button>\n      )}\n    </form>\n  );\n}\n```\n\n**Hierarchical States (Statecharts):**\n\n```tsx\nconst videoPlayerMachine = createMachine({\n  id: 'videoPlayer',\n  initial: 'loading',\n  states: {\n    loading: {\n      on: {\n        LOADED: 'ready'\n      }\n    },\n    ready: {\n      initial: 'paused',\n      states: {\n        paused: {\n          on: {\n            PLAY: 'playing'\n          }\n        },\n        playing: {\n          on: {\n            PAUSE: 'paused',\n            END: 'ended'\n          }\n        },\n        ended: {\n          on: {\n            REPLAY: 'playing'\n          }\n        }\n      },\n      on: {\n        STOP: 'stopped'\n      }\n    },\n    stopped: {\n      on: {\n        PLAY: 'ready.playing'\n      }\n    }\n  }\n});\n```\n\n**Guards (—É—Å–ª–æ–≤–Ω—ã–µ –ø–µ—Ä–µ—Ö–æ–¥—ã):**\n\n```tsx\nconst formMachine = createMachine({\n  id: 'form',\n  initial: 'editing',\n  context: {\n    email: '',\n    password: ''\n  },\n  states: {\n    editing: {\n      on: {\n        SUBMIT: {\n          target: 'submitting',\n          cond: 'isValid' // Guard condition\n        },\n        UPDATE_EMAIL: {\n          actions: assign({\n            email: (context, event) => event.value\n          })\n        },\n        UPDATE_PASSWORD: {\n          actions: assign({\n            password: (context, event) => event.value\n          })\n        }\n      }\n    },\n    submitting: {\n      invoke: {\n        src: 'submitForm',\n        onDone: 'success',\n        onError: 'editing'\n      }\n    },\n    success: {\n      type: 'final'\n    }\n  }\n}, {\n  guards: {\n    isValid: (context) => {\n      return context.email.includes('@') && context.password.length >= 8;\n    }\n  },\n  services: {\n    submitForm: async (context) => {\n      await fetch('/api/submit', {\n        method: 'POST',\n        body: JSON.stringify(context)\n      });\n    }\n  }\n});\n```\n\n**–ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å State Machines:**\n\n‚úÖ **–•–æ—Ä–æ—à–æ –¥–ª—è:**\n- –°–ª–æ–∂–Ω—ã–µ —Ñ–æ—Ä–º—ã —Å –º–Ω–æ–∂–µ—Å—Ç–≤–æ–º —Å–æ—Å—Ç–æ—è–Ω–∏–π\n- –ú—É–ª—å—Ç–∏—Å—Ç–∞–¥–∏–π–Ω—ã–µ –ø—Ä–æ—Ü–µ—Å—Å—ã (checkout, onboarding)\n- UI —Å —á—ë—Ç–∫–∏–º–∏ —Å–æ—Å—Ç–æ—è–Ω–∏—è–º–∏ (loading, success, error)\n- –ò–≥—Ä—ã, –∞–Ω–∏–º–∞—Ü–∏–∏\n- –°–ª–æ–∂–Ω–∞—è –Ω–∞–≤–∏–≥–∞—Ü–∏—è\n\n‚ùå **–ù–µ –ø–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è:**\n- –ü—Ä–æ—Å—Ç–æ–π UI state\n- Data fetching (–∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ React Query)\n- –ì–ª–æ–±–∞–ª—å–Ω—ã–π app state (–∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ Redux/Zustand)\n\n\n",
          "best_practices": [],
          "difficulty": "Senior"
        },
        {
          "question_number": 42,
          "question_number_in_chapter": 10,
          "question_chapter": 4,
          "question_title": "Flux –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ - –æ—Å–Ω–æ–≤—ã –æ–¥–Ω–æ–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–Ω–æ–≥–æ –ø–æ—Ç–æ–∫–∞ –¥–∞–Ω–Ω—ã—Ö.",
          "answer_markdown": "\n**–û—Ç–≤–µ—Ç:**\n\n**Flux** - –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–π –ø–∞—Ç—Ç–µ—Ä–Ω —Å –æ–¥–Ω–æ–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–º –ø–æ—Ç–æ–∫–æ–º –¥–∞–Ω–Ω—ã—Ö, —Å–æ–∑–¥–∞–Ω–Ω—ã–π Facebook. Redux - —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è –∏–¥–µ–π Flux.\n\n**–ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã Flux:**\n\n```\n‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê     ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê     ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê     ‚îå‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îê\n‚îÇ Actions ‚îÇ‚îÄ‚îÄ‚îÄ‚îÄ>‚îÇDispatcher‚îÇ‚îÄ‚îÄ‚îÄ‚îÄ>‚îÇ Store ‚îÇ‚îÄ‚îÄ‚îÄ‚îÄ>‚îÇ View  ‚îÇ\n‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò     ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò     ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò     ‚îî‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îÄ‚îò\n                                                    ‚îÇ\n                                                    ‚îÇ\n                                                    ‚ñº\n                                            User Interactions\n```\n\n**1. Actions - –æ–ø–∏—Å–∞–Ω–∏–µ —Å–æ–±—ã—Ç–∏–π:**\n\n```tsx\n// Action types\nconst ActionTypes = {\n  ADD_TODO: 'ADD_TODO',\n  TOGGLE_TODO: 'TOGGLE_TODO',\n  DELETE_TODO: 'DELETE_TODO'\n} as const;\n\n// Action creators\nconst TodoActions = {\n  addTodo(text: string) {\n    return {\n      type: ActionTypes.ADD_TODO,\n      payload: { text }\n    };\n  },\n  \n  toggleTodo(id: string) {\n    return {\n      type: ActionTypes.TOGGLE_TODO,\n      payload: { id }\n    };\n  },\n  \n  deleteTodo(id: string) {\n    return {\n      type: ActionTypes.DELETE_TODO,\n      payload: { id }\n    };\n  }\n};\n```\n\n**2. Dispatcher - —Ü–µ–Ω—Ç—Ä–∞–ª—å–Ω—ã–π hub:**\n\n```tsx\ntype Callback = (action: Action) => void;\n\nclass Dispatcher {\n  private callbacks: Map<string, Callback> = new Map();\n\n  register(id: string, callback: Callback): void {\n    this.callbacks.set(id, callback);\n  }\n\n  dispatch(action: Action): void {\n    this.callbacks.forEach(callback => {\n      callback(action);\n    });\n  }\n}\n\nconst dispatcher = new Dispatcher();\n```\n\n**3. Store - —Ö—Ä–∞–Ω–∏–ª–∏—â–µ –¥–∞–Ω–Ω—ã—Ö:**\n\n```tsx\nimport { EventEmitter } from 'events';\n\nclass TodoStore extends EventEmitter {\n  private todos: Todo[] = [];\n\n  getTodos(): Todo[] {\n    return this.todos;\n  }\n\n  private handleAction(action: Action): void {\n    switch (action.type) {\n      case ActionTypes.ADD_TODO:\n        this.todos.push({\n          id: crypto.randomUUID(),\n          text: action.payload.text,\n          completed: false\n        });\n        this.emit('change');\n        break;\n\n      case ActionTypes.TOGGLE_TODO:\n        const todo = this.todos.find(t => t.id === action.payload.id);\n        if (todo) {\n          todo.completed = !todo.completed;\n          this.emit('change');\n        }\n        break;\n\n      case ActionTypes.DELETE_TODO:\n        this.todos = this.todos.filter(t => t.id !== action.payload.id);\n        this.emit('change');\n        break;\n    }\n  }\n\n  constructor() {\n    super();\n    dispatcher.register('TodoStore', this.handleAction.bind(this));\n  }\n}\n\nconst todoStore = new TodoStore();\n```\n\n**4. Views - React –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã:**\n\n```tsx\nfunction TodoApp() {\n  const [todos, setTodos] = useState<Todo[]>([]);\n\n  useEffect(() => {\n    const handleChange = () => {\n      setTodos(todoStore.getTodos());\n    };\n\n    // –ü–æ–¥–ø–∏—Å–∫–∞ –Ω–∞ –∏–∑–º–µ–Ω–µ–Ω–∏—è\n    todoStore.on('change', handleChange);\n    \n    // –ù–∞—á–∞–ª—å–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ\n    setTodos(todoStore.getTodos());\n\n    return () => {\n      todoStore.off('change', handleChange);\n    };\n  }, []);\n\n  const handleAddTodo = (text: string) => {\n    dispatcher.dispatch(TodoActions.addTodo(text));\n  };\n\n  const handleToggleTodo = (id: string) => {\n    dispatcher.dispatch(TodoActions.toggleTodo(id));\n  };\n\n  return (\n    <div>\n      <TodoInput onSubmit={handleAddTodo} />\n      <TodoList\n        todos={todos}\n        onToggle={handleToggleTodo}\n      />\n    </div>\n  );\n}\n```\n\n**Flux vs Redux:**\n\n| Flux | Redux |\n|------|-------|\n| –ú–Ω–æ–∂–µ—Å—Ç–≤–æ stores | –û–¥–∏–Ω store |\n| Stores —Å–æ–¥–µ—Ä–∂–∞—Ç –ª–æ–≥–∏–∫—É | Reducers —Å–æ–¥–µ—Ä–∂–∞—Ç –ª–æ–≥–∏–∫—É |\n| Dispatcher —è–≤–Ω—ã–π | Dispatcher –≤—Å—Ç—Ä–æ–µ–Ω |\n| State –º—É—Ç–∏—Ä—É–µ—Ç—Å—è –≤ stores | State immutable |\n| –¢—Ä–µ–±—É–µ—Ç –±–æ–ª—å—à–µ boilerplate | –ú–µ–Ω—å—à–µ boilerplate (RTK) |\n\n**–°–æ–≤—Ä–µ–º–µ–Ω–Ω–∞—è –∏–Ω—Ç–µ—Ä–ø—Ä–µ—Ç–∞—Ü–∏—è Flux (Redux):**\n\n```tsx\n// Redux - —É–ø—Ä–æ—â—ë–Ω–Ω—ã–π Flux\nimport { createStore } from 'redux';\n\n// 1. Actions (—Ç–µ –∂–µ —á—Ç–æ –≤ Flux)\nconst addTodo = (text: string) => ({\n  type: 'ADD_TODO',\n  payload: { text }\n});\n\n// 2. Reducer (–∑–∞–º–µ–Ω—è–µ—Ç Store –ª–æ–≥–∏–∫—É)\nfunction todoReducer(state = [], action) {\n  switch (action.type) {\n    case 'ADD_TODO':\n      return [\n        ...state,\n        {\n          id: crypto.randomUUID(),\n          text: action.payload.text,\n          completed: false\n        }\n      ];\n    default:\n      return state;\n  }\n}\n\n// 3. Store (–µ–¥–∏–Ω—ã–π, —Å–æ–∑–¥–∞—ë—Ç—Å—è –∏–∑ reducer)\nconst store = createStore(todoReducer);\n\n// 4. View –ø–æ–¥–ø–∏—Å—ã–≤–∞–µ—Ç—Å—è –Ω–∞ store\nfunction TodoApp() {\n  const todos = useSelector(state => state.todos);\n  const dispatch = useDispatch();\n\n  return (\n    <div>\n      <button onClick={() => dispatch(addTodo('New Todo'))}>\n        Add\n      </button>\n      {todos.map(todo => (\n        <div key={todo.id}>{todo.text}</div>\n      ))}\n    </div>\n  );\n}\n```\n\n**–ö–ª—é—á–µ–≤—ã–µ –ø—Ä–∏–Ω—Ü–∏–ø—ã Flux:**\n\n```\n1. –û–¥–Ω–æ–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–π –ø–æ—Ç–æ–∫ –¥–∞–Ω–Ω—ã—Ö:\n   Action ‚Üí Dispatcher ‚Üí Store ‚Üí View ‚Üí Action\n\n2. Single Source of Truth:\n   –í—Å–µ –¥–∞–Ω–Ω—ã–µ –≤ stores\n\n3. State is Read-Only:\n   –ò–∑–º–µ–Ω–µ–Ω–∏—è —Ç–æ–ª—å–∫–æ —á–µ—Ä–µ–∑ actions\n\n4. Predictability:\n   –û–¥–∏–Ω–∞–∫–æ–≤—ã–µ actions ‚Üí –æ–¥–∏–Ω–∞–∫–æ–≤—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç\n```\n\n\n**–°–µ–∫—Ü–∏—è 4 (State Management) –∑–∞–≤–µ—Ä—à–µ–Ω–∞!**\n\n–î–æ–±–∞–≤–ª–µ–Ω–æ 10 –≤–æ–ø—Ä–æ—Å–æ–≤ (33-42):\n- Context API\n- Redux vs Context\n- Redux Toolkit (RTK)\n- Zustand\n- Jotai –∏ Recoil\n- React Query (TanStack Query)\n- SWR\n- Immer\n- State Machines (XState)\n- Flux –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞\n\n**–ü—Ä–æ–≥—Ä–µ—Å—Å: 42/70 –≤–æ–ø—Ä–æ—Å–æ–≤ (60%)**\n\n\n\n",
          "best_practices": [],
          "difficulty": "Senior"
        }
      ]
    },
    {
      "chapter_number": 5,
      "chapter_title": "Performance & Optimization",
      "questions_count": 3,
      "questions": [
        {
          "question_number": 43,
          "question_number_in_chapter": 1,
          "question_chapter": 5,
          "question_title": "React.memo - –º–µ–º–æ–∏–∑–∞—Ü–∏—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤, –∫–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å.",
          "answer_markdown": "\n**–û—Ç–≤–µ—Ç:**\n\n**React.memo** - HOC –¥–ª—è –º–µ–º–æ–∏–∑–∞—Ü–∏–∏ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤. –ö–æ–º–ø–æ–Ω–µ–Ω—Ç —Ä–µ-—Ä–µ–Ω–¥–µ—Ä–∏—Ç—Å—è —Ç–æ–ª—å–∫–æ –µ—Å–ª–∏ props –∏–∑–º–µ–Ω–∏–ª–∏—Å—å.\n\n**–ë–∞–∑–æ–≤–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:**\n\n```tsx\n// ‚ùå –ë–µ–∑ memo - —Ä–µ-—Ä–µ–Ω–¥–µ—Ä –ø—Ä–∏ –∫–∞–∂–¥–æ–º render —Ä–æ–¥–∏—Ç–µ–ª—è\nfunction Child({ count }: { count: number }) {\n  console.log('Child render');\n  return <div>Count: {count}</div>;\n}\n\n// ‚úÖ –° memo - —Ä–µ-—Ä–µ–Ω–¥–µ—Ä —Ç–æ–ª—å–∫–æ –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ count\nconst Child = React.memo(({ count }: { count: number }) => {\n  console.log('Child render');\n  return <div>Count: {count}</div>;\n});\n\nfunction Parent() {\n  const [count, setCount] = useState(0);\n  const [other, setOther] = useState(0);\n\n  return (\n    <div>\n      <button onClick={() => setOther(o => o + 1)}>Change Other</button>\n      <Child count={count} /> {/* –ù–ï —Ä–µ-—Ä–µ–Ω–¥–µ—Ä–∏—Ç—Å—è –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ other */}\n    </div>\n  );\n}\n```\n\n**Custom comparison function:**\n\n```tsx\nconst User = React.memo(\n  ({ user }: { user: User }) => {\n    return <div>{user.name}</div>;\n  },\n  (prevProps, nextProps) => {\n    // Return true –µ—Å–ª–∏ –ù–ï –Ω—É–∂–µ–Ω —Ä–µ-—Ä–µ–Ω–¥–µ—Ä\n    return prevProps.user.id === nextProps.user.id;\n  }\n);\n```\n\n**‚ùå –¢–∏–ø–∏—á–Ω—ã–µ –æ—à–∏–±–∫–∏:**\n\n```tsx\n// ‚ùå –ü—Ä–æ–±–ª–µ–º–∞: –Ω–æ–≤—ã–π –æ–±—ä–µ–∫—Ç –ø—Ä–∏ –∫–∞–∂–¥–æ–º render\nconst MemoChild = React.memo(Child);\n\nfunction Parent() {\n  return <MemoChild config={{ theme: 'dark' }} />; // –ù–æ–≤—ã–π –æ–±—ä–µ–∫—Ç!\n}\n\n// ‚úÖ –†–µ—à–µ–Ω–∏–µ: useMemo\nfunction Parent() {\n  const config = useMemo(() => ({ theme: 'dark' }), []);\n  return <MemoChild config={config} />;\n}\n\n// ‚ùå –ü—Ä–æ–±–ª–µ–º–∞: –Ω–æ–≤–∞—è —Ñ—É–Ω–∫—Ü–∏—è –ø—Ä–∏ –∫–∞–∂–¥–æ–º render\nfunction Parent() {\n  return <MemoChild onClick={() => console.log('click')} />; // –ù–æ–≤–∞—è —Ñ—É–Ω–∫—Ü–∏—è!\n}\n\n// ‚úÖ –†–µ—à–µ–Ω–∏–µ: useCallback\nfunction Parent() {\n  const handleClick = useCallback(() => console.log('click'), []);\n  return <MemoChild onClick={handleClick} />;\n}\n```\n\n**–ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å React.memo:**\n\n‚úÖ **–•–æ—Ä–æ—à–æ –¥–ª—è:**\n- –î–æ—Ä–æ–≥–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã (—Å–ª–æ–∂–Ω—ã–µ –≤—ã—á–∏—Å–ª–µ–Ω–∏—è, –±–æ–ª—å—à–∏–µ —Å–ø–∏—Å–∫–∏)\n- –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã, –∫–æ—Ç–æ—Ä—ã–µ —á–∞—Å—Ç–æ —Ä–µ-—Ä–µ–Ω–¥–µ—Ä—è—Ç—Å—è\n- –õ–∏—Å—Ç–æ–≤—ã–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –¥–µ—Ä–µ–≤–∞\n\n‚ùå **–ù–µ –Ω—É–∂–Ω–æ –¥–ª—è:**\n- –î–µ—à—ë–≤—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ (–∫–Ω–æ–ø–∫–∏, divs)\n- –ö–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ —Å –ø–æ—Å—Ç–æ—è–Ω–Ω–æ –º–µ–Ω—è—é—â–∏–º–∏—Å—è props\n- –ü—Ä–µ–∂–¥–µ–≤—Ä–µ–º–µ–Ω–Ω–æ–π –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏\n\n**–ü—Ä–æ—Ñ–∏–ª–∏—Ä–æ–≤–∞–Ω–∏–µ:**\n\n```tsx\n// –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ React DevTools Profiler –¥–ª—è –∏–∑–º–µ—Ä–µ–Ω–∏—è\n// –ü–ï–†–ï–î –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ–º memo\nimport { Profiler } from 'react';\n\n<Profiler id=\"Component\" onRender={onRenderCallback}>\n  <Component />\n</Profiler>\n```\n\n\n",
          "best_practices": [],
          "difficulty": "Senior"
        },
        {
          "question_number": 44,
          "question_number_in_chapter": 2,
          "question_chapter": 5,
          "question_title": "Virtual DOM –∏ Reconciliation - –∫–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç –ø–æ–¥ –∫–∞–ø–æ—Ç–æ–º.",
          "answer_markdown": "\n**–û—Ç–≤–µ—Ç:**\n\n**Virtual DOM** - in-memory –ø—Ä–µ–¥—Å—Ç–∞–≤–ª–µ–Ω–∏–µ —Ä–µ–∞–ª—å–Ω–æ–≥–æ DOM. **Reconciliation** - –ø—Ä–æ—Ü–µ—Å—Å —Å—Ä–∞–≤–Ω–µ–Ω–∏—è –∏ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è.\n\n**–ü—Ä–æ—Ü–µ—Å—Å:**\n\n```\n1. Render ‚Üí –°–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–≥–æ Virtual DOM tree\n2. Diffing ‚Üí –°—Ä–∞–≤–Ω–µ–Ω–∏–µ —Å –ø—Ä–µ–¥—ã–¥—É—â–∏–º VDOM\n3. Reconciliation ‚Üí –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –º–∏–Ω–∏–º–∞–ª—å–Ω—ã—Ö –∏–∑–º–µ–Ω–µ–Ω–∏–π\n4. Commit ‚Üí –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ä–µ–∞–ª—å–Ω–æ–≥–æ DOM\n```\n\n**Fiber Architecture (React 16+):**\n\n```tsx\n// Fiber - unit of work\ntype Fiber = {\n  type: string | Function;\n  props: object;\n  child: Fiber | null;\n  sibling: Fiber | null;\n  return: Fiber | null; // parent\n  alternate: Fiber | null; // previous version\n  effectTag: 'PLACEMENT' | 'UPDATE' | 'DELETION';\n  // ...\n};\n\n// Reconciliation —Ä–∞–∑–±–∏–≤–∞–µ—Ç—Å—è –Ω–∞ chunks\n// –ú–æ–∂–Ω–æ –ø—Ä–µ—Ä—ã–≤–∞—Ç—å –∏ –≤–æ–∑–æ–±–Ω–æ–≤–ª—è—Ç—å\n```\n\n**Diffing Algorithm:**\n\n```tsx\n// 1. –†–∞–∑–Ω—ã–µ —Ç–∏–ø—ã ‚Üí –ø–æ–ª–Ω–∞—è –∑–∞–º–µ–Ω–∞\n<div>\n  <Counter /> {/* Unmount */}\n</div>\n\n<span>\n  <Counter /> {/* Mount –Ω–æ–≤—ã–π */}\n</span>\n\n// 2. –û–¥–∏–Ω–∞–∫–æ–≤—ã–π —Ç–∏–ø DOM ‚Üí –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∞—Ç—Ä–∏–±—É—Ç–æ–≤\n<div className=\"before\" title=\"stuff\" />\n<div className=\"after\" title=\"stuff\" />\n// –¢–æ–ª—å–∫–æ className –æ–±–Ω–æ–≤–∏—Ç—Å—è\n\n// 3. –û–¥–∏–Ω–∞–∫–æ–≤—ã–π —Ç–∏–ø Component ‚Üí –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ props\n<Counter count={1} />\n<Counter count={2} />\n// componentWillReceiveProps / getDerivedStateFromProps\n```\n\n**Keys –≤ —Å–ø–∏—Å–∫–∞—Ö:**\n\n```tsx\n// ‚ùå –ë–ï–ó keys - React –Ω–µ –º–æ–∂–µ—Ç –∏–¥–µ–Ω—Ç–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞—Ç—å —ç–ª–µ–º–µ–Ω—Ç—ã\n['A', 'B', 'C'] ‚Üí ['A', 'D', 'B', 'C']\n// React –¥—É–º–∞–µ—Ç: B‚ÜíD, C‚ÜíB, –¥–æ–±–∞–≤–∏—Ç—å C\n// 3 –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è + 1 –≤—Å—Ç–∞–≤–∫–∞\n\n// ‚úÖ –° keys - React –∑–Ω–∞–µ—Ç —á—Ç–æ D –≤—Å—Ç–∞–≤–ª–µ–Ω\n<li key=\"A\">A</li>\n<li key=\"B\">B</li>\n<li key=\"C\">C</li>\n‚Üí\n<li key=\"A\">A</li>\n<li key=\"D\">D</li> {/* –í—Å—Ç–∞–≤–∫–∞ */}\n<li key=\"B\">B</li> {/* –ü–µ—Ä–µ–º–µ—Å—Ç–∏—Ç—å */}\n<li key=\"C\">C</li> {/* –ü–µ—Ä–µ–º–µ—Å—Ç–∏—Ç—å */}\n```\n\n**Bailout –º–µ—Ö–∞–Ω–∏–∑–º:**\n\n```tsx\n// React –ø—Ä–æ–ø—É—Å–∫–∞–µ—Ç —Ä–µ-—Ä–µ–Ω–¥–µ—Ä –µ—Å–ª–∏:\n// 1. –¢–µ –∂–µ props (Object.is)\n// 2. –¢–æ—Ç –∂–µ state\n// 3. –¢–æ—Ç –∂–µ context value\n\nconst Component = React.memo(({ value }) => {\n  // Bailout –µ—Å–ª–∏ value –Ω–µ –∏–∑–º–µ–Ω–∏–ª—Å—è\n});\n\n// PureComponent –¥–ª—è –∫–ª–∞—Å—Å–æ–≤\nclass Component extends React.PureComponent {\n  // –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π shallow compare props –∏ state\n}\n```\n\n\n",
          "best_practices": [],
          "difficulty": "Senior"
        },
        {
          "question_number": 45,
          "question_number_in_chapter": 3,
          "question_chapter": 5,
          "question_title": "Bundle Optimization - –∞–Ω–∞–ª–∏–∑ –∏ —É–º–µ–Ω—å—à–µ–Ω–∏–µ —Ä–∞–∑–º–µ—Ä–∞.",
          "answer_markdown": "\n**–û—Ç–≤–µ—Ç:**\n\n**Bundle Optimization** - —É–º–µ–Ω—å—à–µ–Ω–∏–µ —Ä–∞–∑–º–µ—Ä–∞ JavaScript bundle –¥–ª—è –±—ã—Å—Ç—Ä–æ–π –∑–∞–≥—Ä—É–∑–∫–∏.\n\n**–ê–Ω–∞–ª–∏–∑ bundle:**\n\n```bash\n# Webpack Bundle Analyzer\nnpm install --save-dev webpack-bundle-analyzer\n\n# package.json\n\"scripts\": {\n  \"analyze\": \"ANALYZE=true npm run build\"\n}\n\n// webpack.config.js\nconst BundleAnalyzerPlugin = require('webpack-bundle-analyzer').BundleAnalyzerPlugin;\n\nplugins: [\n  process.env.ANALYZE && new BundleAnalyzerPlugin()\n]\n```\n\n**Code Splitting:**\n\n```tsx\n// Route-based splitting\nconst Home = lazy(() => import('./pages/Home'));\nconst Dashboard = lazy(() => import('./pages/Dashboard'));\n\n// Component-based splitting\nconst HeavyChart = lazy(() => import('./components/HeavyChart'));\n\nfunction App() {\n  return (\n    <Suspense fallback={<Spinner />}>\n      <Routes>\n        <Route path=\"/\" element={<Home />} />\n        <Route path=\"/dashboard\" element={<Dashboard />} />\n      </Routes>\n    </Suspense>\n  );\n}\n```\n\n**Tree Shaking:**\n\n```tsx\n// ‚ùå –ò–º–ø–æ—Ä—Ç–∏—Ä—É–µ—Ç –≤–µ—Å—å lodash (~70KB)\nimport _ from 'lodash';\nconst result = _.debounce(fn, 100);\n\n// ‚úÖ –ò–º–ø–æ—Ä—Ç–∏—Ä—É–µ—Ç —Ç–æ–ª—å–∫–æ debounce\nimport debounce from 'lodash/debounce';\nconst result = debounce(fn, 100);\n\n// ‚úÖ –ò–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ lodash-es (ESM)\nimport { debounce } from 'lodash-es';\n```\n\n**Dynamic Imports:**\n\n```tsx\n// Lazy load –±–∏–±–ª–∏–æ—Ç–µ–∫\nfunction Editor() {\n  const [Monaco, setMonaco] = useState(null);\n\n  useEffect(() => {\n    import('monaco-editor').then(monaco => {\n      setMonaco(monaco);\n    });\n  }, []);\n\n  if (!Monaco) return <Spinner />;\n  \n  return <MonacoEditor />;\n}\n```\n\n**–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π:**\n\n```bash\n# –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ª–µ–≥–∫–æ–≤–µ—Å–Ω—ã–µ –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤—ã\nmoment (288 KB) ‚Üí dayjs (7 KB)\nlodash (70 KB) ‚Üí lodash-es (tree-shakeable)\naxios (13 KB) ‚Üí fetch API (native)\n\n# Bundle Phobia –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞\nhttps://bundlephobia.com\n```\n\n",
          "best_practices": [
            "React.memo",
            "Virtual DOM & Reconciliation",
            "Bundle Optimization",
            "Keys –≤ —Å–ø–∏—Å–∫–∞—Ö",
            "React DevTools Profiler",
            "Web Vitals",
            "Virtualization (react-window)",
            "Performance Anti-patterns",
            "Debouncing/Throttling",
            "Image Optimization"
          ],
          "difficulty": "Senior"
        }
      ]
    },
    {
      "chapter_number": 6,
      "chapter_title": "Routing & Navigation",
      "questions_count": 1,
      "questions": [
        {
          "question_number": 53,
          "question_number_in_chapter": 1,
          "question_chapter": 6,
          "question_title": "React Router v6 - –æ—Å–Ω–æ–≤—ã, –æ—Ç–ª–∏—á–∏—è –æ—Ç v5.",
          "answer_markdown": "\n**–û—Ç–≤–µ—Ç:**\n\n**React Router v6** - –¥–µ–∫–ª–∞—Ä–∞—Ç–∏–≤–Ω–∞—è –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—è –¥–ª—è React –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π.\n\n**–ë–∞–∑–æ–≤–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞:**\n\n```tsx\nimport { BrowserRouter, Routes, Route, Link, Navigate } from 'react-router-dom';\n\nfunction App() {\n  return (\n    <BrowserRouter>\n      <nav>\n        <Link to=\"/\">Home</Link>\n        <Link to=\"/about\">About</Link>\n        <Link to=\"/users/123\">User</Link>\n      </nav>\n\n      <Routes>\n        <Route path=\"/\" element={<Home />} />\n        <Route path=\"/about\" element={<About />} />\n        <Route path=\"/users/:id\" element={<User />} />\n        <Route path=\"*\" element={<NotFound />} />\n      </Routes>\n    </BrowserRouter>\n  );\n}\n```\n\n**Hooks:**\n\n```tsx\nimport { useParams, useNavigate, useLocation, useSearchParams } from 'react-router-dom';\n\nfunction User() {\n  // URL –ø–∞—Ä–∞–º–µ—Ç—Ä—ã\n  const { id } = useParams<{ id: string }>();\n  \n  // –ù–∞–≤–∏–≥–∞—Ü–∏—è\n  const navigate = useNavigate();\n  const goBack = () => navigate(-1);\n  const goToUser = (userId: string) => navigate(`/users/${userId}`);\n  \n  // –¢–µ–∫—É—â–∏–π location\n  const location = useLocation();\n  console.log(location.pathname, location.search, location.state);\n  \n  // Query parameters\n  const [searchParams, setSearchParams] = useSearchParams();\n  const page = searchParams.get('page') || '1';\n  const setPage = (p: number) => setSearchParams({ page: p.toString() });\n\n  return <div>User {id}, Page {page}</div>;\n}\n```\n\n**Nested Routes:**\n\n```tsx\nfunction App() {\n  return (\n    <Routes>\n      <Route path=\"/\" element={<Layout />}>\n        <Route index element={<Home />} />\n        <Route path=\"about\" element={<About />} />\n        <Route path=\"users\" element={<Users />}>\n          <Route index element={<UserList />} />\n          <Route path=\":id\" element={<UserDetail />} />\n        </Route>\n      </Route>\n    </Routes>\n  );\n}\n\nfunction Layout() {\n  return (\n    <div>\n      <Header />\n      <Outlet /> {/* –†–µ–Ω–¥–µ—Ä–∏—Ç –≤–ª–æ–∂–µ–Ω–Ω—ã–µ routes */}\n      <Footer />\n    </div>\n  );\n}\n```\n\n**Protected Routes:**\n\n```tsx\nfunction ProtectedRoute({ children }: { children: React.ReactNode }) {\n  const { user } = useAuth();\n  const location = useLocation();\n\n  if (!user) {\n    return <Navigate to=\"/login\" state={{ from: location }} replace />;\n  }\n\n  return <>{children}</>;\n}\n\n// –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ\n<Route\n  path=\"/dashboard\"\n  element={\n    <ProtectedRoute>\n      <Dashboard />\n    </ProtectedRoute>\n  }\n/>\n```\n\n**–û—Ç–ª–∏—á–∏—è v6 –æ—Ç v5:**\n\n| v5 | v6 |\n|----|-----|\n| `<Switch>` | `<Routes>` |\n| `component={Home}` | `element={<Home />}` |\n| `useHistory()` | `useNavigate()` |\n| `useRouteMatch()` | `useMatch()` |\n| `<Redirect>` | `<Navigate>` |\n| `exact` prop | –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ |\n\n\n### –í–æ–ø—Ä–æ—Å—ã 54-58 (–∫–æ–º–ø–∞–∫—Ç–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç):\n\n**–í–æ–ø—Ä–æ—Å 54: Programmatic Navigation**\n\n```tsx\nconst navigate = useNavigate();\n\n// –ü—Ä–æ—Å—Ç–∞—è –Ω–∞–≤–∏–≥–∞—Ü–∏—è\nnavigate('/dashboard');\n\n// –° state\nnavigate('/profile', { state: { from: '/dashboard' } });\n\n// –û—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–∞—è\nnavigate('../users');\n\n// –ó–∞–º–µ–Ω–∞ –≤ –∏—Å—Ç–æ—Ä–∏–∏\nnavigate('/login', { replace: true });\n\n// –ù–∞–∑–∞–¥/–í–ø–µ—Ä–µ–¥\nnavigate(-1); // back\nnavigate(1);  // forward\n```\n\n**–í–æ–ø—Ä–æ—Å 55: Lazy Loading Routes**\n\n```tsx\nimport { lazy, Suspense } from 'react';\n\nconst Dashboard = lazy(() => import('./pages/Dashboard'));\nconst Settings = lazy(() => import('./pages/Settings'));\n\nfunction App() {\n  return (\n    <Routes>\n      <Route\n        path=\"/dashboard\"\n        element={\n          <Suspense fallback={<PageLoader />}>\n            <Dashboard />\n          </Suspense>\n        }\n      />\n      <Route\n        path=\"/settings\"\n        element={\n          <Suspense fallback={<PageLoader />}>\n            <Settings />\n          </Suspense>\n        }\n      />\n    </Routes>\n  );\n}\n```\n\n**–í–æ–ø—Ä–æ—Å 56: Data Loading (React Router 6.4+)**\n\n```tsx\nimport { createBrowserRouter, RouterProvider, useLoaderData } from 'react-router-dom';\n\n// Loader function\nasync function userLoader({ params }: { params: any }) {\n  const response = await fetch(`/api/users/${params.id}`);\n  return await response.json();\n}\n\nconst router = createBrowserRouter([\n  {\n    path: '/users/:id',\n    element: <User />,\n    loader: userLoader\n  }\n]);\n\nfunction User() {\n  const user = useLoaderData() as User; // –î–∞–Ω–Ω—ã–µ –¥–æ—Å—Ç—É–ø–Ω—ã —Å—Ä–∞–∑—É\n  return <div>{user.name}</div>;\n}\n\nfunction App() {\n  return <RouterProvider router={router} />;\n}\n```\n\n**–í–æ–ø—Ä–æ—Å 57: Actions & Forms (React Router 6.4+)**\n\n```tsx\nimport { Form, useActionData, redirect } from 'react-router-dom';\n\nasync function createUserAction({ request }: { request: Request }) {\n  const formData = await request.formData();\n  const name = formData.get('name') as string;\n  \n  await fetch('/api/users', {\n    method: 'POST',\n    body: JSON.stringify({ name })\n  });\n  \n  return redirect('/users');\n}\n\nconst router = createBrowserRouter([\n  {\n    path: '/users/new',\n    element: <CreateUser />,\n    action: createUserAction\n  }\n]);\n\nfunction CreateUser() {\n  const actionData = useActionData();\n  \n  return (\n    <Form method=\"post\">\n      <input name=\"name\" required />\n      {actionData?.error && <span>{actionData.error}</span>}\n      <button type=\"submit\">Create</button>\n    </Form>\n  );\n}\n```\n\n**–í–æ–ø—Ä–æ—Å 58: Route Matching & Patterns**\n\n```tsx\n// –¢–æ—á–Ω–æ–µ —Å–æ–≤–ø–∞–¥–µ–Ω–∏–µ\n<Route path=\"/users\" />\n\n// URL –ø–∞—Ä–∞–º–µ—Ç—Ä—ã\n<Route path=\"/users/:id\" />\n<Route path=\"/posts/:category/:slug\" />\n\n// Optional –ø–∞—Ä–∞–º–µ—Ç—Ä—ã\n<Route path=\"/users/:id?\" />\n\n// Wildcard\n<Route path=\"/files/*\" />\n\n// Index route\n<Route index element={<Home />} />\n\n// Catch-all\n<Route path=\"*\" element={<NotFound />} />\n```\n\n\n",
          "best_practices": [],
          "difficulty": "Senior"
        }
      ]
    },
    {
      "chapter_number": 7,
      "chapter_title": "Forms & Validation",
      "questions_count": 1,
      "questions": [
        {
          "question_number": 59,
          "question_number_in_chapter": 1,
          "question_chapter": 7,
          "question_title": "Controlled vs Uncontrolled Forms - –∫–æ–≥–¥–∞ —á—Ç–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å.",
          "answer_markdown": "\n**–û—Ç–≤–µ—Ç:**\n\n**Controlled Components** - React –∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä—É–µ—Ç –∑–Ω–∞—á–µ–Ω–∏–µ —á–µ—Ä–µ–∑ state.\n**Uncontrolled Components** - DOM –∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä—É–µ—Ç –∑–Ω–∞—á–µ–Ω–∏–µ.\n\n**Controlled (recommended):**\n\n```tsx\nfunction ControlledForm() {\n  const [email, setEmail] = useState('');\n  const [password, setPassword] = useState('');\n  \n  const handleSubmit = (e: React.FormEvent) => {\n    e.preventDefault();\n    login({ email, password });\n  };\n\n  return (\n    <form onSubmit={handleSubmit}>\n      <input\n        value={email}\n        onChange={e => setEmail(e.target.value)}\n      />\n      <input\n        type=\"password\"\n        value={password}\n        onChange={e => setPassword(e.target.value)}\n      />\n      <button type=\"submit\">Login</button>\n    </form>\n  );\n}\n```\n\n**Uncontrolled (–¥–ª—è –ø—Ä–æ—Å—Ç—ã—Ö —Å–ª—É—á–∞–µ–≤):**\n\n```tsx\nfunction UncontrolledForm() {\n  const emailRef = useRef<HTMLInputElement>(null);\n  const passwordRef = useRef<HTMLInputElement>(null);\n\n  const handleSubmit = (e: React.FormEvent) => {\n    e.preventDefault();\n    const email = emailRef.current?.value;\n    const password = passwordRef.current?.value;\n    login({ email, password });\n  };\n\n  return (\n    <form onSubmit={handleSubmit}>\n      <input ref={emailRef} defaultValue=\"\" />\n      <input ref={passwordRef} type=\"password\" />\n      <button type=\"submit\">Login</button>\n    </form>\n  );\n}\n```\n\n\n### –í–æ–ø—Ä–æ—Å—ã 60-64 (–∫–æ–º–ø–∞–∫—Ç–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç):\n\n**–í–æ–ø—Ä–æ—Å 60: React Hook Form**\n\n```tsx\nimport { useForm } from 'react-hook-form';\n\ntype FormData = {\n  email: string;\n  password: string;\n};\n\nfunction LoginForm() {\n  const { register, handleSubmit, formState: { errors } } = useForm<FormData>();\n\n  const onSubmit = (data: FormData) => {\n    login(data);\n  };\n\n  return (\n    <form onSubmit={handleSubmit(onSubmit)}>\n      <input\n        {...register('email', {\n          required: 'Email is required',\n          pattern: {\n            value: /^[A-Z0-9._%+-]+@[A-Z0-9.-]+\\.[A-Z]{2,}$/i,\n            message: 'Invalid email'\n          }\n        })}\n      />\n      {errors.email && <span>{errors.email.message}</span>}\n      \n      <input\n        type=\"password\"\n        {...register('password', {\n          required: 'Password is required',\n          minLength: {\n            value: 8,\n            message: 'Password must be at least 8 characters'\n          }\n        })}\n      />\n      {errors.password && <span>{errors.password.message}</span>}\n      \n      <button type=\"submit\">Login</button>\n    </form>\n  );\n}\n```\n\n**–í–æ–ø—Ä–æ—Å 61: Formik**\n\n```tsx\nimport { Formik, Form, Field, ErrorMessage } from 'formik';\nimport * as Yup from 'yup';\n\nconst schema = Yup.object({\n  email: Yup.string().email('Invalid email').required('Required'),\n  password: Yup.string().min(8, 'Too short').required('Required')\n});\n\nfunction LoginForm() {\n  return (\n    <Formik\n      initialValues={{ email: '', password: '' }}\n      validationSchema={schema}\n      onSubmit={values => login(values)}\n    >\n      <Form>\n        <Field name=\"email\" type=\"email\" />\n        <ErrorMessage name=\"email\" component=\"span\" />\n        \n        <Field name=\"password\" type=\"password\" />\n        <ErrorMessage name=\"password\" component=\"span\" />\n        \n        <button type=\"submit\">Login</button>\n      </Form>\n    </Formik>\n  );\n}\n```\n\n**–í–æ–ø—Ä–æ—Å 62: Custom Form Hook**\n\n```tsx\nfunction useForm<T>(initialValues: T, validate: (values: T) => Partial<Record<keyof T, string>>) {\n  const [values, setValues] = useState(initialValues);\n  const [errors, setErrors] = useState<Partial<Record<keyof T, string>>>({});\n  const [touched, setTouched] = useState<Partial<Record<keyof T, boolean>>>({});\n\n  const handleChange = (name: keyof T) => (e: React.ChangeEvent<HTMLInputElement>) => {\n    setValues({ ...values, [name]: e.target.value });\n  };\n\n  const handleBlur = (name: keyof T) => () => {\n    setTouched({ ...touched, [name]: true });\n    const validationErrors = validate(values);\n    setErrors(validationErrors);\n  };\n\n  const handleSubmit = (onSubmit: (values: T) => void) => (e: React.FormEvent) => {\n    e.preventDefault();\n    const validationErrors = validate(values);\n    \n    if (Object.keys(validationErrors).length === 0) {\n      onSubmit(values);\n    } else {\n      setErrors(validationErrors);\n    }\n  };\n\n  return { values, errors, touched, handleChange, handleBlur, handleSubmit };\n}\n```\n\n**–í–æ–ø—Ä–æ—Å 63: File Upload**\n\n```tsx\nfunction FileUpload() {\n  const [file, setFile] = useState<File | null>(null);\n  const [preview, setPreview] = useState<string>('');\n\n  const handleFileChange = (e: React.ChangeEvent<HTMLInputElement>) => {\n    const selectedFile = e.target.files?.[0];\n    if (selectedFile) {\n      setFile(selectedFile);\n      const reader = new FileReader();\n      reader.onloadend = () => {\n        setPreview(reader.result as string);\n      };\n      reader.readAsDataURL(selectedFile);\n    }\n  };\n\n  const handleUpload = async () => {\n    if (!file) return;\n    \n    const formData = new FormData();\n    formData.append('file', file);\n    \n    await fetch('/api/upload', {\n      method: 'POST',\n      body: formData\n    });\n  };\n\n  return (\n    <div>\n      <input type=\"file\" onChange={handleFileChange} accept=\"image/*\" />\n      {preview && <img src={preview} alt=\"Preview\" />}\n      <button onClick={handleUpload} disabled={!file}>Upload</button>\n    </div>\n  );\n}\n```\n\n**–í–æ–ø—Ä–æ—Å 64: Multi-step Form**\n\n```tsx\nfunction MultiStepForm() {\n  const [step, setStep] = useState(1);\n  const [formData, setFormData] = useState({\n    name: '',\n    email: '',\n    address: ''\n  });\n\n  const updateFields = (fields: Partial<typeof formData>) => {\n    setFormData(prev => ({ ...prev, ...fields }));\n  };\n\n  const handleSubmit = (e: React.FormEvent) => {\n    e.preventDefault();\n    if (step < 3) {\n      setStep(step + 1);\n    } else {\n      submitForm(formData);\n    }\n  };\n\n  return (\n    <form onSubmit={handleSubmit}>\n      {step === 1 && (\n        <input\n          value={formData.name}\n          onChange={e => updateFields({ name: e.target.value })}\n        />\n      )}\n      \n      {step === 2 && (\n        <input\n          value={formData.email}\n          onChange={e => updateFields({ email: e.target.value })}\n        />\n      )}\n      \n      {step === 3 && (\n        <input\n          value={formData.address}\n          onChange={e => updateFields({ address: e.target.value })}\n        />\n      )}\n      \n      <button type=\"button\" onClick={() => setStep(step - 1)} disabled={step === 1}>\n        Back\n      </button>\n      <button type=\"submit\">\n        {step === 3 ? 'Submit' : 'Next'}\n      </button>\n    </form>\n  );\n}\n```\n\n\n",
          "best_practices": [],
          "difficulty": "Senior"
        }
      ]
    },
    {
      "chapter_number": 8,
      "chapter_title": "Testing",
      "questions_count": 1,
      "questions": [
        {
          "question_number": 65,
          "question_number_in_chapter": 1,
          "question_chapter": 8,
          "question_title": "React Testing Library - —Ñ–∏–ª–æ—Å–æ—Ñ–∏—è –∏ best practices.",
          "answer_markdown": "\n**–û—Ç–≤–µ—Ç:**\n\n**React Testing Library** - –±–∏–±–ª–∏–æ—Ç–µ–∫–∞ –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è React –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤, —Ñ–æ–∫—É—Å–∏—Ä—É—é—â–∞—è—Å—è –Ω–∞ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–º –æ–ø—ã—Ç–µ.\n\n**–§–∏–ª–æ—Å–æ—Ñ–∏—è:**\n\n```tsx\n// ‚ùå –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ implementation details\ntest('counter increments', () => {\n  const { result } = renderHook(() => useState(0));\n  act(() => {\n    result.current[1](1);\n  });\n  expect(result.current[0]).toBe(1);\n});\n\n// ‚úÖ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ–≤–µ–¥–µ–Ω–∏—è\ntest('counter increments when button clicked', () => {\n  render(<Counter />);\n  const button = screen.getByRole('button', { name: /increment/i });\n  fireEvent.click(button);\n  expect(screen.getByText(/count: 1/i)).toBeInTheDocument();\n});\n```\n\n**–ë–∞–∑–æ–≤—ã–π —Ç–µ—Å—Ç:**\n\n```tsx\nimport { render, screen, fireEvent } from '@testing-library/react';\nimport userEvent from '@testing-library/user-event';\n\ntest('login form submits with credentials', async () => {\n  const handleSubmit = jest.fn();\n  render(<LoginForm onSubmit={handleSubmit} />);\n  \n  // –ù–∞–π—Ç–∏ —ç–ª–µ–º–µ–Ω—Ç—ã –ø–æ —Ä–æ–ª–∏\n  const emailInput = screen.getByRole('textbox', { name: /email/i });\n  const passwordInput = screen.getByLabelText(/password/i);\n  const submitButton = screen.getByRole('button', { name: /login/i });\n  \n  // –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è\n  await userEvent.type(emailInput, 'user@example.com');\n  await userEvent.type(passwordInput, 'password123');\n  await userEvent.click(submitButton);\n  \n  // –ü—Ä–æ–≤–µ—Ä–∫–∏\n  expect(handleSubmit).toHaveBeenCalledWith({\n    email: 'user@example.com',\n    password: 'password123'\n  });\n});\n```\n\n\n### –í–æ–ø—Ä–æ—Å—ã 66-70 (–∫–æ–º–ø–∞–∫—Ç–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç):\n\n**–í–æ–ø—Ä–æ—Å 66: Async Testing**\n\n```tsx\ntest('loads and displays user', async () => {\n  render(<UserProfile userId=\"123\" />);\n  \n  // –û–∂–∏–¥–∞–µ–º –ø–æ—è–≤–ª–µ–Ω–∏—è —ç–ª–µ–º–µ–Ω—Ç–∞\n  const userName = await screen.findByText(/john doe/i);\n  expect(userName).toBeInTheDocument();\n  \n  // –û–∂–∏–¥–∞–µ–º –∏—Å—á–µ–∑–Ω–æ–≤–µ–Ω–∏—è loading\n  expect(screen.queryByText(/loading/i)).not.toBeInTheDocument();\n});\n\ntest('handles error', async () => {\n  server.use(\n    rest.get('/api/user', (req, res, ctx) => {\n      return res(ctx.status(500));\n    })\n  );\n  \n  render(<UserProfile userId=\"123\" />);\n  \n  const error = await screen.findByText(/error loading user/i);\n  expect(error).toBeInTheDocument();\n});\n```\n\n**–í–æ–ø—Ä–æ—Å 67: Mocking & MSW**\n\n```tsx\nimport { rest } from 'msw';\nimport { setupServer } from 'msw/node';\n\nconst server = setupServer(\n  rest.get('/api/user', (req, res, ctx) => {\n    return res(\n      ctx.json({\n        id: '1',\n        name: 'John Doe'\n      })\n    );\n  })\n);\n\nbeforeAll(() => server.listen());\nafterEach(() => server.resetHandlers());\nafterAll(() => server.close());\n\ntest('displays user name', async () => {\n  render(<UserProfile userId=\"1\" />);\n  expect(await screen.findByText('John Doe')).toBeInTheDocument();\n});\n```\n\n**–í–æ–ø—Ä–æ—Å 68: Testing Custom Hooks**\n\n```tsx\nimport { renderHook, waitFor } from '@testing-library/react';\n\ntest('useCounter increments', () => {\n  const { result } = renderHook(() => useCounter());\n  \n  expect(result.current.count).toBe(0);\n  \n  act(() => {\n    result.current.increment();\n  });\n  \n  expect(result.current.count).toBe(1);\n});\n\ntest('useFetch loads data', async () => {\n  const { result } = renderHook(() => useFetch('/api/data'));\n  \n  expect(result.current.loading).toBe(true);\n  \n  await waitFor(() => {\n    expect(result.current.loading).toBe(false);\n  });\n  \n  expect(result.current.data).toBeDefined();\n});\n```\n\n**–í–æ–ø—Ä–æ—Å 69: Integration Tests**\n\n```tsx\ntest('complete user flow', async () => {\n  render(<App />);\n  \n  // Navigate to registration\n  await userEvent.click(screen.getByRole('link', { name: /sign up/i }));\n  \n  // Fill form\n  await userEvent.type(screen.getByLabelText(/email/i), 'user@example.com');\n  await userEvent.type(screen.getByLabelText(/password/i), 'password123');\n  await userEvent.click(screen.getByRole('button', { name: /register/i }));\n  \n  // Check redirect to dashboard\n  expect(await screen.findByText(/welcome/i)).toBeInTheDocument();\n  expect(screen.getByRole('heading', { name: /dashboard/i })).toBeInTheDocument();\n});\n```\n\n**–í–æ–ø—Ä–æ—Å 70: Snapshot Testing**\n\n```tsx\nimport renderer from 'react-test-renderer';\n\ntest('UserCard matches snapshot', () => {\n  const user = { id: '1', name: 'John', email: 'john@example.com' };\n  const tree = renderer.create(<UserCard user={user} />).toJSON();\n  expect(tree).toMatchSnapshot();\n});\n\n// ‚ö†Ô∏è –ò—Å–ø–æ–ª—å–∑—É–π—Ç–µ —É–º–µ—Ä–µ–Ω–Ω–æ\n// Snapshot tests —Ö—Ä—É–ø–∫–∏–µ –∏ –Ω–µ —Ç–µ—Å—Ç–∏—Ä—É—é—Ç –ø–æ–≤–µ–¥–µ–Ω–∏–µ\n// –õ—É—á—à–µ –¥–ª—è:\n// - Static components (icons, layouts)\n// - Error messages\n// - Styled components\n```\n\n\n**üéâ React Developer Guide –ó–ê–í–ï–†–®–Å–ù!**\n\n**–ò—Ç–æ–≥–æ–≤–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞:**\n- **–í—Å–µ–≥–æ –≤–æ–ø—Ä–æ—Å–æ–≤:** 70\n- **–°–µ–∫—Ü–∏–∏:** 8\n  1. React Core & Fundamentals (10)\n  2. Hooks (12)\n  3. Advanced Patterns (10)\n  4. State Management (10)\n  5. Performance & Optimization (10)\n  6. Routing & Navigation (6)\n  7. Forms & Validation (6)\n  8. Testing (6)\n\n**–£—Ä–æ–≤–µ–Ω—å:** Senior React Developer\n**–§–æ—Ä–º–∞—Ç:** –í–æ–ø—Ä–æ—Å—ã —Å –¥–µ—Ç–∞–ª—å–Ω—ã–º–∏ –æ—Ç–≤–µ—Ç–∞–º–∏, –ø—Ä–∏–º–µ—Ä–∞–º–∏ –∫–æ–¥–∞, best practices\n**–Ø–∑—ã–∫:** –†—É—Å—Å–∫–∏–π\n\n\n## –ó–∞–∫–ª—é—á–µ–Ω–∏–µ –∏ —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏\n\n### –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –∫ –∏–Ω—Ç–µ—Ä–≤—å—é:\n\n1. **–ü–æ–≤—Ç–æ—Ä–∏—Ç–µ –æ—Å–Ω–æ–≤—ã:**\n   - Virtual DOM –∏ reconciliation\n   - Lifecycle –∏ Hooks\n   - Props vs State\n   - Context API\n\n2. **–ü—Ä–∞–∫—Ç–∏–∫—É–π—Ç–µ—Å—å:**\n   - Live coding –∑–∞–¥–∞—á–∏\n   - –°–∏—Å—Ç–µ–º–Ω—ã–π –¥–∏–∑–∞–π–Ω React –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π\n   - –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏\n   - –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤\n\n3. **–ò–∑—É—á–∏—Ç–µ —ç–∫–æ—Å–∏—Å—Ç–µ–º—É:**\n   - Redux Toolkit / Zustand\n   - React Query\n   - React Router\n   - Testing Library\n\n4. **–ë—É–¥—å—Ç–µ –≥–æ—Ç–æ–≤—ã –∫:**\n   - –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω—ã–º –≤–æ–ø—Ä–æ—Å–∞–º\n   - –û–±—Å—É–∂–¥–µ–Ω–∏—é trade-offs\n   - Code review\n   - Debugging —Å—Ü–µ–Ω–∞—Ä–∏—è–º\n\n### –ü–æ–ª–µ–∑–Ω—ã–µ —Ä–µ—Å—É—Ä—Å—ã:\n\n- **–û—Ñ–∏—Ü–∏–∞–ª—å–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è:** https://react.dev\n- **React DevTools:** –î–ª—è –ø—Ä–æ—Ñ–∏–ª–∏—Ä–æ–≤–∞–Ω–∏—è –∏ –æ—Ç–ª–∞–¥–∫–∏\n- **TypeScript Handbook:** https://www.typescriptlang.org/docs\n- **State Management:** Redux, Zustand, Jotai –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è\n- **Testing:** React Testing Library, Jest, MSW\n\n**–£—Å–ø–µ—Ö–æ–≤ –Ω–∞ –∏–Ω—Ç–µ—Ä–≤—å—é! üöÄ**\n\n\n",
          "best_practices": [],
          "difficulty": "Senior"
        }
      ]
    }
  ],
  "guide_conclusion": {
    "key_topics_markdown": "",
    "recommendations_markdown": "",
    "useful_resources": []
  }
}